@model Models.AffiliationNested
@{
    ViewBag.Title = "ActiveDeactiveShift";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

@*KUSUMA CHANGES DOING*@ 
<style>
    .table > thead:first-child > tr:first-child > th, .table > caption + thead > tr:first-child > td, .table > colgroup + thead > tr:first-child > td, .table > thead:first-child > tr:first-child > td {
        border-top: 0;
        text-align: center;
        width: 5%;
    }

    input[type=text], input[type=password] {
        width: 100px !important;
        padding: 12px 20px;
        margin: 8px 0;
        display: inline-block;
        border: 1px solid #ccc;
        box-sizing: border-box;
    }

    .form-control[disabled], .form-control[readonly], fieldset[disabled] .form-control {
        background-color: #eee;
        opacity: 1;
        width: 120px !important;
    }
</style>
<link href="~/Content/frontend/css/style1.css" rel="stylesheet" />
@*@if (Session["UserId"].Equals((int)Models.Affiliation.CsystemType.getCommon.CaseWorker))*@
<div style="padding-bottom:40px"></div>
<ul class="nav nav-tabs font">
    @if (Convert.ToInt32(Session["RoleId"]) == (int)Models.Affiliation.CsystemType.getCommon.CaseWorker)


    {
        <li>
            <a href="#tab_1" id="tab1" class="tab-1" data-toggle="tab">Update Active/DeActive Unit-Trade Details</a>
        </li>

        <li>
            <a href="#tab_3" id="tab3" class="tab-3" data-toggle="tab">View Active/De-active unit wise Trade Status</a>
        </li>

    }
    else if (Convert.ToInt32(Session["RoleId"]) == (int)Models.Affiliation.CsystemType.getCommon.ITIAdmin)
    {
        <li>
            <a href="#tab_5" id="tab1" class="tab-1" data-toggle="tab">View Active/De-active unit wise Trade Status</a>
        </li>

    }
    else if (Convert.ToInt32(Session["RoleId"]) == (int)Models.Affiliation.CsystemType.getCommon.OFFICE_SUPERINTENDENT)
    {
        <li>
            <a href="#tab_2" id="tab2" class="tab-2" data-toggle="tab">Review Unit Active-DeActive Trades Details</a>
        </li>
        <li>
            <a href="#tab_3" id="tab3" class="tab-3" data-toggle="tab">View Active/De active unit wise trade detail status</a>
        </li>
    }
    else if (Convert.ToInt32(Session["RoleId"]) == (int)Models.Affiliation.CsystemType.getCommon.Assistant_Director)
    {
        <li>
            <a href="#tab_2" id="tab2" class="tab-2" data-toggle="tab">Review and Approve Active/DeActive Unit-Trade details</a>
        </li>
        <li>
            <a href="#tab_3" id="tab3" class="tab-3" data-toggle="tab">View Active/De active unit wise trade detail status</a>
        </li>

    }
    else if (Convert.ToInt32(Session["RoleId"]) == (int)Models.Affiliation.CsystemType.getCommon.Deputy_Director)
    {
        <li>
            <a href="#tab_2" id="tab2" class="tab-2" data-toggle="tab">Review and Approve Active/Deactive Unit-Trade Details </a>
        </li>
        <li>
            <a href="#tab_3" id="tab3" class="tab-3" data-toggle="tab">View Active/De active unit wise trade detail status </a>
        </li>
        @*<li>
                <a href="#tab_6" id="tab6" class="tab-3" data-toggle="tab">View Active/De-active unit wise Trade Status For Publish</a>
            </li>*@
    }
    else if (Convert.ToInt32(Session["RoleId"]) == (int)Models.Affiliation.CsystemType.getCommon.Commissioner || Convert.ToInt32(Session["RoleId"]) == (int)Models.Affiliation.CsystemType.getCommon.Joint_Director || Convert.ToInt32(Session["RoleId"]) == (int)Models.Affiliation.CsystemType.getCommon.Additional_Director)
    {

        <li>
            <a href="#tab_3" id="tab3" class="tab-3" data-toggle="tab">Review and Approve Active -Deactive Unit- Trade Details </a>
        </li>
        @*<li>
                <a href="#tab_6" id="tab6" class="tab-3" data-toggle="tab">View Active/De-active unit wise Trade Status For Publish</a>
            </li>*@
    }


</ul>


<div class="container-fluid font" style="background-color:white;box-shadow: 0 2px 4px rgba(0,0,0,0.6);padding:5px;border:1px solid black">

    <div class="tab-content">

        <div class="tab-pane fade" id="tab_1">
            <div class="row">
                <div class="col-lg-12">
                </div>
            </div>

            <input type="hidden" id="hdnSession" data-value="@Request.RequestContext.HttpContext.Session["UserId"]" />
            @if (Convert.ToInt32(Session["RoleId"]) == (int)Models.Affiliation.CsystemType.getCommon.CaseWorker)
            {
                <div class="row">
                    <div class="form-group">
                        <div class="col-md-12" id="=tblGridUpdateTrade">

                            @*<h3 class="modal-title a1 head">Active And Deactive Units</h3>*@
                            @*<br /><br />*@

                            <div id="DistrictWiseFilter" class="form-group" style="padding:30px">
                                <h3 class="modal-title a2" style="background-color:#195c9f; color:white; text-align:center">Active-DeActive Trades</h3>
                                <br />
                                <div class="row a">
                                    <div class="col-lg-1">
                                        <label class="control-label" for="txtAgencyRegnNo">Course Type</label>
                                    </div>
                                    <div class="col-lg-2">
                                        <select class="form-control filter-change" id="CourseTypes">
                                            @*<option value="choose">Select</option>*@
                                        </select>
                                    </div>
                                    <div class="col-lg-1">
                                        <label for="txtAgencyRegnNo">Division</label>
                                    </div>
                                    <div class="col-lg-2">
                                        <select class="form-control filter-change" id="Divisions" onchange="GetDistrictList(this);">
                                            @*<option value="choose">Select</option>*@
                                        </select>
                                    </div>
                                    <div class="col-lg-1">
                                        <label for="txtAgencyRegnNo">District</label>
                                    </div>
                                    <div class="col-lg-2">
                                        <select class="form-control filter-change district" id="Districts">
                                            <option value="choose">Select</option>
                                        </select>
                                    </div>

                                </div>
                                <br />  <br />
                                <div class="col-lg-12" align="right">
                                    <a class=" btn btn-primary sendBtn3">Search</a>
                                    <a class=" btn btn-primary" onclick="cancelUpdateITIInstitute();">Cancel</a>
                                </div>
                            </div>

                            <div style="overflow-y:scroll" id="tblGridUpdateAffiliation_wrapper">
                                <table class="table table-bordered  table-hover" id="tblGridUpdateAffiliation1">
                                    <thead>
                                        <tr>
                                            <th>Sl.No.</th>
                                            <th>Course Type</th>
                                            <th>MIS ITI Code</th>
                                            <th>Institute Name</th>

                                            <th>Division</th>
                                            <th>District</th>
                                            <th>Trades</th>
                                            <th>Units</th>
                                            <th>Shift</th>
                                            <th>Unit Status</th>
                                            <th style="width: 116.6875px;">Trade current Status</th>
                                            <th style="width: 116.6875px;">Status - Currently With</th>

                                            @*<th>Upload Supporting document</th>
                                                <th>Approval Status</th>*@
                                            <th>Action</th>


                                        </tr>
                                    </thead>
                                    @if (Model.Cwunits_list != null)
                                    {
                                        <tbody>
                                            @for (var i = 0; i < Model.Cwunits_list.Count(); i++)
                                            {
                                                var FileUploadPathChk = Convert.ToString(Model.Cwunits_list[i].FileUploadPath);
                                                var statusidChk = Convert.ToString(Model.Cwunits_list[i].status_id);
                                                <tr>
                                                    <td></td>
                                                    <td>
                                                        @Html.DisplayFor(a => a.Cwunits_list[i].CourseType)
                                                    </td>
                                                    <td>
                                                        @Html.DisplayFor(a => a.Cwunits_list[i].miscode)
                                                    </td>
                                                    <td>
                                                        @Html.DisplayFor(a => a.Cwunits_list[i].iti_college)
                                                        @Html.HiddenFor(a => a.Cwunits_list[i].iti_college_id, new { @class = "iti_college_id" })
                                                        @Html.HiddenFor(a => a.Cwunits_list[i].Trade_ITI_id, new { @class = "trade_iti_id" })
                                                        @Html.HiddenFor(a => a.Cwunits_list[i].ITI_Trade_Shift_Id, new { @class = "ITI_Trade_Shift_Id" })
                                                    </td>

                                                    <td>
                                                        @Html.DisplayFor(a => a.Cwunits_list[i].Division)
                                                    </td>
                                                    <td>
                                                        @Html.DisplayFor(a => a.Cwunits_list[i].District)
                                                    </td>


                                                    <td>
                                                        @Html.DisplayFor(a => a.Cwunits_list[i].trades)
                                                    </td>
                                                    <td>
                                                        @Html.DisplayFor(a => a.Cwunits_list[i].units)
                                                    </td>
                                                    <td>
                                                        @Html.DisplayFor(a => a.Cwunits_list[i].Shifts)
                                                    </td>
                                                    <td style="width: 116.6875px;">
                                                        @if (Model.Cwunits_list[i].IsActive == true)
                                                        //if (Model.list1[i].ActiveDeActive == false)
                                                        {
                                                            <input type="text" id="Active_@Model.Cwunits_list[i].ITI_Trade_Shift_Id" value='Active' class="form-control" readonly="readonly" />

                                                            @*@Html.HiddenFor(a => a.list1[i].iti_college_id, new { @class = "collegeId" })*@
                                                        }
                                                        else
                                                        {
                                                            <input type="text" id="Deactive_@Model.Cwunits_list[i].ITI_Trade_Shift_Id" value='Deactive' class="form-control" readonly="readonly" />
                                                            @*<input type="text" id="DeActive_@Model.list1[i].Trade_ITI_id" value='Deactive' class="btn btn-primary statusbtn" onclick="SaveActivedeactiveupdate(this);" />*@
                                                            @*@Html.HiddenFor(a => a.list1[i].iti_college_id, new { @class = "collegeId" })*@
                                                        }
                                                    </td>

                                                    <td style="width: 116.6875px;">
                                                        @if (Model.Cwunits_list[i].IsActive1 == true)
                                                        //if (Model.list1[i].ActiveDeActive == false)

                                                        {
                                                            <input type="text" id="Active_@Model.Cwunits_list[i].Trade_ITI_id" value='Active' class="form-control" readonly="readonly" />

                                                            @*@Html.HiddenFor(a => a.list1[i].iti_college_id, new { @class = "collegeId" })*@
                                                        }
                                                        else
                                                        {
                                                            <input type="text" id="Deactive_@Model.Cwunits_list[i].Trade_ITI_id" value='Deactive' class="form-control" readonly="readonly" />
                                                            @*<input type="text" id="DeActive_@Model.list1[i].Trade_ITI_id" value='Deactive' class="btn btn-primary statusbtn" onclick="SaveActivedeactiveupdate(this);" />*@
                                                            @*@Html.HiddenFor(a => a.list1[i].iti_college_id, new { @class = "collegeId" })*@
                                                        }
                                                    </td>
                                                    <td>
                                                        @if (Model.Cwunits_list[i].StatusName != " - ")
                                                        {
                                                            @Html.DisplayFor(a => a.Cwunits_list[i].StatusName)
                                                        }

                                                    </td>


                                                    <td>

                                                        <input type="button" class="btn btn-primary" img src="@Url.Content("~/Content/img/pencil2.png")" id="Active1_@Model.Cwunits_list[i].ITI_Trade_Shift_Id" value='View' onclick="ViewTradeforactivedeactiveUnitwise(@Model.Cwunits_list[i].ITI_Trade_Shift_Id)" />
                                                    </td>
                                                    @*}
                                                        else
                                                        {
                                                            <td>

                                                            </td>
                                                        }*@
                                                </tr>
                                            }
                                        </tbody>
                                    }

                                </table>
                            </div>
                        </div>

                        @*test*@

                        <div id="Affiliation_view" style="display:none">
                            <div class="form-group" style="border:1px solid black;padding:20px">
                                <div class="row" style="padding:30px">
                                    <div class="card a5">
                                        <div class="card-body">

                                            <div class="panel panel-default">
                                                <div class="panel-heading">
                                                    <span>Institute Details</span>
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="col-md-2">
                                                    <label class="control-label">Name of ITI</label>
                                                </div>
                                                <div class="col-md-2">
                                                    <span class="text-name clear"></span>
                                                </div>

                                                <div class="col-md-2">
                                                    <label class="control-label">Type of ITI</label>
                                                </div>
                                                <div class="col-md-2">
                                                    <span class="text-type clear"></span>
                                                </div>
                                                <div class="col-md-2">
                                                    <label class="control-label">Course Type</label>
                                                </div>
                                                <div class="col-md-2">
                                                    <span class="text-course_name clear"></span>
                                                </div>
                                            </div>

                                            <div class="row">
                                                <div class="col-md-2">
                                                    <label class="control-label"> MIS ITI Code</label>
                                                </div>
                                                <div class="col-md-2">
                                                    <span class="text-mis clear"></span>
                                                </div>
                                                <div class="col-md-2">
                                                    <label class="control-label">Email Id</label>
                                                </div>
                                                <div class="col-md-2">
                                                    <span class="text-email clear"></span>
                                                </div>
                                                <div class="col-md-2">
                                                    <label class="control-label">Principal Phone Number</label>
                                                </div>
                                                <div class="col-md-2">
                                                    <span class="text-number clear"></span>
                                                </div>

                                            </div>
                                            <div class="row">
                                                <div class="col-md-2">
                                                    <label class="control-label">Date of Establishment</label>
                                                </div>
                                                <div class="col-md-2">
                                                    <span class="text-date clear"></span>
                                                    <input type="hidden" id="CollegeID" value="0" />
                                                    <input type="hidden" id="tradeID" value="0" />
                                                    <input type="hidden" id="TradeShiftId" value="0" />
                                                    <input type="hidden" id="Units" value="0" />
                                                    <input type="hidden" id="Shifts" value="0" />
                                                    <input type="hidden" id="IsActive" value="0" />
                                                    <input type="hidden" id="status" value="" />
                                                    <input type="hidden" id="extension" value="0" />
                                                    <input type="hidden" class="trades" id="trades" value="0" />
                                                </div>
                                                <div class="col-md-2">
                                                    <label class="control-label">Website</label>
                                                </div>
                                                <div class="col-md-2">
                                                    <span class="text-website clear"></span>
                                                </div>

                                            </div>

                                            @*<div class="col-md-2">
                                                <label class="control-label">Trade</label>*@
                                            @*<input type="hidden" id="CollegeID" value="0" />
                                                <input type="hidden" id="tradeID" value="0" />
                                                <input type="hidden" id="TradeShiftId" value="0" />
                                                <input type="hidden" id="Units" value="0" />
                                                <input type="hidden" id="Shifts" value="0" />
                                                <input type="hidden" id="IsActive" value="0" />*@
                                        </div>
                                        @*<div class="col-md-2">
                                                <span class="text-trade clear"></span>
                                            </div>*@
                                    </div>
                                    <div class="row">


                                    </div>



                                    <div class="panel panel-default">
                                        <div class="panel-heading">
                                            <span>Address Details</span>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-md-2">
                                            <label class="control-label">Address</label>
                                        </div>
                                        <div class="col-md-2">
                                            <span class="text-address clear"></span>
                                        </div>
                                        <div class="col-md-2">
                                            <label class="control-label">Location Type</label>
                                        </div>
                                        <div class="col-md-2">
                                            <span class="text-location clear"></span>
                                        </div>
                                        <div class="col-md-2">
                                            <label class="control-label">State</label>
                                        </div>
                                        <div class="col-md-2">
                                            <span class="clear">Karnataka</span>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-md-2">
                                            <label class="control-label">Division</label>
                                        </div>
                                        <div class="col-md-2">
                                            <span class="text-Division clear"></span>
                                        </div>
                                        <div class="col-md-2">
                                            <label class="control-label">District</label>
                                        </div>
                                        <div class="col-md-2">
                                            <span class="text-district clear"></span>
                                        </div>

                                        <div class="col-md-2">
                                            <label class="control-label">Taluka</label>
                                        </div>
                                        <div class="col-md-2">
                                            <span class="text-taluka clear"></span>
                                        </div>

                                    </div>

                                    <div class="row">
                                        <div class="col-md-2">
                                            <label class="control-label">constituency</label>
                                        </div>
                                        <div class="col-md-2">
                                            <span class="text-constituency clear"></span>
                                        </div>
                                        <div class="col-md-2">
                                            <label class="control-label">Build up Area</label>
                                        </div>
                                        <div class="col-md-2">
                                            <span class="text-build clear"></span>
                                        </div>
                                        <div class="col-md-2">
                                            <label class="control-label">Geo Location Latitude:,Longitude</label>
                                        </div>
                                        <div class="col-md-2">
                                            <span class="text-geo clear"></span>
                                        </div>

                                    </div>

                                    <div class="row">

                                        <div class="col-md-2">
                                            <label class="control-label">Pincode</label>

                                        </div>
                                        <div class="col-md-2">
                                            <span class="text-pincode clear"></span>
                                        </div>

                                        @*<div class="col-md-2">
                                                <label class="control-label">Shift</label>

                                            </div>
                                            <div class="col-md-2">
                                                <span class="text-shift clear"></span>
                                            </div>*@

                                    </div>

                                    <div class="panel panel-default">
                                        <div class="panel-heading">
                                            <span>Affiliation Details</span>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="row">
                                            <div class="col-md-2">
                                                <label class="control-label">Affiliation Order No</label>
                                            </div>
                                            <div class="col-md-2">
                                                <span class="text-AfflOrderNo clear"></span>
                                            </div>
                                            <div class="col-md-2">
                                                <label class="control-label">Affiliation Order date</label>
                                            </div>
                                            <div class="col-md-2">
                                                <span class="order_no_date clear"></span>
                                            </div>
                                            <div class="col-md-2">
                                                <label class="control-label">Scheme</label>
                                            </div>
                                            <div class="col-md-2">
                                                <span class="text-scheme_name clear"></span>
                                            </div>
                                        </div>
                                        <div class="row">

                                            <div class="col-md-2">
                                                <label class="modal-title deactivate"></label>
                                                <label class="modal-title activate"></label>
                                            </div>
                                            <div class="col-md-2 ">
                                                <input type="file" id="uploadfile" />
                                                <input type="file" id="uploadfileactive" />
                                                <p>File Size Max 200KB</p>
                                                <small class="text-danger" id="uploadfile_Required" style="display:none">file is required</small>
                                                @*<a class='btn btn-link' onclick="GetDownloadFileLink()">Download File</a>
        <input type="hidden" value="" id="DownloadFileLink" />*@
                                            </div>
                                            <div class="col-md-2" style="padding-left: 75px;">
                                                <label class="modal-title deactivateOrderlabel"></label>
                                                <label class="modal-title activateOrderlabel"></label>
                                            </div>
                                            <div class="col-md-2">
                                                <input type="text" id="deactivateOrderNo" />
                                                <input type="text" id="activateOrderNo" />
                                            </div>
                                            <div class="col-md-2">
                                                <label class="modal-title deactivateddatelabel"></label>
                                                <label class="modal-title activatedatelabel"></label>
                                            </div>
                                            <div class="col-md-2 ">
                                                <input type="text" id="newdeactivatedate" class="form-control update date" , autocomplete="off" , placeholder="dd/mm/yyyy" , style="cursor:text;" />
                                                <input type="text" id="newactivatedate" class="form-control update date" , autocomplete="off" , placeholder="dd/mm/yyyy" , style="cursor:text;" />
                                            </div>

                                            <div class="col-md-2">

                                            </div>
                                        </div>
                                        <div class="row">
                                            <table>
                                            </table>
                                        </div>

                                        <div class="row">
                                            <div class="col-md-2">

                                                <label class="modal-title Affiliationdoc"></label>
                                            </div>
                                            <div class="col-md-2 ">
                                                <a class='btn btn-link2 filealign1' id="Downloadffiliation" @*onclick="GetDownloadFileLinkForAffiliation()"*@>Download File</a>
                                                <input type="hidden" value="" id="DownloadFileLink3" />
                                                <span id="AffiliationFileName"></span>
                                            </div>
                                            <div>

                                            </div>
                                            @*<div class="col-md-2">
                                                    <label class="modal-title DeactiveDoc"></label>
                                                </div>
                                                <div class="col-md-2  ">
                                                    <a class='btn btn-link' id="Downloaddeactive" onclick="GetDownloadFileLink()"><img src='/Content/img/pdf_logo.png' height='40px' width='40px' /><span title="filename"></span></a>
                                                    <input type="hidden" value="" id="DownloadFileLink" />
                                                </div>
                                                <div class="col-md-2">
                                                    <label class="modal-title ActivateDoc"></label>
                                                </div>
                                                <div class="col-md-2 ">
                                                    <a class='btn btn-link1 ' id="Downloadactive" onclick="GetDownloadFileLinkForActive()"><img src='/Content/img/pdf_logo.png' height='40px' width='40px' /></a>
                                                    <input type="hidden" value="" id="DownloadFileLink2" />
                                                </div>*@

                                        </div>
                                        <div class="row">
                                            <div class="col-md-2">

                                            </div>
                                            <div class="col-md-2 ">

                                            </div>

                                            @*<div class="col-md-2">
                                                    <label class="modal-title DeactiveOrderNo"></label>
                                                </div>
                                                <div class="col-md-2 ">
                                                    <span class="text-DOrderNo clear"></span>
                                                </div>
                                                <div class="col-md-2">
                                                    <label class="modal-title ActiveOrderNo"></label>
                                                </div>
                                                <div class="col-md-2 ">
                                                    <span class="text-AOrderNo clear"></span>
                                                </div>*@

                                        </div>
                                        <div class="row">
                                            <div class="col-md-2">

                                            </div>
                                            <div class="col-md-2 ">

                                            </div>

                                            @*<div class="col-md-2">
                                                    <label class="modal-title NewDeactivedate"></label>
                                                </div>
                                                <div class="col-md-2 ">
                                                    <span class="text-Ddate clear"></span>
                                                </div>
                                                <div class="col-md-2">
                                                    <label class="modal-title NewActiveDate"></label>
                                                </div>
                                                <div class="col-md-2 ">
                                                    <span class="text-Adate clear"></span>
                                                </div>*@
                                        </div>

                                        <div class="row">
                                            <div class="col-md-12">
                                                <br />
                                                <table class="table table-bordered" id="tblAffiliationDoc">
                                                    <thead>
                                                        <tr>
                                                            <th>Sl No.</th>
                                                            <th>Active/De-Active Order Number</th>
                                                            <th>Active/De-Active Order Date</th>
                                                            <th>FileName</th>
                                                            <th>Document</th>
                                                            @* <th>Document For</th>*@

                                                        </tr>
                                                    </thead>
                                                    <tbody></tbody>
                                                </table>

                                            </div>


                                        </div>
                                    </div>
                                    <div class="panel panel-default">
                                        <div class="panel-heading">
                                            <span>Trade Details</span>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-md-2">
                                            <label class="control-label">Trade Name</label>
                                        </div>
                                        <div class="col-md-2">
                                            <span class="text-trades1 clear"></span>
                                        </div>
                                        <div class="col-md-2">
                                            <label class="control-label">Trade Code</label>
                                        </div>
                                        <div class="col-md-2">
                                            <span class="text-trade_code clear"></span>
                                        </div>
                                        <div class="col-md-2">
                                            <label class="control-label">Sector Name</label>
                                        </div>
                                        <div class="col-md-2">
                                            <span class="text-sector clear"></span>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-md-2">
                                            <label class="control-label">Batch Size</label>
                                        </div>
                                        <div class="col-md-2">
                                            <span class="text-batch_size clear"></span>
                                        </div>
                                        <div class="col-md-2">
                                            <label class="control-label">Trade Type</label>
                                        </div>
                                        <div class="col-md-2">
                                            <span class="text-trade_type clear"></span>
                                        </div>
                                        <div class="col-md-2">
                                            <label class="control-label">Duration</label>
                                        </div>
                                        <div class="col-md-2">
                                            <span class="text-duration clear"></span>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <h4 class="modal-title a1" style="color:#195c9f; text-align:center; font-weight:700"> Trade's Shifts Details</h4>
                                        <br />
                                        <div class="col-md-12">
                                            <table id="tblViewShift" class="table table-bordered">
                                                <thead>
                                                    <tr>
                                                        <th>Sl.No</th>
                                                        <th>Unit</th>
                                                        <th>Shift</th>
                                                        @*<th>Is PPP</th>
                                                            <th>Mode of Training</th>*@
                                                        <th>Status</th>
                                                    </tr>
                                                </thead>
                                                <tbody></tbody>
                                            </table>
                                        </div>

                                    </div>


                                    <div class="row"></div>
                                    <div class="row"></div>
                                    <div class="card">
                                        <div class="card-body border" style="padding:30px">

                                            <div class="row">
                                                <div class="col-md-1"></div>
                                                <div class="col-lg-2">
                                                    <label class="control-label">Action</label>
                                                </div>
                                                <div class="col-lg-3">
                                                    @*@if(Model.is)
                                                        {

                                                        }*@
                                                    <input type="button" id="Active" value='Active' class="btn btn-primary statusbtn" onclick="UpdateActivesttus(true,this.id);  " />

                                                    <input type="button" id="DeActive" value='Deactive' class="btn btn-primary statusbtn" onclick="UpdateActivesttus(false,this.id); " />
                                                    @*<p style="color:red">Pls select Active/De-Active</p>*@
                                                    @*@Html.HiddenFor(a => a.list1[i].iti_college_id, new { @class = "collegeId" })
                                                        onclick="activedeactivedisable();"*@
                                                </div>

                                                @if (Session["CollegeId"] == null)
                                                {
                                                    <div class="col-md-2">
                                                        <label class="control-label"> Send To:</label>
                                                    </div>
                                                    <div class="col-md-4">
                                                        <select id="dd-flow" class="form-control clear"></select>
                                                        <small class="text-danger" id="dd-flow_Required" style="display:none">Send To Field Required</small>

                                                    </div>
                                                }



                                                <div class="col-md-2" style="padding-top:50px">
                                                    <label class="control-label">Remarks</label>
                                                </div><div class="col-md-2" style="padding-top:50px">
                                                    <textarea id="Remarks" class="form-control clear" style="margin:-4px"></textarea>
                                                    @*<textarea id="Remarks" class="form-control clear"></textarea>*@
                                                    <small class="text-danger" id="Remarks_Required" style="display:none">Remark is remarks</small>
                                                </div>
                                                <div class="col-md-1"></div>
                                            </div>
                                            <div class="row">
                                                <div class="col-md-5"></div>
                                                <div class="col-md-2">
                                                    <input type="button" id="sed" class="btn btn-primary" value="Submit" onclick="SaveActivedeactiveUnitwiseupdate();" />
                                                    <input type="button" id="" class="btn btn-danger" value="Cancel" onclick="clearView();" />

                                                </div>
                                                <div class="col-md-5"></div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <input type="hidden" id="Trade_ITI_Id" value="" />
                            <div class="row col-md-12 a">


                                <input type="hidden" id="Trade_ITI_Id" value="" />
                                <br />
                                <br />


                                <div class="col-md-12" style="color:#195c9f; text-align:center">
                                    <h3 class="modal-title head1">Trade Active/DeActive History:</h3>

                                </div>
                                <br /><br />
                                <br />
                                <table class="table table-bordered" id="tblHistory">
                                    <thead>
                                        <tr>
                                            <th>Slno</th>
                                            <th>Date & time</th>
                                            <th>From</th>
                                            <th>To</th>
                                            <th>Remarks</th>
                                            <th>Status</th>
                                        </tr>
                                    </thead>
                                    <tbody></tbody>
                                </table>
                                @*</div>  *@
                            </div>
                        </div>
                    </div>
                </div>

                <div class="form-group">
                    <div class="col-md-2 row">
                        <div class="col-md-6">

                        </div>
                        <div class="col-md-6">

                        </div>
                    </div>
                </div>
            }

        </div>


        <div class="tab-pane fade" id="tab_5">
            <div class="row">
                <div class="col-lg-12">
                </div>
            </div>

            <input type="hidden" id="hdnSession" data-value="@Request.RequestContext.HttpContext.Session["UserId"]" />
            @if (Convert.ToInt32(Session["RoleId"]) == (int)Models.Affiliation.CsystemType.getCommon.ITIAdmin)
            {
                <div class="row">
                    <div class="form-group">
                        <div class="col-md-12" id="=tblGridUpdateTrade">


                            <div style="overflow-y:scroll" id="tblGridUpdateAffiliation_wrapper">
                                <table class="table table-bordered table-hover" id="tblGridUpdateAffiliation1">
                                    <thead>
                                        <tr>
                                            <th>Sl.No.</th>
                                            <th>Date</th>
                                            <th>Course Type</th>
                                            <th>MIS ITI Code</th>
                                            <th>Institute Name</th>
                                            <th>Address</th>
                                            <th>Division</th>
                                            <th>District</th>
                                            <th>Trades</th>
                                            <th>Units</th>
                                            <th>Shift</th>
                                            <th>Status - Currently With</th>
                                            <th>Unit Status</th>
                                            <th>Trade current Status</th>
                                            @*<th>Upload Supporting document</th>
                                                <th>Approval Status</th>*@
                                            <th>Action</th>


                                        </tr>
                                    </thead>
                                    @if (Model.adTrade_list != null)
                                    {
                                        <tbody>
                                            @for (var i = 0; i < Model.adTrade_list.Count(); i++)
                                            {
                                                var FileUploadPathChk = Convert.ToString(Model.adTrade_list[i].FileUploadPath);
                                                var statusidChk = Convert.ToString(Model.adTrade_list[i].status_id);
                                                <tr>
                                                    <td></td>
                                                    <td>
                                                        @Html.DisplayFor(a => a.adTrade_list[i].CreatedonOrderby)
                                                    </td>
                                                    <td>
                                                        @Html.DisplayFor(a => a.adTrade_list[i].CourseType)
                                                    </td>
                                                    <td>
                                                        @Html.DisplayFor(a => a.adTrade_list[i].miscode)
                                                    </td>
                                                    <td>
                                                        @Html.DisplayFor(a => a.adTrade_list[i].iti_college)
                                                        @Html.HiddenFor(a => a.adTrade_list[i].iti_college_id, new { @class = "iti_college_id" })
                                                        @Html.HiddenFor(a => a.adTrade_list[i].Trade_ITI_id, new { @class = "trade_iti_id" })
                                                        @Html.HiddenFor(a => a.adTrade_list[i].ITI_Trade_Shift_Id, new { @class = "ITI_Trade_Shift_Id" })
                                                    </td>
                                                    <td>
                                                        @Html.DisplayFor(a => a.adTrade_list[i].college_Address)
                                                    </td>
                                                    <td>
                                                        @Html.DisplayFor(a => a.adTrade_list[i].Division)
                                                    </td>
                                                    <td>
                                                        @Html.DisplayFor(a => a.adTrade_list[i].District)
                                                    </td>
                                                    <td>
                                                        @Html.DisplayFor(a => a.adTrade_list[i].trades)
                                                    </td>
                                                    <td>
                                                        @Html.DisplayFor(a => a.adTrade_list[i].units)
                                                    </td>
                                                    <td>
                                                        @Html.DisplayFor(a => a.adTrade_list[i].Shifts)
                                                    </td>
                                                    <td>
                                                        @Html.DisplayFor(a => a.adTrade_list[i].StatusName)
                                                    </td>
                                                    <td>
                                                        @if (Model.adTrade_list[i].IsActive == true)
                                                        //if (Model.list1[i].ActiveDeActive == false)
                                                        {
                                                            <input type="text" id="Active_@Model.adTrade_list[i].ITI_Trade_Shift_Id" value='Active' class="form-control" readonly="readonly" />

                                                            @*@Html.HiddenFor(a => a.list1[i].iti_college_id, new { @class = "collegeId" })*@
                                                        }
                                                        else
                                                        {
                                                            <input type="text" id="Deactive_@Model.adTrade_list[i].ITI_Trade_Shift_Id" value='Deactive' class="form-control" readonly="readonly" />
                                                            @*<input type="text" id="DeActive_@Model.list1[i].Trade_ITI_id" value='Deactive' class="btn btn-primary statusbtn" onclick="SaveActivedeactiveupdate(this);" />*@
                                                            @*@Html.HiddenFor(a => a.list1[i].iti_college_id, new { @class = "collegeId" })*@
                                                        }
                                                    </td>

                                                    <td>
                                                        @if (Model.adTrade_list[i].IsActive1 == true)
                                                        //if (Model.list1[i].ActiveDeActive == false)

                                                        {
                                                            <input type="text" id="Active_@Model.adTrade_list[i].Trade_ITI_id" value='Active' class="form-control" readonly="readonly" />

                                                            @*@Html.HiddenFor(a => a.list1[i].iti_college_id, new { @class = "collegeId" })*@
                                                        }
                                                        else
                                                        {
                                                            <input type="text" id="Deactive_@Model.adTrade_list[i].Trade_ITI_id" value='Deactive' class="form-control" readonly="readonly" />
                                                            @*<input type="text" id="DeActive_@Model.list1[i].Trade_ITI_id" value='Deactive' class="btn btn-primary statusbtn" onclick="SaveActivedeactiveupdate(this);" />*@
                                                            @*@Html.HiddenFor(a => a.list1[i].iti_college_id, new { @class = "collegeId" })*@
                                                        }
                                                    </td>


                                                    <td>

                                                        <input type="button" class="btn btn-primary" img src="@Url.Content("~/Content/img/pencil2.png")" id="Active1_@Model.adTrade_list[i].ITI_Trade_Shift_Id" value='View' onclick="ViewTradeforactivedeactiveUnitwiseADM(@Model.adTrade_list[i].ITI_Trade_Shift_Id)" />
                                                    </td>
                                                    @*}
                                                        else
                                                        {
                                                            <td>

                                                            </td>
                                                        }*@
                                                </tr>
                                            }
                                        </tbody>
                                    }

                                </table>
                            </div>
                        </div>

                        @*test*@

                        <div id="Affiliation_view" style="display:none">
                            <div class="form-group" style="border:1px solid black;padding:20px">
                                <div class="row" style="padding:30px">
                                    <div class="card a5">
                                        <div class="card-body">

                                            <div class="panel panel-default">
                                                <div class="panel-heading">
                                                    <span>Institute Details</span>
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="col-md-2">
                                                    <label class="control-label">Name of ITI</label>
                                                </div>
                                                <div class="col-md-2">
                                                    <span class="text-name clear"></span>
                                                </div>

                                                <div class="col-md-2">
                                                    <label class="control-label">Type of ITI</label>
                                                </div>
                                                <div class="col-md-2">
                                                    <span class="text-type clear"></span>
                                                </div>
                                                <div class="col-md-2">
                                                    <label class="control-label">Course Type</label>
                                                </div>
                                                <div class="col-md-2">
                                                    <span class="text-course_name clear"></span>
                                                </div>
                                            </div>

                                            <div class="row">
                                                <div class="col-md-2">
                                                    <label class="control-label">MIS ITI Code</label>
                                                </div>
                                                <div class="col-md-2">
                                                    <span class="text-mis clear"></span>
                                                </div>
                                                <div class="col-md-2">
                                                    <label class="control-label">Email Id</label>
                                                </div>
                                                <div class="col-md-2">
                                                    <span class="text-email clear"></span>
                                                </div>
                                                <div class="col-md-2">
                                                    <label class="control-label">Principal Phone Number</label>
                                                </div>
                                                <div class="col-md-2">
                                                    <span class="text-number clear"></span>
                                                </div>

                                            </div>
                                            <div class="row">
                                                <div class="col-md-2">
                                                    <label class="control-label">Date of Establishment</label>
                                                </div>
                                                <div class="col-md-2">
                                                    <span class="text-date clear"></span>
                                                    <input type="hidden" id="CollegeID" value="0" />
                                                    <input type="hidden" id="tradeID" value="0" />
                                                    <input type="hidden" id="TradeShiftId" value="0" />
                                                    <input type="hidden" id="Units" value="0" />
                                                    <input type="hidden" id="Shifts" value="0" />
                                                    <input type="hidden" id="IsActive" value="0" />
                                                    <input type="hidden" id="extension" value="0" />
                                                </div>
                                                <div class="col-md-2">
                                                    <label class="control-label">Website</label>
                                                </div>
                                                <div class="col-md-2">
                                                    <span class="text-website clear"></span>
                                                </div>

                                            </div>

                                            @*<div class="col-md-2">
                                                <label class="control-label">Trade</label>*@
                                            @*<input type="hidden" id="CollegeID" value="0" />
                                                <input type="hidden" id="tradeID" value="0" />
                                                <input type="hidden" id="TradeShiftId" value="0" />
                                                <input type="hidden" id="Units" value="0" />
                                                <input type="hidden" id="Shifts" value="0" />
                                                <input type="hidden" id="IsActive" value="0" />*@
                                        </div>
                                        @*<div class="col-md-2">
                                                <span class="text-trade clear"></span>
                                            </div>*@
                                    </div>
                                    <div class="row">


                                    </div>



                                    <div class="panel panel-default">
                                        <div class="panel-heading">
                                            <span>Address Details</span>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-md-2">
                                            <label class="control-label">Address</label>
                                        </div>
                                        <div class="col-md-2">
                                            <span class="text-address clear"></span>
                                        </div>
                                        <div class="col-md-2">
                                            <label class="control-label">Location Type</label>
                                        </div>
                                        <div class="col-md-2">
                                            <span class="text-location clear"></span>
                                        </div>
                                        <div class="col-md-2">
                                            <label class="control-label">State</label>
                                        </div>
                                        <div class="col-md-2">
                                            <span class="clear">Karnataka</span>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-md-2">
                                            <label class="control-label">Division</label>
                                        </div>
                                        <div class="col-md-2">
                                            <span class="text-Division clear"></span>
                                        </div>
                                        <div class="col-md-2">
                                            <label class="control-label">District</label>
                                        </div>
                                        <div class="col-md-2">
                                            <span class="text-district clear"></span>
                                        </div>

                                        <div class="col-md-2">
                                            <label class="control-label">Taluka</label>
                                        </div>
                                        <div class="col-md-2">
                                            <span class="text-taluka clear"></span>
                                        </div>

                                    </div>

                                    <div class="row">
                                        <div class="col-md-2">
                                            <label class="control-label">constituency</label>
                                        </div>
                                        <div class="col-md-2">
                                            <span class="text-constituency clear"></span>
                                        </div>
                                        <div class="col-md-2">
                                            <label class="control-label">Build up Area</label>
                                        </div>
                                        <div class="col-md-2">
                                            <span class="text-build clear"></span>
                                        </div>
                                        <div class="col-md-2">
                                            <label class="control-label">Geo Location Latitude:,Longitude</label>
                                        </div>
                                        <div class="col-md-2">
                                            <span class="text-geo clear"></span>
                                        </div>

                                    </div>

                                    <div class="row">

                                        <div class="col-md-2">
                                            <label class="control-label">Pincode</label>

                                        </div>
                                        <div class="col-md-2">
                                            <span class="text-pincode clear"></span>
                                        </div>

                                        @*<div class="col-md-2">
                                                <label class="control-label">Shift</label>

                                            </div>
                                            <div class="col-md-2">
                                                <span class="text-shift clear"></span>
                                            </div>*@

                                    </div>

                                    <div class="panel panel-default">
                                        <div class="panel-heading">
                                            <span>Affiliation Details</span>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="row">
                                            <div class="col-md-2">
                                                <label class="control-label">Affiliation Order No</label>
                                            </div>
                                            <div class="col-md-2">
                                                <span class="text-AfflOrderNo clear"></span>
                                            </div>
                                            <div class="col-md-2">
                                                <label class="control-label">Affiliation Order date</label>
                                            </div>
                                            <div class="col-md-2">
                                                <span class="order_no_date clear"></span>
                                            </div>
                                            <div class="col-md-2">
                                                <label class="control-label">Scheme</label>
                                            </div>
                                            <div class="col-md-2">
                                                <span class="text-scheme_name clear"></span>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-md-2">

                                                <label class="modal-title Affiliationdoc">Affiliation Documents</label>
                                            </div>
                                            <div class="col-md-2 ">
                                                <a class='btn btn-link2 filealign1' id="Downloadffiliation" @*onclick="GetDownloadFileLinkForAffiliation()"*@><img src="~/Content/img/pdf_logo.png" height="40px ; width="40px" /></a>
                                                <input type="hidden" value="" id="DownloadFileLink3" />
                                            </div>
                                            @*<div class="col-md-2">
                                                    <label class="modal-title DeactiveDoc"></label>
                                                </div>
                                                <div class="col-md-2 ">
                                                    <a class='btn btn-link' id="Downloaddeactive" onclick="GetDownloadFileLink()"><img src="~/Content/img/pdf_logo.png" height="40px" width="40px" /></a>
                                                    <input type="hidden" value="" id="DownloadFileLink" />
                                                </div>
                                                <div class="col-md-2">
                                                    <label class="modal-title ActivateDoc"></label>
                                                </div>
                                                <div class="col-md-2 ">
                                                    <a class='btn btn-link1' id="Downloadactive" onclick="GetDownloadFileLinkForActive()"><img src="~/Content/img/pdf_logo.png" height="40px" width="40px" /></a>
                                                    <input type="hidden" value="" id="DownloadFileLink2" />
                                                </div>*@

                                        </div>

                                    </div>
                                    <div class="row">
                                        <div class="col-md-12">
                                            <br />
                                            <table class="table table-bordered" id="tblAffiliationDoc">
                                                <thead>
                                                    <tr>
                                                        <th>Sl No.</th>
                                                        <th>Active/De-Active Order Number</th>
                                                        <th>Active/De-Active Order Date</th>
                                                        <th>FileName</th>
                                                        <th>Document</th>
                                                        @*<th>Document For</th>*@

                                                    </tr>
                                                </thead>
                                                <tbody></tbody>
                                            </table>

                                        </div>


                                    </div>


                                    @*<div class="row">
                                            <div class="col-md-2">

                                            </div>
                                            <div class="col-md-2 ">

                                            </div>

                                            <div class="col-md-2">
                                                <label class="modal-title DeactiveOrderNo"></label>
                                            </div>
                                            <div class="col-md-2 ">
                                                <span class="text-DOrderNo clear"></span>
                                            </div>
                                            <div class="col-md-2">
                                                <label class="modal-title ActiveOrderNo"></label>
                                            </div>
                                            <div class="col-md-2 ">
                                                <span class="text-AOrderNo clear"></span>
                                            </div>
                                        </div>

                                        <div class="row">
                                            <div class="col-md-2">

                                            </div>
                                            <div class="col-md-2 ">

                                            </div>

                                            <div class="col-md-2">
                                                <label class="modal-title NewDeactivedate"></label>
                                            </div>
                                            <div class="col-md-2 ">
                                                <span class="text-Ddate clear"></span>
                                            </div>
                                            <div class="col-md-2">
                                                <label class="modal-title NewActiveDate"></label>
                                            </div>
                                            <div class="col-md-2 ">
                                                <span class="text-Adate clear"></span>
                                            </div>
                                        </div>*@
                                    <div class="panel panel-default">
                                        <div class="panel-heading">
                                            <span>Trade Details</span>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-md-2">
                                            <label class="control-label">Trade Name</label>
                                        </div>
                                        <div class="col-md-2">
                                            <span class="text-trades clear"></span>
                                        </div>
                                        <div class="col-md-2">
                                            <label class="control-label">Trade Code</label>
                                        </div>
                                        <div class="col-md-2">
                                            <span class="text-trade_code clear"></span>
                                        </div>
                                        <div class="col-md-2">
                                            <label class="control-label">Sector Name</label>
                                        </div>
                                        <div class="col-md-2">
                                            <span class="text-sector clear"></span>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-md-2">
                                            <label class="control-label">Batch Size</label>
                                        </div>
                                        <div class="col-md-2">
                                            <span class="text-batch_size clear"></span>
                                        </div>
                                        <div class="col-md-2">
                                            <label class="control-label">Trade Type</label>
                                        </div>
                                        <div class="col-md-2">
                                            <span class="text-trade_type clear"></span>
                                        </div>
                                        <div class="col-md-2">
                                            <label class="control-label">Duration</label>
                                        </div>
                                        <div class="col-md-2">
                                            <span class="text-duration clear"></span>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <h4 class="modal-title a1" style="color:#195c9f; text-align:center; font-weight:700"> Trade's Shifts Details</h4>
                                        <br />
                                        <div class="col-md-12">
                                            <table id="tblViewShift" class="table table-bordered">
                                                <thead>
                                                    <tr>
                                                        <th>Sl.No</th>
                                                        <th>Unit</th>
                                                        <th>Shift</th>
                                                        @*<th>Is PPP</th>
                                                            <th>Mode of Training</th>*@
                                                        <th>Status</th>
                                                    </tr>
                                                </thead>
                                                <tbody></tbody>
                                            </table>
                                        </div>

                                    </div>

                                    <div class="row"></div>
                                    <div class="row"></div>
                                    <div class="card">
                                        <div class="card-body border" style="padding:30px">

                                            <div class="row">
                                                <div class="col-md-1"></div>
                                                <div class="col-md-2">
                                                    <label class="control-label">Remarks</label>
                                                </div><div class="col-md-2">
                                                    <textarea id="Remarks" class="form-control clear" style="margin:-4px"></textarea>
                                                    @*<textarea id="Remarks" class="form-control clear"></textarea>*@
                                                    <small class="text-danger" id="Remarks_Required" style="display:none">Remark is remarks</small>
                                                </div>
                                                <div class="col-md-1"></div>
                                            </div>
                                            <div class="row">
                                                <div class="col-md-5"></div>
                                                <div class="col-md-2">
                                                    <input type="button" id="sed" class="btn btn-primary" value="Submit" onclick="SaveActivedeactiveUnitwiseupdateITADM();" />
                                                    <input type="button" id="" class="btn btn-danger" value="Cancel" onclick=$("#tblGridUpdateAffiliation_wrapper").show();$("#Affiliation_view").hide();$("#Remarks_Required").hide();$("#uploadfile_Required").hide();$("#uploadfile").val("");$("#Remarks").val("");$("#DistrictWiseFilter").show(""); />

                                                </div>
                                                <div class="col-md-5"></div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <input type="hidden" id="Trade_ITI_Id" value="" />
                            <div class="row col-md-12 a">
                                @*<button class="btn btn-primary collaps-history a" data-toggle="collapse" data-target="#collapseThree" aria-expanded="false" aria-controls="collapseThree" style="margin-top: 25px">Show Trade Active Deactive History</button>*@

                                <input type="hidden" id="Trade_ITI_Id" value="" />
                                <br />
                                <br />
                                @*<div id="collapseThree" class="collapse" aria-labelledby="headingThree" data-parent="#accordionExample">*@

                                <div class="col-md-12" style="color:#195c9f; text-align:center">
                                    <h3 class="modal-title head1">Trade Active/DeActive History:</h3>

                                </div>
                                <br />
                                <br />
                                <br />
                                <br />
                                <table class="table table-bordered" id="tblHistory">
                                    <thead>
                                        <tr>
                                            <th>Slno</th>
                                            <th>Date & time</th>
                                            <th>From</th>
                                            <th>To</th>
                                            <th>Status</th>
                                            <th>Remarks</th>
                                        </tr>
                                    </thead>
                                    <tbody></tbody>
                                </table>
                                @* </div> *@
                            </div>
                        </div>
                    </div>
                </div>



                @*test*@



                <div class="form-group">
                    <div class="col-md-2 row">
                        <div class="col-md-6">

                        </div>
                        <div class="col-md-6">

                        </div>
                    </div>
                </div>




            }

        </div>



        <div class="tab-pane fade" id="tab_2">
            <div class="row">
                <div class="col-lg-12">
                </div>
            </div>
            <input type="hidden" id="hdnSession" data-value="@Request.RequestContext.HttpContext.Session["UserId"]" />
            @if (Convert.ToInt32(Session["RoleId"]) == (int)Models.Affiliation.CsystemType.getCommon.OFFICE_SUPERINTENDENT)

            {

                <div class="row">
                    <div class="form-group">
                        <div class="col-md-12">
                            <div id="DistrictWiseFilter" class="form-group" style="padding:30px">
                                <h3 class="modal-title a2" style="background-color:#195c9f; color:white; text-align:center">Active-DeActive Trades</h3>
                                <br />
                                <div class="row a">
                                    <div class="col-lg-1">
                                        <label for="txtAgencyRegnNo">Course Type</label>
                                    </div>
                                    <div class="col-lg-2">
                                        <select class="form-control filter-change" id="CourseTypes">
                                            <option value="choose">Select</option>
                                        </select>
                                    </div>
                                    <div class="col-lg-1">
                                        <label for="txtAgencyRegnNo">Division</label>
                                    </div>
                                    <div class="col-lg-2">
                                        <select class="form-control filter-change" id="Divisions" onchange="GetDistrictList(this);">
                                            <option value="choose">Select</option>
                                        </select>
                                    </div>
                                    <div class="col-lg-1">
                                        <label for="txtAgencyRegnNo">District</label>
                                    </div>
                                    <div class="col-lg-2">
                                        <select class="form-control filter-change district" id="Districts">
                                            <option value="choose">Select</option>
                                        </select>
                                    </div>

                                </div>
                                <br />  <br />
                                <div class="col-lg-12" align="right">
                                    <a class=" btn btn-primary sendBtn4">Search</a>
                                    <a class=" btn btn-primary search-affiliated" onclick="cancelUpdateITIInstitute();">Cancel</a>
                                </div>
                            </div>
                            @*<h3 style="text-align:center" class="head">OS Active and Deactive Units</h3>
                                <br /><br />*@
                            <div style="overflow-y:scroll" id="tblGridUpdateAffiliation_wrapper">
                                <table class="table table-bordered table-hover" id="tblGridUpdateAffiliation1">
                                    <thead>
                                        <tr>
                                            <th>Sl.No.</th>
                                            <th>Course Type</th>
                                            <th>MIS ITI Code</th>
                                            <th>Institute Name</th>

                                            <th>Division</th>
                                            <th>District</th>
                                            <th>Trades</th>
                                            <th>Units</th>
                                            <th>Shift</th>
                                            <th>Unit Status</th>
                                            <th>Trade Current Status</th>
                                            <th>Requested Action</th>
                                            <th>Status - Currently With</th>
                                            <th>Action</th>


                                        </tr>
                                    </thead>
                                    @if (Model.Osunit_list != null)
                                    {
                                        <tbody>
                                            @for (var i = 0; i < Model.Osunit_list.Count(); i++)
                                            {
                                                var FileUploadPathChk = Convert.ToString(Model.Osunit_list[i].FileUploadPath);
                                                var statusidChk = Convert.ToString(Model.Osunit_list[i].status_id);
                                                <tr>
                                                    <td></td>
                                                    <td>
                                                        @Html.DisplayFor(a => a.Osunit_list[i].CourseType)
                                                    </td>
                                                    <td>
                                                        @Html.DisplayFor(a => a.Osunit_list[i].miscode)
                                                    </td>
                                                    <td>
                                                        @Html.DisplayFor(a => a.Osunit_list[i].iti_college)
                                                        @Html.HiddenFor(a => a.Osunit_list[i].iti_college_id, new { @class = "iti_college_id" })
                                                        @Html.HiddenFor(a => a.Osunit_list[i].Trade_ITI_id, new { @class = "trade_iti_id" })
                                                        @Html.HiddenFor(a => a.Osunit_list[i].ITI_Trade_Shift_Id, new { @class = "ITI_Trade_Shift_Id" })
                                                    </td>

                                                    <td>
                                                        @Html.DisplayFor(a => a.Osunit_list[i].Division)
                                                    </td>
                                                    <td>
                                                        @Html.DisplayFor(a => a.Osunit_list[i].District)
                                                    </td>


                                                    <td>
                                                        @Html.DisplayFor(a => a.Osunit_list[i].trades)
                                                    </td>
                                                    <td>
                                                        @Html.DisplayFor(a => a.Osunit_list[i].units)
                                                    </td>
                                                    <td>
                                                        @Html.DisplayFor(a => a.Osunit_list[i].Shifts)
                                                    </td>
                                                    <td>
                                                        @if (Model.Osunit_list[i].IsActive == true)
                                                        //if (Model.list1[i].ActiveDeActive == false)
                                                        {
                                                            <input type="text" id="Active_@Model.Osunit_list[i].ITI_Trade_Shift_Id" value='Active' class="form-control" readonly="readonly" />

                                                            @*@Html.HiddenFor(a => a.list1[i].iti_college_id, new { @class = "collegeId" })*@
                                                        }
                                                        else
                                                        {
                                                            <input type="text" id="Deactive_@Model.Osunit_list[i].ITI_Trade_Shift_Id" value='Deactive' class="form-control" readonly="readonly" />
                                                            @*<input type="text" id="DeActive_@Model.list1[i].Trade_ITI_id" value='Deactive' class="btn btn-primary statusbtn" onclick="SaveActivedeactiveupdate(this);" />*@
                                                            @*@Html.HiddenFor(a => a.list1[i].iti_college_id, new { @class = "collegeId" })*@
                                                        }
                                                    </td>
                                                    <td>
                                                        @if (Model.Osunit_list[i].IsActive1 == true)
                                                        //if (Model.list1[i].ActiveDeActive == false)
                                                        {
                                                            <input type="text" id="Active_@Model.Osunit_list[i].ITI_Trade_Shift_Id" value='Active' class="form-control" readonly="readonly" />

                                                            @*@Html.HiddenFor(a => a.list1[i].iti_college_id, new { @class = "collegeId" })*@
                                                        }
                                                        else
                                                        {
                                                            <input type="text" id="Deactive_@Model.Osunit_list[i].ITI_Trade_Shift_Id" value='Deactive' class="form-control" readonly="readonly" />
                                                            @*<input type="text" id="DeActive_@Model.list1[i].Trade_ITI_id" value='Deactive' class="btn btn-primary statusbtn" onclick="SaveActivedeactiveupdate(this);" />*@
                                                            @*@Html.HiddenFor(a => a.list1[i].iti_college_id, new { @class = "collegeId" })*@
                                                        }
                                                    </td>
                                                    <td>
                                                        @if (Model.Osunit_list[i].StatusName == " - ")
                                                        {
                                                            <input type="text" id="Active_@Model.Osunit_list[i].ITI_Trade_Shift_Id" class="form-control" readonly="readonly" />
                                                        }
                                                        else
                                                        {
                                                            if (Model.Osunit_list[i].ReqIsActive == true)
                                                            //if (Model.list1[i].ActiveDeActive == false)
                                                            {
                                                                <input type="text" id="Active_@Model.Osunit_list[i].ITI_Trade_Shift_Id" value='Active' class="form-control" readonly="readonly" />

                                                                @*@Html.HiddenFor(a => a.list1[i].iti_college_id, new { @class = "collegeId" })*@
                                                            }
                                                            else
                                                            {
                                                                <input type="text" id="Deactive_@Model.Osunit_list[i].ITI_Trade_Shift_Id" value='Deactive' class="form-control" readonly="readonly" />
                                                                @*<input type="text" id="DeActive_@Model.list1[i].Trade_ITI_id" value='Deactive' class="btn btn-primary statusbtn" onclick="SaveActivedeactiveupdate(this);" />*@
                                                                @*@Html.HiddenFor(a => a.list1[i].iti_college_id, new { @class = "collegeId" })*@
                                                            }
                                                        }
                                                    </td>
                                                    <td>
                                                        @if (Model.Osunit_list[i].StatusName != " - ")
                                                        {
                                                            @Html.DisplayFor(a => a.Osunit_list[i].StatusName)
                                                        }
                                                    </td>



                                                    <td>

                                                        <input type="button" class="btn btn-primary" img src="@Url.Content("~/Content/img/pencil2.png")" id="Active_@Model.Osunit_list[i].ITI_Trade_Shift_Id" value='View' onclick="ViewTradeforactivedeactiveUnitwiseOS(@Model.Osunit_list[i].ITI_Trade_Shift_Id)" />

                                                    </td>
                                                </tr>
                                            }
                                        </tbody>
                                    }

                                </table>
                            </div>
                        </div>

                        @*test*@

                        <div id="Affiliation_view" style="display:none">
                            <div class="form-group" style="border:1px solid black;padding:20px">
                                <div class="row" style="padding:30px">
                                    <div class="card a5">
                                        <div class="card-body">
                                            <div class="panel panel-default">
                                                <div class="panel-heading">
                                                    <span>Institute Details</span>
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="col-md-2">
                                                    <label class="control-label">Name of ITI</label>
                                                </div>
                                                <div class="col-md-2">
                                                    <span class="text-name clear"></span>
                                                </div>

                                                <div class="col-md-2">
                                                    <label class="control-label">Type of ITI</label>
                                                </div>
                                                <div class="col-md-2">
                                                    <span class="text-type clear"></span>
                                                </div>

                                                <div class="col-md-2">
                                                    <label class="control-label">Course Type</label>
                                                </div>
                                                <div class="col-md-2">
                                                    <span class="text-course_name clear"></span>
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="col-md-2">
                                                    <label class="control-label">MIS ITI Code</label>
                                                </div>
                                                <div class="col-md-2">
                                                    <span class="text-mis clear"></span>
                                                </div>

                                                <div class="col-md-2">
                                                    <label class="control-label">Email id</label>
                                                </div>
                                                <div class="col-md-2">
                                                    <span class="text-email clear"></span>
                                                </div>

                                                <div class="col-md-2">
                                                    <label class="control-label">Principal Phone number</label>
                                                </div>
                                                <div class="col-md-2">
                                                    <span class="text-number clear"></span>
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="col-md-2">
                                                    <label class="control-label">Date Of Establishment</label>
                                                </div>
                                                <div class="col-md-2">
                                                    <span class="text-date clear"></span>
                                                </div>
                                                <div class="col-md-2">
                                                    <label class="control-label">Website</label>
                                                    <input type="hidden" id="CollegeID" value="0" />
                                                    <input type="hidden" id="tradeID" value="0" />
                                                    <input type="hidden" id="TradeShiftId" value="0" />
                                                    <input type="hidden" id="Units" value="0" />
                                                    <input type="hidden" id="Shifts" value="0" />
                                                    <input type="hidden" id="IsActive" value="0" />
                                                    <input type="hidden" id="IsActiveNew" value="" />
                                                </div>
                                                <div class="col-md-2">
                                                    <span class="text-website"></span>
                                                </div>
                                            </div>

                                            @*<div class="row">
                                                    <div class="col-md-2">
                                                        <label class="control-label">MIS Code</label>
                                                    </div>
                                                    <div class="col-md-2">
                                                        <span class="text-mis clear"></span>
                                                    </div>
                                                    <div class="col-md-2">
                                                        <label class="control-label">CSS Code</label>
                                                    </div>
                                                    <div class="col-md-2">
                                                        <span class="text-css clear"></span>
                                                    </div>
                                                    <div class="col-md-2">
                                                        <label class="control-label">Trade</label>
                                                        <input type="hidden" id="CollegeID" value="0" />
                                                        <input type="hidden" id="tradeID" value="0" />
                                                        <input type="hidden" id="TradeShiftId" value="0" />
                                                        <input type="hidden" id="Units" value="0" />
                                                        <input type="hidden" id="Shifts" value="0" />
                                                        <input type="hidden" id="IsActive" value="0" />
                                                        <input type="hidden" id="IsActiveNew" value="" />
                                                    </div>
                                                    <div class="col-md-2">
                                                        <span class="text-trade clear"></span>
                                                    </div>
                                                </div>*@

                                            <div class="panel panel-default">
                                                <div class="panel-heading">
                                                    <span>Address Details</span>
                                                </div>
                                            </div>

                                            <div class="row">
                                                <div class="col-md-2">
                                                    <label class="control-label">Address</label>
                                                </div>
                                                <div class="col-md-2">
                                                    <span class="text-address clear"></span>
                                                </div>
                                                <div class="col-md-2">
                                                    <label class="control-label">Loaction Type</label>
                                                </div>
                                                <div class="col-md-2">
                                                    <span class="text-location clear"></span>
                                                </div>
                                                <div class="col-md-2">
                                                    <label class="control-label">State</label>
                                                </div>
                                                <div class="col-md-2">
                                                    <span class=" clear"> Karnataka</span>
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="col-md-2">
                                                    <label class="control-label">Division</label>
                                                </div>
                                                <div class="col-md-2">
                                                    <span class="text-Division clear"></span>
                                                </div>
                                                <div class="col-md-2">
                                                    <label class="control-label">District</label>
                                                </div>
                                                <div class="col-md-2">
                                                    <span class="text-district clear"></span>
                                                </div>
                                                <div class="col-md-2">
                                                    <label class="control-label">Taluk</label>
                                                </div>
                                                <div class="col-md-2">
                                                    <span class="text-taluk clear"></span>
                                                </div>
                                            </div>

                                            <div class="row">
                                                <div class="col-md-2">
                                                    <label class="control-label">Constituency</label>
                                                </div>
                                                <div class="col-md-2">
                                                    <span class="text-constituency clear"></span>
                                                </div>
                                                <div class="col-md-2">
                                                    <label class="control-label">Buildup Areae</label>
                                                </div>
                                                <div class="col-md-2">
                                                    <span class="text-build clear"></span>
                                                </div>
                                                <div class="col-md-2">
                                                    <label class="control-label">Geo Location Latitude Longitude</label>
                                                </div>
                                                <div class="col-md-2">
                                                    <span class="text-geo clear"></span>
                                                </div>

                                            </div>

                                            <div class="row">
                                                <div class="col-md-2">
                                                    <label class="control-label">Pincode</label>
                                                </div>
                                                <div class="col-md-2">
                                                    <span class="text-pincode clear"></span>
                                                </div>
                                                @*<div class="col-md-2">
                                                        <label class="control-label">Phone Number</label>
                                                    </div>
                                                    <div class="col-md-2">
                                                        <span class="text-number clear"></span>
                                                    </div>
                                                    <div class="col-md-2">
                                                        <label class="control-label">Affiliation Date</label>
                                                    </div>
                                                    <div class="col-md-2">
                                                        <span class="text-date clear"></span>
                                                    </div>*@
                                            </div>
                                            <div class="panel panel-default">
                                                <div class="panel-heading">
                                                    <span>Affiliation Details</span>
                                                </div>
                                            </div>

                                            <div class="row">
                                                <div class="col-md-2">
                                                    <label class="control-label">Affiliation Order No</label>
                                                </div>
                                                <div class="col-md-2">
                                                    <span class="text-AfflOrderNo clear"></span>
                                                </div>
                                                <div class="col-md-2">
                                                    <label class="control-label">Affiliation Order Date</label>
                                                </div>
                                                <div class="col-md-2">
                                                    <span class="text-order_no_date clear"></span>
                                                </div>
                                                <div class="col-md-2">
                                                    <label class="control-label">Scheme</label>
                                                </div>
                                                <div class="col-md-2">
                                                    <span class="text-scheme_name clear"></span>
                                                </div>
                                            </div>

                                            <div class="row">
                                                @*<div class="col-md-2">
                                                        <label class="modal-title deactivate"></label>
                                                        <label class="modal-title activate"></label>
                                                    </div>
                                                    <div class="col-md-2">
                                                        <input type="file" id="uploadfile" />
                                                        <input type="file" id="uploadfileactive" />
                                                    </div>*@
                                                @*<div class="col-md-2">
                                                        <label class="modal-title deactivateOrderlabel"></label>
                                                        <label class="modal-title activateOrderlabel"></label>
                                                    </div>
                                                    <div class="col-md-2 ">
                                                        <input type="text" id="deactivateOrderNo" />
                                                        <input type="text" id="activateOrderNo" />
                                                    </div>*@
                                            </div>
                                            @*<div class="row">
                                                <div class="col-md-4">
                                                    <label class="modal-title">View Supporting document:</label>
                                                </div>
                                                <div class="col-md-4">*@
                                            @*<input type="file" id="uploadfile" />*@
                                            @*<a class='btn btn-link' href='/Affiliation/DownloadAffiliationTradeDoc?TradeId=" + this.Trade_ITI_id + "'>Download File</a>*@
                                            @*<a class='btn btn-link' href='/Affiliation/DownloadAffiliationTradeDoc?TradeId=" + this.Trade_ITI_id + "'>Download File</a>*@
                                            @*<a class='btn btn-link' onclick="GetDownloadFileLink()">Download File</a>
                                                        <input type="hidden" value="" id="DownloadFileLink" />

                                                    </div>
                                                </div>*@
                                            <div class="row">
                                                <div class="col-md-2">

                                                    <label class="modal-title Affiliationdoc"></label>
                                                </div>
                                                <div class="col-md-2 ">
                                                    <a class='btn btn-link2 filealign1' id="Downloadffiliation" @*onclick="GetDownloadFileLinkForAffiliation()"*@><img src='/Content/img/pdf_logo.png' height='40px' width='40px' /></a>
                                                    <input type="hidden" value="" id="DownloadFileLink3" />
                                                    <span id="AffiliationFileName"></span>
                                                </div>
                                                @*<div class="col-md-2">
                                                        <label class="modal-title DeactiveDoc"></label>
                                                    </div>
                                                    <div class="col-md-2 ">
                                                        <a class='btn btn-link' id="Downloaddeactive" onclick="GetDownloadFileLink()"><img src='/Content/img/pdf_logo.png' height='40px' width='40px' /></a>
                                                        <input type="hidden" value="" id="DownloadFileLink" />
                                                    </div>
                                                    <div class="col-md-2">
                                                        <label class="modal-title ActivateDoc"></label>
                                                    </div>
                                                    <div class="col-md-2 ">
                                                        <a class='btn btn-link1' id="Downloadactive" onclick="GetDownloadFileLinkForActive()"><img src='/Content/img/pdf_logo.png' height='40px' width='40px' /></a>
                                                        <input type="hidden" value="" id="DownloadFileLink2" />
                                                    </div>*@

                                            </div>

                                            @*<div class="row">
                                                    <div class="col-md-2">

                                                    </div>
                                                    <div class="col-md-2 ">

                                                    </div>

                                                    <div class="col-md-2">
                                                        <label class="modal-title DeactiveOrderNo"></label>
                                                    </div>
                                                    <div class="col-md-2 ">
                                                        <span class="text-DOrderNo clear"></span>
                                                    </div>
                                                    <div class="col-md-2">
                                                        <label class="modal-title ActiveOrderNo"></label>
                                                    </div>
                                                    <div class="col-md-2 ">
                                                        <span class="text-AOrderNo clear"></span>
                                                    </div>
                                                </div>*@

                                            @*<div class="row">
                                                    <div class="col-md-2">

                                                    </div>
                                                    <div class="col-md-2 ">

                                                    </div>

                                                    <div class="col-md-2">
                                                        <label class="modal-title NewDeactivedate"></label>
                                                    </div>
                                                    <div class="col-md-2 ">
                                                        <span class="text-Ddate clear"></span>
                                                    </div>
                                                    <div class="col-md-2">
                                                        <label class="modal-title NewActiveDate"></label>
                                                    </div>
                                                    <div class="col-md-2 ">
                                                        <span class="text-Adate clear"></span>
                                                    </div>
                                                </div>*@

                                            <div class="row">
                                                <div class="col-md-12">
                                                    <br />
                                                    <table class="table table-bordered" id="tblAffiliationDoc">
                                                        <thead>
                                                            <tr>
                                                                <th>Sl No.</th>
                                                                <th>Active/De-Active Order Number</th>
                                                                <th>Active/De-Active Order Date</th>
                                                                <th>FileName</th>
                                                                <th>Document</th>
                                                                @*<th>Document For</th>*@

                                                            </tr>
                                                        </thead>
                                                        <tbody></tbody>
                                                    </table>

                                                </div>


                                            </div>


                                            <div class="panel panel-default">
                                                <div class="panel-heading">
                                                    <span>Trade Details</span>
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="col-md-2">
                                                    <label class="control-label">Trade Name</label>
                                                </div>
                                                <div class="col-md-2">
                                                    <span class="text-trades2 clear"></span>
                                                </div>
                                                <div class="col-md-2">
                                                    <label class="control-label">Trade Code</label>
                                                </div>
                                                <div class="col-md-2">
                                                    <span class="text-trade_code clear"></span>
                                                </div>
                                                <div class="col-md-2">
                                                    <label class="control-label">Sector Name</label>
                                                </div>
                                                <div class="col-md-2">
                                                    <span class="text-sector clear"></span>
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="col-md-2">
                                                    <label class="control-label">Batch Size</label>
                                                </div>
                                                <div class="col-md-2">
                                                    <span class="text-batch_size clear"></span>
                                                </div>
                                                <div class="col-md-2">
                                                    <label class="control-label">Trade Type</label>
                                                </div>
                                                <div class="col-md-2">
                                                    <span class="text-trade_type clear"></span>
                                                </div>
                                                <div class="col-md-2">
                                                    <label class="control-label">Duration</label>
                                                </div>
                                                <div class="col-md-2">
                                                    <span class="text-duration clear"></span>
                                                </div>
                                            </div>
                                            <div class="row">
                                                <h4 class="modal-title a1" style="color:#195c9f; text-align:center; font-weight:700"> Trade's Shifts Details</h4>
                                                <br />
                                                <div class="col-md-12">
                                                    <table id="tblViewShift" class="table table-bordered">
                                                        <thead>
                                                            <tr>
                                                                <th>Sl.No</th>
                                                                <th>Unit</th>
                                                                <th>Shift</th>
                                                                @*<th>Is PPP</th>
                                                                    <th>Mode of Training</th>*@
                                                                <th>Status</th>
                                                            </tr>
                                                        </thead>
                                                        <tbody></tbody>
                                                    </table>
                                                </div>

                                            </div>
                                            <br />
                                            <br />
                                            <div class="card">
                                                <div class="card-body border">
                                                    <div class="row"></div>
                                                    <div class="row"></div>
                                                    <div class="row">
                                                        <div class="col-lg-12">
                                                            <div class="col-lg-4">
                                                                <div class="col-lg-4">
                                                                    <label class="control-label">Status</label>
                                                                </div>
                                                                <div class="col-lg-8">
                                                                    <select id="dd-status" class="form-control clear"></select>

                                                                </div>
                                                            </div>
                                                            @if (Session["CollegeId"] == null)
                                                            {
                                                                <div class="col-lg-4">
                                                                    <div class="col-md-4">
                                                                        <label class="control-label"> Send To:</label>
                                                                    </div>
                                                                    <div class="col-md-8">
                                                                        <select id="dd-flow" class="form-control clear"></select>
                                                                    </div>
                                                                </div>
                                                            }

                                                            <div class="col-md-4">
                                                                <div class="col-md-4">
                                                                    <label class="control-label">Remarks</label>
                                                                </div><div class="col-md-8">
                                                                    <textarea id="Remarks" class="form-control clear" style="margin:-10px"></textarea>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="row"></div>
                                                        <div class="row"></div>
                                                        <div class="row">
                                                            <div class="col-md-5"></div>
                                                            <div class="col-md-2">
                                                                <input type="button" id="snd" class="btn btn-primary" value="Submit" onclick="SaveActivedeactiveUnitwiseupdateOS();" />

                                                                <input type="button" id="" class="btn btn-danger" value="Cancel" onclick="clearView()" />
                                                            </div>
                                                            <div class="col-md-5"></div>
                                                        </div>

                                                    </div>

                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <input type="hidden" id="Trade_ITI_Id" value="" />
                                <br />

                                <div class="row col-md-12 a">
                                    @*<button class="btn btn-primary collaps-history a" data-toggle="collapse" data-target="#collapseThree" aria-expanded="false" aria-controls="collapseThree" style="margin-top: 25px">Show Trade Active Deactive History</button>*@

                                    <br />
                                    <br />
                                    @*<div id="collapseThree" class="collapse" aria-labelledby="headingThree" data-parent="#accordionExample">*@
                                    <div class="col-md-12" style="color:#195c9f; text-align:center">
                                        <h3 class="modal-title head1">Trade Active/DeActive History:</h3>

                                    </div>
                                    <br /><br />
                                    <br />
                                    <table class="table table-bordered" id="tblHistory">
                                        <thead>
                                            <tr>
                                                <th>Slno</th>
                                                <th>Date & time</th>
                                                <th>From</th>
                                                <th>To</th>
                                                <th>Remarks</th>
                                                <th>Status</th>
                                            </tr>
                                        </thead>
                                        <tbody></tbody>
                                    </table>
                                    @* </div> *@
                                </div>

                            </div>


                        </div>

                        @*test*@
                        <div class="form-group">
                            <div class="col-md-2 row">
                                <div class="col-md-6">

                                </div>
                                <div class="col-md-6">

                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            }

            <input type="hidden" id="hdnSession" data-value="@Request.RequestContext.HttpContext.Session["UserId"]" />
            @if (Convert.ToInt32(Session["RoleId"]) == (int)Models.Affiliation.CsystemType.getCommon.Assistant_Director || Convert.ToInt32(Session["RoleId"]) == (int)Models.Affiliation.CsystemType.getCommon.Deputy_Director) //for AD and DD

            {

                <div class="row">

                    <div class="form-group">
                        <div class="col-md-12">
                            <div id="DistrictWiseFilter" class="form-group" style="padding:30px">
                                <h3 class="head1">Active-DeActive Trades</h3>
                                <br />
                                <div class="row a">
                                    <div class="col-lg-1">
                                        <label for="txtAgencyRegnNo">Course Type</label>
                                    </div>
                                    <div class="col-lg-2">
                                        <select class="form-control filter-change" id="CourseTypes">
                                            <option value="choose">Select</option>
                                        </select>
                                    </div>
                                    <div class="col-lg-1">
                                        <label for="txtAgencyRegnNo">Division</label>
                                    </div>
                                    <div class="col-lg-2">
                                        <select class="form-control filter-change" id="Divisions" onchange="GetDistrictList(this);">
                                            <option value="choose">Select</option>
                                        </select>
                                    </div>
                                    <div class="col-lg-1">
                                        <label for="txtAgencyRegnNo">District</label>
                                    </div>
                                    <div class="col-lg-2">
                                        <select class="form-control filter-change district" id="Districts">
                                            <option value="choose">Select</option>
                                        </select>
                                    </div>

                                </div>
                                <br />  <br />
                                <div class="col-lg-12" align="right">
                                    <a class=" btn btn-primary sendBtn5">Search</a>
                                    <a class=" btn btn-primary search-affiliated" onclick="cancelUpdateITIInstitute();">Cancel</a>
                                </div>
                            </div>
                            @*<h3 class="modal-title a1 head">AD/DD Active and Deactive Trades</h3>*@
                            <br /><br />
                            <div style="overflow-y:scroll" id="tblGridUpdateAffiliation_wrapper">
                                <table class="table table-bordered table-hover" id="tblGridUpdateAffiliation1">
                                    <thead>
                                        <tr>
                                            <th>Sl.No</th>
                                            <th>Course Type</th>
                                            <th>MIS ITI Code</th>
                                            <th>Institute Name</th>

                                            <th>Division</th>
                                            <th>District</th>
                                            <th>Trades</th>
                                            <th>Units</th>
                                            <th>Shift</th>
                                            <th>Unit Status</th>
                                            <th>Trade Current Status</th>
                                            <th>Requested Action</th>
                                            <th>Status - Currently With</th>
                                            <th>Action</th>


                                        </tr>
                                    </thead>
                                    @if (Model.ADDDunit_list != null)
                                    {
                                        <tbody>
                                            @for (var i = 0; i < Model.ADDDunit_list.Count(); i++)
                                            {
                                                var FileUploadPathChk = Convert.ToString(Model.ADDDunit_list[i].FileUploadPath);
                                                var statusidChk = Convert.ToString(Model.ADDDunit_list[i].status_id);
                                                <tr>
                                                    <td></td>
                                                    <td>
                                                        @Html.DisplayFor(a => a.ADDDunit_list[i].CourseType)
                                                    </td>
                                                    <td>
                                                        @Html.DisplayFor(a => a.ADDDunit_list[i].miscode)
                                                    </td>
                                                    <td>
                                                        @Html.DisplayFor(a => a.ADDDunit_list[i].iti_college)
                                                        @Html.HiddenFor(a => a.ADDDunit_list[i].iti_college_id, new { @class = "iti_college_id" })
                                                        @Html.HiddenFor(a => a.ADDDunit_list[i].Trade_ITI_id, new { @class = "trade_iti_id" })
                                                        @Html.HiddenFor(a => a.ADDDunit_list[i].ITI_Trade_Shift_Id, new { @class = "ITI_Trade_Shift_Id" })
                                                    </td>

                                                    <td>
                                                        @Html.DisplayFor(a => a.ADDDunit_list[i].Division)
                                                    </td>
                                                    <td>
                                                        @Html.DisplayFor(a => a.ADDDunit_list[i].District)
                                                    </td>


                                                    <td>
                                                        @Html.DisplayFor(a => a.ADDDunit_list[i].trades)
                                                    </td>
                                                    <td>
                                                        @Html.DisplayFor(a => a.ADDDunit_list[i].units)
                                                    </td>

                                                    <td>
                                                        @Html.DisplayFor(a => a.ADDDunit_list[i].Shifts)
                                                    </td>
                                                    <td>
                                                        @if (Model.ADDDunit_list[i].IsActive == true)
                                                        //if (Model.list1[i].ActiveDeActive == false)
                                                        {
                                                            <input type="text" id="Active_@Model.ADDDunit_list[i].ITI_Trade_Shift_Id" value='Active' class="form-control" readonly="readonly" />

                                                            @*@Html.HiddenFor(a => a.list1[i].iti_college_id, new { @class = "collegeId" })*@
                                                        }
                                                        else
                                                        {
                                                            <input type="text" id="Deactive_@Model.ADDDunit_list[i].ITI_Trade_Shift_Id" value='Deactive' class="form-control" readonly="readonly" />
                                                            @*<input type="text" id="DeActive_@Model.list1[i].Trade_ITI_id" value='Deactive' class="btn btn-primary statusbtn" onclick="SaveActivedeactiveupdate(this);" />*@
                                                            @*@Html.HiddenFor(a => a.list1[i].iti_college_id, new { @class = "collegeId" })*@
                                                        }
                                                    </td>
                                                    <td>
                                                        @if (Model.ADDDunit_list[i].IsActive1 == true)
                                                        //if (Model.list1[i].ActiveDeActive == false)
                                                        {
                                                            <input type="text" id="Active_@Model.ADDDunit_list[i].ITI_Trade_Shift_Id" value='Active' class="form-control" readonly="readonly" />

                                                            @*@Html.HiddenFor(a => a.list1[i].iti_college_id, new { @class = "collegeId" })*@
                                                        }
                                                        else
                                                        {
                                                            <input type="text" id="Deactive_@Model.ADDDunit_list[i].ITI_Trade_Shift_Id" value='Deactive' class="form-control" readonly="readonly" />
                                                            @*<input type="text" id="DeActive_@Model.list1[i].Trade_ITI_id" value='Deactive' class="btn btn-primary statusbtn" onclick="SaveActivedeactiveupdate(this);" />*@
                                                            @*@Html.HiddenFor(a => a.list1[i].iti_college_id, new { @class = "collegeId" })*@
                                                        }
                                                    </td>
                                                    <td>
                                                        @if (Model.ADDDunit_list[i].StatusName == " - ")
                                                        {
                                                            <input type="text" id="Active_@Model.ADDDunit_list[i].ITI_Trade_Shift_Id" class="form-control" readonly="readonly" />
                                                        }
                                                        else
                                                        {
                                                            if (Model.ADDDunit_list[i].ReqIsActive == true)
                                                            //if (Model.list1[i].ActiveDeActive == false)
                                                            {
                                                                <input type="text" id="Active_@Model.ADDDunit_list[i].ITI_Trade_Shift_Id" value='Active' class="form-control" readonly="readonly" />

                                                                @*@Html.HiddenFor(a => a.list1[i].iti_college_id, new { @class = "collegeId" })*@
                                                            }
                                                            else
                                                            {
                                                                <input type="text" id="Deactive_@Model.ADDDunit_list[i].ITI_Trade_Shift_Id" value='Deactive' class="form-control" readonly="readonly" />
                                                                @*<input type="text" id="DeActive_@Model.list1[i].Trade_ITI_id" value='Deactive' class="btn btn-primary statusbtn" onclick="SaveActivedeactiveupdate(this);" />*@
                                                                @*@Html.HiddenFor(a => a.list1[i].iti_college_id, new { @class = "collegeId" })*@
                                                            }
                                                        }
                                                    </td>
                                                    <td>
                                                        @if (Model.ADDDunit_list[i].StatusName != " - ")
                                                        {
                                                            @Html.DisplayFor(a => a.ADDDunit_list[i].StatusName)
                                                        }

                                                    </td>
                                                    @*<td>
                                                            @Html.DisplayFor(a => a.ADDDunit_list[i].StatusName)
                                                        </td>*@



                                                    <td>

                                                        <input type="button" class="btn btn-primary" img src="@Url.Content("~/Content/img/pencil2.png")" id="Active_@Model.ADDDunit_list[i].ITI_Trade_Shift_Id" value='View' onclick="ViewTradeforactivedeactiveUnitwiseOS(@Model.ADDDunit_list[i].ITI_Trade_Shift_Id)" />

                                                    </td>
                                                </tr>
                                            }
                                        </tbody>
                                    }

                                </table>
                            </div>
                        </div>
                    </div>
                    @*test*@

                    <div id="Affiliation_view" style="display:none">
                        <div class="form-group" style="border:1px solid black;padding:20px">
                            <div class="row" style="padding:30px">
                                <div class="card a5">
                                    <div class="card-body">
                                        <div class="panel panel-default">
                                            <div class="panel-heading">
                                                <span>Institute Details</span>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-md-2">
                                                <label class="control-label">Name of ITI</label>
                                            </div>
                                            <div class="col-md-2">
                                                <span class="text-name clear"></span>
                                            </div>

                                            <div class="col-md-2">
                                                <label class="control-label">Type of ITI</label>
                                            </div>
                                            <div class="col-md-2">
                                                <span class="text-type clear"></span>
                                            </div>
                                            <div class="col-md-2">
                                                <label class="control-label">Course type</label>
                                            </div>
                                            <div class="col-md-2">
                                                <span class="text-course_name clear"></span>
                                            </div>
                                        </div>

                                        <div class="row">
                                            <div class="col-md-2">
                                                <label class="control-label">MIS ITI Code</label>
                                            </div>
                                            <div class="col-md-2">
                                                <span class="text-mis clear"></span>
                                            </div>
                                            <div class="col-md-2">
                                                <label class="control-label">Email Id</label>
                                            </div>
                                            <div class="col-md-2">
                                                <span class="text-email clear"></span>
                                            </div>
                                            <div class="col-md-2">
                                                <label class="control-label">Principal Phone No</label>
                                                <input type="hidden" id="CollegeID" value="0" />
                                                <input type="hidden" id="tradeID" value="0" />
                                                <input type="hidden" id="TradeShiftId" value="0" />
                                                <input type="hidden" id="Units" value="0" />
                                                <input type="hidden" id="Shifts" value="0" />
                                                <input type="hidden" id="IsActive" value="0" />
                                                <input type="hidden" id="IsActiveNew" value="" />
                                            </div>
                                            <div class="col-md-2">
                                                <span class="text-number clear"></span>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-md-2">
                                                <label class="control-label">Date Of Esatblishment</label>
                                            </div>
                                            <div class="col-md-2">
                                                <span class="text-date clear"></span>
                                            </div>

                                            <div class="col-md-2">
                                                <label class="control-label">Website</label>
                                            </div>
                                            <div class="col-md-2">
                                                <span class="text-website clear"></span>
                                            </div>

                                        </div>

                                        <div class="panel panel-default">
                                            <div class="panel-heading">
                                                <span>Address Details</span>
                                            </div>
                                        </div>

                                        <div class="row">
                                            <div class="col-md-2">
                                                <label class="control-label">Address</label>
                                            </div>
                                            <div class="col-md-2">
                                                <span class="text-address clear"></span>
                                            </div>
                                            <div class="col-md-2">
                                                <label class="control-label">Location Type</label>
                                            </div>
                                            <div class="col-md-2">
                                                <span class="text-location clear"></span>
                                            </div>
                                            <div class="col-md-2">
                                                <label class="control-label">state</label>
                                            </div>
                                            <div class="col-md-2">
                                                <span class=" clear">Karnataka</span>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-md-2">
                                                <label class="control-label">Division</label>
                                            </div>
                                            <div class="col-md-2">
                                                <span class="text-Division clear"></span>
                                            </div>
                                            <div class="col-md-2">
                                                <label class="control-label">District</label>
                                            </div>
                                            <div class="col-md-2">
                                                <span class="text-district clear"></span>
                                            </div>
                                            <div class="col-md-2">
                                                <label class="control-label">Taluk</label>
                                            </div>
                                            <div class="col-md-2">
                                                <span class="text-taluk clear"></span>
                                            </div>
                                        </div>

                                        <div class="row">
                                            <div class="col-md-2">
                                                <label class="control-label">Constituency</label>
                                            </div>
                                            <div class="col-md-2">
                                                <span class="text-constituency clear"></span>
                                            </div>
                                            <div class="col-md-2">
                                                <label class="control-label">Build up Area</label>
                                            </div>
                                            <div class="col-md-2">
                                                <span class="text-build clear"></span>
                                            </div>
                                            <div class="col-md-2">
                                                <label class="control-label">Geo Latitude Longitude</label>
                                            </div>
                                            <div class="col-md-2">
                                                <span class="text-geo clear"></span>
                                            </div>
                                        </div>

                                        <div class="row">
                                            <div class="col-md-2">
                                                <label class="control-label">Pincode</label>
                                            </div>
                                            <div class="col-md-2">
                                                <span class="text-pincode clear"></span>
                                            </div>

                                        </div>
                                        <div class="panel panel-default">
                                            <div class="panel-heading">
                                                <span>Affiliation Details</span>
                                            </div>
                                        </div>

                                        <div class="row">
                                            <div class="col-md-2">
                                                <label class="control-label">Affiliation order No</label>
                                            </div>
                                            <div class="col-md-2">
                                                <span class="text-AfflOrderNo clear"></span>
                                            </div>
                                            <div class="col-md-2">
                                                <label class="control-label">Affiliation order Date</label>
                                            </div>
                                            <div class="col-md-2">
                                                <span class="text-order_no_date clear"></span>
                                            </div>
                                            <div class="col-md-2">
                                                <label class="control-label">Scheme</label>
                                            </div>
                                            <div class="col-md-2">
                                                <span class="text-scheme_name clear"></span>
                                            </div>
                                        </div>
                                        <div class="row">

                                        </div>


                                        <div class="row">
                                            <div class="col-md-2">

                                                <label class="modal-title Affiliationdoc"></label>
                                            </div>
                                            <div class="col-md-2 ">
                                                <a class='btn btn-link2' id="Downloadffiliation" @*onclick="GetDownloadFileLinkForAffiliation()"*@></a>
                                                <input type="hidden" value="" id="DownloadFileLink3" />
                                                <span id="AffiliationFileName"></span>
                                            </div>
                                            @*<div class="col-md-2">
                                                    <label class="modal-title DeactiveDoc"></label>
                                                </div>
                                                <div class="col-md-2 ">
                                                    <a class='btn btn-link' id="Downloaddeactive" onclick="GetDownloadFileLink()"><img src='/Content/img/pdf_logo.png' height='40px' width='40px' /></a>
                                                    <input type="hidden" value="" id="DownloadFileLink" />
                                                </div>
                                                <div class="col-md-2">
                                                    <label class="modal-title ActivateDoc"></label>
                                                </div>
                                                <div class="col-md-2 ">
                                                    <a class='btn btn-link1' id="Downloadactive" onclick="GetDownloadFileLinkForActive()"><img src='/Content/img/pdf_logo.png' height='40px' width='40px' /></a>
                                                    <input type="hidden" value="" id="DownloadFileLink2" />
                                                </div>*@

                                        </div>

                                        @*<div class="row">
                                                <div class="col-md-2">

                                                </div>
                                                <div class="col-md-2 ">

                                                </div>

                                                <div class="col-md-2">
                                                    <label class="modal-title DeactiveOrderNo"></label>
                                                </div>
                                                <div class="col-md-2 ">
                                                    <span class="text-DOrderNo clear"></span>
                                                </div>
                                                <div class="col-md-2">
                                                    <label class="modal-title ActiveOrderNo"></label>
                                                </div>
                                                <div class="col-md-2 ">
                                                    <span class="text-AOrderNo clear"></span>
                                                </div>
                                            </div>

                                            <div class="row">
                                                <div class="col-md-2">

                                                </div>
                                                <div class="col-md-2 ">

                                                </div>

                                                <div class="col-md-2">
                                                    <label class="modal-title NewDeactivedate"></label>
                                                </div>
                                                <div class="col-md-2 ">
                                                    <span class="text-Ddate clear"></span>
                                                </div>
                                                <div class="col-md-2">
                                                    <label class="modal-title NewActiveDate"></label>
                                                </div>
                                                <div class="col-md-2 ">
                                                    <span class="text-Adate clear"></span>
                                                </div>
                                            </div>*@

                                        <div class="row">
                                            <div class="col-md-12">
                                                <br />
                                                <table class="table table-bordered" id="tblAffiliationDoc">
                                                    <thead>
                                                        <tr>
                                                            <th>Sl No.</th>
                                                            <th>Active/De-Active Order Number</th>
                                                            <th>Active/De-Active Order Date</th>
                                                            <th>FileName</th>
                                                            <th>Document</th>
                                                            @*<th>Document For</th>*@

                                                        </tr>
                                                    </thead>
                                                    <tbody></tbody>
                                                </table>

                                            </div>


                                        </div>


                                        <div class="panel panel-default">
                                            <div class="panel-heading">
                                                <span>Trade Details</span>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-md-2">
                                                <label class="control-label">Trade Name</label>
                                            </div>
                                            <div class="col-md-2">
                                                <span class="text-trades2 clear"></span>
                                            </div>
                                            <div class="col-md-2">
                                                <label class="control-label">Trade Code</label>
                                            </div>
                                            <div class="col-md-2">
                                                <span class="text-trade_code clear"></span>
                                            </div>
                                            <div class="col-md-2">
                                                <label class="control-label">Sector Name</label>
                                            </div>
                                            <div class="col-md-2">
                                                <span class="text-sector clear"></span>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-md-2">
                                                <label class="control-label">Batch Size</label>
                                            </div>
                                            <div class="col-md-2">
                                                <span class="text-batch_size clear"></span>
                                            </div>
                                            <div class="col-md-2">
                                                <label class="control-label">Trade Type</label>
                                            </div>
                                            <div class="col-md-2">
                                                <span class="text-trade_type clear"></span>
                                            </div>
                                            <div class="col-md-2">
                                                <label class="control-label">Duration</label>
                                            </div>
                                            <div class="col-md-2">
                                                <span class="text-duration clear"></span>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <h4 class="modal-title a1" style="color:#195c9f; text-align:center; font-weight:700"> Trade's Shifts Details</h4>
                                            <br />
                                            <div class="col-md-12">
                                                <table id="tblViewShift" class="table table-bordered">
                                                    <thead>
                                                        <tr>
                                                            <th>Sl.No</th>
                                                            <th>Unit</th>
                                                            <th>Shift</th>
                                                            @*<th>Is PPP</th>
                                                                <th>Mode of Training</th>*@
                                                            <th>Status</th>
                                                        </tr>
                                                    </thead>
                                                    <tbody></tbody>
                                                </table>
                                            </div>

                                        </div>

                                        <br />
                                        <br />
                                        <div class="card">
                                            <div class="card-body border">
                                                <div class="row"></div>
                                                <div class="row"></div>
                                                <div class="row">
                                                    <div class="col-lg-12">
                                                        <div class="col-lg-4">
                                                            <div class="col-lg-4">
                                                                <label class="control-label">Status</label>
                                                            </div>
                                                            <div class="col-lg-8">
                                                                <select id="dd-status" class="form-control clear"></select>

                                                            </div>
                                                        </div>
                                                        @if (Session["CollegeId"] == null)
                                                        {
                                                            <div class="col-lg-4">
                                                                <div class="col-md-4">
                                                                    <label class="control-label"> Send To:</label>
                                                                </div>
                                                                <div class="col-md-8">
                                                                    <select id="dd-flow" class="form-control clear"></select>
                                                                </div>
                                                            </div>
                                                        }

                                                        <div class="col-md-4">
                                                            <div class="col-md-4">
                                                                <label class="control-label">Remarks</label>
                                                            </div><div class="col-md-8">
                                                                <textarea id="Remarks" class="form-control clear" style="margin:-10px"></textarea>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="row"></div>
                                                    <div class="row"></div>
                                                    <div class="row">
                                                        <div class="col-md-5"></div>
                                                        <div class="col-md-2">
                                                            <input type="button" id="snd" class="btn btn-primary" value="Submit" onclick="SaveActivedeactiveUnitwiseupdateADDD();" />

                                                            <input type="button" id="" class="btn btn-danger" value="Cancel" onclick="clearView()" />
                                                        </div>
                                                        <div class="col-md-5"></div>
                                                    </div>

                                                </div>

                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <input type="hidden" id="Trade_ITI_Id" value="" />
                            <br />

                            <div class="row col-md-12 a">
                                @*<button class="btn btn-primary collaps-history a" data-toggle="collapse" data-target="#collapseThree" aria-expanded="false" aria-controls="collapseThree" style="margin-top: 25px">Show Trade Active Deactive History</button>*@

                                <br />
                                <br />
                                @*<div id="collapseThree" class="collapse" aria-labelledby="headingThree" data-parent="#accordionExample">*@
                                <div class="col-md-12" style="color:#195c9f; text-align:center">
                                    <h3 class="modal-title head1">Trade Active/DeActive History:</h3>

                                </div>
                                <br /><br />
                                <br />
                                <table class="table table-bordered" id="tblHistory">
                                    <thead>
                                        <tr>
                                            <th>Slno</th>
                                            <th>Date & time</th>
                                            <th>From</th>
                                            <th>To </th>
                                            <th>Remarks</th>
                                            <th>Status</th>
                                        </tr>
                                    </thead>
                                    <tbody></tbody>
                                </table>
                                @* </div> *@
                            </div>

                        </div>


                    </div>

                    @*test*@

                    <div class="form-group">
                        <div class="col-md-2 row">
                            <div class="col-md-6">

                            </div>
                            <div class="col-md-6">

                            </div>
                        </div>
                    </div>
                </div>

            }


        </div>



        <div class="tab-pane fade" id="tab_3">
            <div class="row">
                <div class="col-lg-12">
                </div>
            </div>

            <input type="hidden" id="hdnSession" data-value="@Request.RequestContext.HttpContext.Session["UserId"]" />
            @if (Convert.ToInt32(Session["RoleId"]) == (int)Models.Affiliation.CsystemType.getCommon.CaseWorker || Convert.ToInt32(Session["RoleId"]) == (int)Models.Affiliation.CsystemType.getCommon.OFFICE_SUPERINTENDENT || Convert.ToInt32(Session["RoleId"]) == (int)Models.Affiliation.CsystemType.getCommon.Assistant_Director || Convert.ToInt32(Session["RoleId"]) == (int)Models.Affiliation.CsystemType.getCommon.Deputy_Director || Convert.ToInt32(Session["RoleId"]) == (int)Models.Affiliation.CsystemType.getCommon.Commissioner || Convert.ToInt32(Session["RoleId"]) == (int)Models.Affiliation.CsystemType.getCommon.Joint_Director || Convert.ToInt32(Session["RoleId"]) == (int)Models.Affiliation.CsystemType.getCommon.Additional_Director)
            {

        <div class="row" style="text-align:right;padding-left:75px">
            @if (Convert.ToInt32(Session["RoleId"]) == (int)Models.Affiliation.CsystemType.getCommon.Deputy_Director) //for AD and DD

            {
                <input type="button" class="btn btn-primary" value='Publish' id="Publishbutton" onclick="PublishActivedeactiveUnitwise();" hidden="@Model.ViewUnitDetails" />
                <input type="button" class="btn btn-success" value='Export To Excel' style="text-align:center" onclick="ExcelExportTentative();" />
            }
        </div>

                <div class="row">

                    <div class="form-group">

                        <div class="col-md-12" id="tblGridUpdateTrade1" style="text-align:right;">

                            <h2 class="head1">View Active - De-active Trade Details</h2>
                            @*@if (Convert.ToInt32(Session["RoleId"]) == (int)Models.Affiliation.CsystemType.getCommon.Deputy_Director) //for AD and DD

                                {
                                    <input type="button" class="btn btn-primary" value='Publish' onclick="PublishActivedeactiveUnitwise();" hidden="@Model.ViewUnitDetails" />
                                }*@
                            <br /><br />

                            <div style="overflow-y:scroll" id="tblGridUpdateAffiliation_wrapper">

                                <table class="table table-bordered table-hover" id="tblGridUpdateAffiliation2">
                                    <thead>
                                        <tr>
                                            <th>SL.No</th>
                                            <th>Date</th>
                                            <th>Course Type</th>
                                            <th>MIS ITI Code</th>
                                            <th>Institute Name</th>

                                            <th>Address</th>
                                            <th>Division</th>
                                            <th>District</th>
                                            <th>Trades</th>
                                            <th>Units</th>
                                            <th>Shift</th>
                                            <th>Unit Status</th>
                                            <th>Trade Current Status</th>
                                            @if (Convert.ToInt32(Session["RoleId"]) == (int)Models.Affiliation.CsystemType.getCommon.Deputy_Director) //for AD and DD

                                            {
                                                <th>Action</th>
                                            }
                                            @*<th>Action</th>*@


                                        </tr>
                                    </thead>
                                    @if (Model.ViewUnitDetails != null)
                                    {
                                        <tbody>
                                            @for (var i = 0; i < Model.ViewUnitDetails.Count(); i++)
                                            {
                                                var FileUploadPathChk = Convert.ToString(Model.ViewUnitDetails[i].FileUploadPath);
                                                var statusidChk = Convert.ToString(Model.ViewUnitDetails[i].status_id);
                                                <tr>
                                                    <td></td>
                                                    <td>@Html.DisplayFor(a => a.ViewUnitDetails[i].date, new { @class = "Date" })</td>
                                                    <td>
                                                        @Html.DisplayFor(a => a.ViewUnitDetails[i].CourseType, new { @class = "CourseType" })
                                                    </td>
                                                    <td>
                                                        @Html.DisplayFor(a => a.ViewUnitDetails[i].miscode, new { @class = "miscode" })
                                                    </td>
                                                    <td>
                                                        @Html.DisplayFor(a => a.ViewUnitDetails[i].iti_college, new { @class = "iti_college" })
                                                        @Html.HiddenFor(a => a.ViewUnitDetails[i].iti_college_id, new { @class = "iti_college_id" })
                                                        @Html.HiddenFor(a => a.ViewUnitDetails[i].iti_college_id, new { @class = "iti_college_id" })
                                                        @Html.HiddenFor(a => a.ViewUnitDetails[i].Trade_ITI_id, new { @class = "trade_iti_id" })
                                                        @Html.HiddenFor(a => a.ViewUnitDetails[i].ITI_Trade_Shift_Id, new { @class = "ITI_Trade_Shift_Id" })
                                                        @Html.HiddenFor(a => a.ViewUnitDetails[i].StatusName, new { @class = "StatusName" })
                                                    </td>


                                                    <td>
                                                        @Html.DisplayFor(a => a.ViewUnitDetails[i].college_Address, new { @class = "college_Address" })
                                                    </td>
                                                    <td>
                                                        @Html.DisplayFor(a => a.ViewUnitDetails[i].Division, new { @class = "Division" })
                                                    </td>
                                                    <td>
                                                        @Html.DisplayFor(a => a.ViewUnitDetails[i].District, new { @class = "District" })
                                                    </td>
                                                    <td>
                                                        @Html.DisplayFor(a => a.ViewUnitDetails[i].trades, new { @class = "trades" })
                                                    </td>
                                                    <td>
                                                        @Html.DisplayFor(a => a.ViewUnitDetails[i].units, new { @class = "units" })
                                                    </td>
                                                    <td>
                                                        @Html.DisplayFor(a => a.ViewUnitDetails[i].Shifts, new { @class = "Shifts" })
                                                    </td>
                                                    @*<td>
                                                            @Html.DisplayFor(a => a.ViewUnitDetails[i].StatusName)
                                                        </td>*@
                                                    <td>
                                                        @if (Model.ViewUnitDetails[i].IsActiveTr == true)
                                                        //if (Model.list1[i].ActiveDeActive == false)
                                                        {
                                                            <input type="text" id="Active_@Model.ViewUnitDetails[i].ITI_Trade_Shift_Id" value='Active' class="form-control" readonly="readonly" />

                                                            @*@Html.HiddenFor(a => a.list1[i].iti_college_id, new { @class = "collegeId" })*@
                                                        }
                                                        else
                                                        {
                                                            <input type="text" id="Deactive_@Model.ViewUnitDetails[i].ITI_Trade_Shift_Id" value='Deactive' class="form-control" readonly="readonly" />
                                                            @*<input type="text" id="DeActive_@Model.list1[i].Trade_ITI_id" value='Deactive' class="btn btn-primary statusbtn" onclick="SaveActivedeactiveupdate(this);" />*@
                                                            @*@Html.HiddenFor(a => a.list1[i].iti_college_id, new { @class = "collegeId" })*@
                                                        }
                                                    </td>
                                                    <td>
                                                        @if (Model.ViewUnitDetails[i].IsActive == true)
                                                        //if (Model.list1[i].ActiveDeActive == false)
                                                        {
                                                            <input type="text" id="Active_@Model.ViewUnitDetails[i].ITI_Trade_Shift_Id" value='Active' class="form-control" readonly="readonly" />

                                                            @*@Html.HiddenFor(a => a.list1[i].iti_college_id, new { @class = "collegeId" })*@
                                                        }
                                                        else
                                                        {
                                                            <input type="text" id="Deactive_@Model.ViewUnitDetails[i].ITI_Trade_Shift_Id" value='Deactive' class="form-control" readonly="readonly" />
                                                            @*<input type="text" id="DeActive_@Model.list1[i].Trade_ITI_id" value='Deactive' class="btn btn-primary statusbtn" onclick="SaveActivedeactiveupdate(this);" />*@
                                                            @*@Html.HiddenFor(a => a.list1[i].iti_college_id, new { @class = "collegeId" })*@
                                                        }
                                                    </td>
                                                    @if (Convert.ToInt32(Session["RoleId"]) == (int)Models.Affiliation.CsystemType.getCommon.Deputy_Director) //for AD and DD

                                                    {
                                                        <td>

                                                            <input type="button" class="btn btn-primary" img src="@Url.Content("~/Content/img/pencil2.png")" id="Active_@Model.ViewUnitDetails[i].ITI_Trade_Shift_Id" value="View" onclick="ViewTradeforactivedeactiveUnitwiseVe(@Model.ViewUnitDetails[i].ITI_Trade_Shift_Id)" />

                                                        </td>
                                                    }
                                                    @*<td>*@
                                                    @*<a href="@Url.Action("Edit","Controller")" id="Active_@Model.list1[i].Trade_ITI_id">*@
                                                    @*<input type="image" img src="@Url.Content("~/Content/img/pencil2.png")" id="Active_@Model.ViewUnitDetails[i].ITI_Trade_Shift_Id" disabled="disabled" value="@Url.Content("~/Content/img/pencil2.png")" onclick="ViewTradeforactivedeactive(@Model.ViewUnitDetails[i].ITI_Trade_Shift_Id)" />

                                                        </td>*@

                                                </tr>
                                            }
                                        </tbody>
                                    }

                                </table>
                            </div>
                        </div>


                        <div id="Affiliation_view1" style="display:none">
                            <div class="form-group" style="border:1px solid black;padding:20px">
                                <div class="row" style="padding:30px">
                                    <div class="card a5">
                                        <div class="card-body">
                                            <div class="panel panel-default">
                                                <div class="panel-heading">
                                                    <span>Institute Details</span>
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="col-md-2">
                                                    <label class="control-label">Name of ITI</label>
                                                </div>
                                                <div class="col-md-2">
                                                    <span class="text-name clear"></span>
                                                </div>

                                                <div class="col-md-2">
                                                    <label class="control-label">Type of ITI</label>
                                                </div>
                                                <div class="col-md-2">
                                                    <span class="text-type clear"></span>
                                                </div>
                                                <div class="col-md-2">
                                                    <label class="control-label">Course type</label>
                                                </div>
                                                <div class="col-md-2">
                                                    <span class="text-course_name clear"></span>
                                                </div>
                                            </div>

                                            <div class="row">
                                                <div class="col-md-2">
                                                    <label class="control-label">MIS ITI Code</label>
                                                </div>
                                                <div class="col-md-2">
                                                    <span class="text-mis clear"></span>
                                                </div>
                                                <div class="col-md-2">
                                                    <label class="control-label">Email Id</label>
                                                </div>
                                                <div class="col-md-2">
                                                    <span class="text-email clear"></span>
                                                </div>
                                                <div class="col-md-2">
                                                    <label class="control-label">Principal Phone No</label>
                                                    <input type="hidden" id="CollegeID" value="0" />
                                                    <input type="hidden" id="tradeID" value="0" />
                                                    <input type="hidden" id="TradeShiftId" value="0" />
                                                    <input type="hidden" id="Units" value="0" />
                                                    <input type="hidden" id="Shifts" value="0" />
                                                    <input type="hidden" id="IsActive" value="0" />
                                                    <input type="hidden" id="IsActiveNew" value="" />
                                                </div>
                                                <div class="col-md-2">
                                                    <span class="text-number clear"></span>
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="col-md-2">
                                                    <label class="control-label">Date Of Esatblishment</label>
                                                </div>
                                                <div class="col-md-2">
                                                    <span class="text-date clear"></span>
                                                </div>

                                                <div class="col-md-2">
                                                    <label class="control-label">Website</label>
                                                </div>
                                                <div class="col-md-2">
                                                    <span class="text-website clear"></span>
                                                </div>

                                            </div>

                                            <div class="panel panel-default">
                                                <div class="panel-heading">
                                                    <span>Address Details</span>
                                                </div>
                                            </div>

                                            <div class="row">
                                                <div class="col-md-2">
                                                    <label class="control-label">Address</label>
                                                </div>
                                                <div class="col-md-2">
                                                    <span class="text-address clear"></span>
                                                </div>
                                                <div class="col-md-2">
                                                    <label class="control-label">Location Type</label>
                                                </div>
                                                <div class="col-md-2">
                                                    <span class="text-location clear"></span>
                                                </div>
                                                <div class="col-md-2">
                                                    <label class="control-label">state</label>
                                                </div>
                                                <div class="col-md-2">
                                                    <span class=" clear">Karnataka</span>
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="col-md-2">
                                                    <label class="control-label">Division</label>
                                                </div>
                                                <div class="col-md-2">
                                                    <span class="text-Division clear"></span>
                                                </div>
                                                <div class="col-md-2">
                                                    <label class="control-label">District</label>
                                                </div>
                                                <div class="col-md-2">
                                                    <span class="text-district clear"></span>
                                                </div>
                                                <div class="col-md-2">
                                                    <label class="control-label">Taluk</label>
                                                </div>
                                                <div class="col-md-2">
                                                    <span class="text-taluk clear"></span>
                                                </div>
                                            </div>

                                            <div class="row">
                                                <div class="col-md-2">
                                                    <label class="control-label">Constituency</label>
                                                </div>
                                                <div class="col-md-2">
                                                    <span class="text-constituency clear"></span>
                                                </div>
                                                <div class="col-md-2">
                                                    <label class="control-label">Build up Area</label>
                                                </div>
                                                <div class="col-md-2">
                                                    <span class="text-build clear"></span>
                                                </div>
                                                <div class="col-md-2">
                                                    <label class="control-label">Geo Latitude Longitude</label>
                                                </div>
                                                <div class="col-md-2">
                                                    <span class="text-geo clear"></span>
                                                </div>
                                            </div>

                                            <div class="row">
                                                <div class="col-md-2">
                                                    <label class="control-label">Pincode</label>
                                                </div>
                                                <div class="col-md-2">
                                                    <span class="text-pincode clear"></span>
                                                </div>

                                            </div>
                                            <div class="panel panel-default">
                                                <div class="panel-heading">
                                                    <span>Affiliation Details</span>
                                                </div>
                                            </div>

                                            <div class="row">
                                                <div class="col-md-2">
                                                    <label class="control-label">Affiliation order No</label>
                                                </div>
                                                <div class="col-md-2">
                                                    <span class="text-AfflOrderNo clear"></span>
                                                </div>
                                                <div class="col-md-2">
                                                    <label class="control-label">Affiliation order Date</label>
                                                </div>
                                                <div class="col-md-2">
                                                    <span class="text-order_no_date clear"></span>
                                                </div>
                                                <div class="col-md-2">
                                                    <label class="control-label">Scheme</label>
                                                </div>
                                                <div class="col-md-2">
                                                    <span class="text-scheme_name clear"></span>
                                                </div>
                                            </div>
                                            <div class="row">

                                            </div>


                                            <div class="row">
                                                <div class="col-md-2">

                                                    <label class="modal-title Affiliationdoc"></label>
                                                </div>
                                                <div class="col-md-2 ">
                                                    <a class='btn btn-link2' id="Downloadffiliationdoc1" @*onclick="GetDownloadFileLinkForAffiliation()"*@></a>
                                                    <input type="hidden" value="" id="DownloadFileLink3" />
                                                    <span id="AffiliationFileName"></span>
                                                </div>
                                                @*<div class="col-md-2">
                                                        <label class="modal-title DeactiveDoc"></label>
                                                    </div>
                                                    <div class="col-md-2 ">
                                                        <a class='btn btn-link' id="Downloaddeactive" onclick="GetDownloadFileLink()"><img src='/Content/img/pdf_logo.png' height='40px' width='40px' /></a>
                                                        <input type="hidden" value="" id="DownloadFileLink" />
                                                    </div>
                                                    <div class="col-md-2">
                                                        <label class="modal-title ActivateDoc"></label>
                                                    </div>
                                                    <div class="col-md-2 ">
                                                        <a class='btn btn-link1' id="Downloadactive" onclick="GetDownloadFileLinkForActive()"><img src='/Content/img/pdf_logo.png' height='40px' width='40px' /></a>
                                                        <input type="hidden" value="" id="DownloadFileLink2" />
                                                    </div>*@

                                            </div>

                                            @*<div class="row">
                                                    <div class="col-md-2">

                                                    </div>
                                                    <div class="col-md-2 ">

                                                    </div>

                                                    <div class="col-md-2">
                                                        <label class="modal-title DeactiveOrderNo"></label>
                                                    </div>
                                                    <div class="col-md-2 ">
                                                        <span class="text-DOrderNo clear"></span>
                                                    </div>
                                                    <div class="col-md-2">
                                                        <label class="modal-title ActiveOrderNo"></label>
                                                    </div>
                                                    <div class="col-md-2 ">
                                                        <span class="text-AOrderNo clear"></span>
                                                    </div>
                                                </div>

                                                <div class="row">
                                                    <div class="col-md-2">

                                                    </div>
                                                    <div class="col-md-2 ">

                                                    </div>

                                                    <div class="col-md-2">
                                                        <label class="modal-title NewDeactivedate"></label>
                                                    </div>
                                                    <div class="col-md-2 ">
                                                        <span class="text-Ddate clear"></span>
                                                    </div>
                                                    <div class="col-md-2">
                                                        <label class="modal-title NewActiveDate"></label>
                                                    </div>
                                                    <div class="col-md-2 ">
                                                        <span class="text-Adate clear"></span>
                                                    </div>
                                                </div>*@

                                            <div class="row">
                                                <div class="col-md-12">
                                                    <br />
                                                    <table class="table table-bordered" id="tblAffiliationDoc">
                                                        <thead>
                                                            <tr>
                                                                <th>Sl No.</th>
                                                                <th>Active/De-Active Order Number</th>
                                                                <th>Active/De-Active Order Date</th>
                                                                <th>FileName</th>
                                                                <th>Document</th>
                                                                @*<th>Document For</th>*@

                                                            </tr>
                                                        </thead>
                                                        <tbody></tbody>
                                                    </table>

                                                </div>


                                            </div>


                                            <div class="panel panel-default">
                                                <div class="panel-heading">
                                                    <span>Trade Details</span>
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="col-md-2">
                                                    <label class="control-label">Trade Name</label>
                                                </div>
                                                <div class="col-md-2">
                                                    <span class="text-trades clear"></span>
                                                </div>
                                                <div class="col-md-2">
                                                    <label class="control-label">Trade Code</label>
                                                </div>
                                                <div class="col-md-2">
                                                    <span class="text-trade_code clear"></span>
                                                </div>
                                                <div class="col-md-2">
                                                    <label class="control-label">Sector Name</label>
                                                </div>
                                                <div class="col-md-2">
                                                    <span class="text-sector clear"></span>
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="col-md-2">
                                                    <label class="control-label">Batch Size</label>
                                                </div>
                                                <div class="col-md-2">
                                                    <span class="text-batch_size clear"></span>
                                                </div>
                                                <div class="col-md-2">
                                                    <label class="control-label">Trade Type</label>
                                                </div>
                                                <div class="col-md-2">
                                                    <span class="text-trade_type clear"></span>
                                                </div>
                                                <div class="col-md-2">
                                                    <label class="control-label">Duration</label>
                                                </div>
                                                <div class="col-md-2">
                                                    <span class="text-duration clear"></span>
                                                </div>
                                            </div>
                                            <div class="row">
                                                <h4 class="modal-title a1" style="color:#195c9f; text-align:center; font-weight:700"> Trade's Shifts Details</h4>
                                                <br />
                                                <div class="col-md-12">
                                                    <table id="tblViewShift" class="table table-bordered">
                                                        <thead>
                                                            <tr>
                                                                <th>Sl.No</th>
                                                                <th>Unit</th>
                                                                <th>Shift</th>
                                                                @*<th>Is PPP</th>
                                                                    <th>Mode of Training</th>*@
                                                                <th>Status</th>
                                                            </tr>
                                                        </thead>
                                                        <tbody></tbody>
                                                    </table>
                                                </div>

                                            </div>

                                            <br />
                                            <br />
                                            <div class="card">
                                                <div class="card-body border">
                                                    @*<div class="row"></div>
                                                        <div class="row"></div>*@
                                                    <div class="row">
                                                        @*<div class="col-lg-12">
                                                                <div class="col-lg-4"> status remarks send to to br hiiden when trade unit detail viewed
                                                                                        in view node for DD login
                                                                    <div class="col-lg-4">
                                                                        <label class="control-label">Status</label>
                                                                    </div>
                                                                    <div class="col-lg-8">
                                                                        <select id="dd-status" class="form-control clear"></select>

                                                                    </div>
                                                                </div>
                                                                @if (Session["CollegeId"] == null)
                                                                {
                                                                    <div class="col-lg-4">
                                                                        <div class="col-md-4">
                                                                            <label class="control-label"> Send To:</label>
                                                                        </div>
                                                                        <div class="col-md-8">
                                                                            <select id="dd-flow" class="form-control clear"></select>
                                                                        </div>
                                                                    </div>
                                                                }

                                                                <div class="col-md-4">
                                                                    <div class="col-md-4">
                                                                        <label class="control-label">Remarks</label>
                                                                    </div><div class="col-md-8">
                                                                        <textarea id="Remarks" class="form-control clear" style="margin:-10px"></textarea>
                                                                    </div>
                                                                </div>
                                                            </div>*@
                                                        @*<div class="row"></div>
                                                            <div class="row"></div>*@
                                                        <div class="row">
                                                            <div class="col-md-5"></div>
                                                            <div class="col-md-2">


                                                                <input type="button" id="" class="btn btn-danger" value="Cancel" onclick="$('#tblGridUpdateAffiliation_wrapper').show(); $('#tblGridUpdateTrade').show(); $('#tblGridUpdateTrade1').show(); $('#Affiliation_view1').hide(); $('#Remarks_Required').hide(); $('#uploadfile_Required').hide(); $('#uploadfile').val(''); $('#Remarks').val(''); $('#dd-flow').val(''); $('#dd-status').val(''); $('#tblHistory tbody').empty(); $('#DistrictWiseFilter').show();$('#Publishbutton').show()" />
                                                            </div>
                                                            <div class="col-md-5"></div>
                                                        </div>

                                                    </div>

                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <input type="hidden" id="Trade_ITI_Id" value="" />
                                <br />

                                <div class="row col-md-12 a">
                                    @*<button class="btn btn-primary collaps-history a" data-toggle="collapse" data-target="#collapseThree" aria-expanded="false" aria-controls="collapseThree" style="margin-top: 25px">Show Trade Active Deactive History</button>*@

                                    <br />
                                    <br />
                                    @*<div id="collapseThree" class="collapse" aria-labelledby="headingThree" data-parent="#accordionExample">*@
                                    <div class="col-md-12" style="color:#195c9f; text-align:center">
                                        <h3 class="modal-title head1">Trade Active/DeActive History:</h3>

                                    </div>
                                    <br /><br />
                                    <br />
                                    <table class="table table-bordered" id="tblHistory">
                                        <thead>
                                            <tr>
                                                <th>Slno</th>
                                                <th>Date & time</th>
                                                <th>From</th>
                                                <th>To </th>
                                                <th>Remarks</th>
                                                <th>Status</th>
                                            </tr>
                                        </thead>
                                        <tbody></tbody>
                                    </table>
                                    @* </div> *@
                                </div>

                            </div>


                        </div>


                        <div class="form-group">
                            <div class="col-md-2 row">
                                <div class="col-md-6">

                                </div>
                                <div class="col-md-6">

                                </div>
                            </div>
                        </div>
                    </div>
                </div>

            }

        </div>

        <div class="tab-pane fade" id="tab_6">
            <div class="row">
                <div class="col-lg-12">
                </div>
            </div>

            <input type="hidden" id="hdnSession" data-value="@Request.RequestContext.HttpContext.Session["UserId"]" />
            @if (Convert.ToInt32(Session["RoleId"]) == (int)Models.Affiliation.CsystemType.getCommon.Deputy_Director)
            {
                <div class="row">
                    <div class="form-group">
                        <div class="col-md-12" id="tblGridUpdateTrade1">
                            <h3 class="modal-title a1 head">View Active And De-Active Details For Publish</h3>
                            <br /><br />
                            @*<input type="button" class="btn btn-primary" value='Publish' style="text-align:center" onclick="ViewTradeforactivedeactiveUnitwiseVe()" />*@
                            <div style="overflow-y:scroll" id="tblGridUpdateAffiliation_wrapper">
                                <table class="table table-bordered table-hover" id="tblGridUpdateAffiliation2">
                                    <thead>
                                        <tr>
                                            <th>SL.No</th>
                                            <th>Date</th>
                                            <th>Course Type</th>
                                            <th>MIS ITI Code</th>
                                            <th>Institute Name</th>
                                            <th>Address</th>
                                            <th>Division</th>
                                            <th>District</th>
                                            <th>Trades</th>
                                            <th>Units</th>
                                            <th>Shift</th>
                                            <th>Unit Status</th>
                                            <th>Trade Current Status</th>
                                            <th>Action</th>

                                            @*<th>Action</th>*@


                                        </tr>
                                    </thead>
                                    @if (Model.ViewUnitDetails != null)
                                    {
                                        <tbody>
                                            @for (var i = 0; i < Model.ViewUnitDetails.Count(); i++)
                                            {
                                                var FileUploadPathChk = Convert.ToString(Model.ViewUnitDetails[i].FileUploadPath);
                                                var statusidChk = Convert.ToString(Model.ViewUnitDetails[i].status_id);
                                                <tr>
                                                    <td></td>
                                                    <td>@Html.DisplayFor(a => a.ViewUnitDetails[i].date)</td>
                                                    <td>
                                                        @Html.DisplayFor(a => a.ViewUnitDetails[i].CourseType)
                                                    </td>
                                                    <td>
                                                        @Html.DisplayFor(a => a.ViewUnitDetails[i].miscode)
                                                    </td>
                                                    <td>
                                                        @Html.DisplayFor(a => a.ViewUnitDetails[i].iti_college)
                                                        @Html.HiddenFor(a => a.ViewUnitDetails[i].iti_college_id, new { @class = "iti_college_id" })
                                                        @Html.HiddenFor(a => a.ViewUnitDetails[i].Trade_ITI_id, new { @class = "trade_iti_id" })
                                                        @Html.HiddenFor(a => a.ViewUnitDetails[i].ITI_Trade_Shift_Id, new { @class = "ITI_Trade_Shift_Id" })
                                                    </td>
                                                    <td>
                                                        @Html.DisplayFor(a => a.ViewUnitDetails[i].college_Address)
                                                    </td>
                                                    <td>
                                                        @Html.DisplayFor(a => a.ViewUnitDetails[i].Division)
                                                    </td>
                                                    <td>
                                                        @Html.DisplayFor(a => a.ViewUnitDetails[i].District)
                                                    </td>
                                                    <td>
                                                        @Html.DisplayFor(a => a.ViewUnitDetails[i].trades)
                                                    </td>
                                                    <td>
                                                        @Html.DisplayFor(a => a.ViewUnitDetails[i].units)
                                                    </td>
                                                    <td>
                                                        @Html.DisplayFor(a => a.ViewUnitDetails[i].Shifts)
                                                    </td>
                                                    @*<td>
                                                            @Html.DisplayFor(a => a.ViewUnitDetails[i].StatusName)
                                                        </td>*@
                                                    <td>
                                                        @if (Model.ViewUnitDetails[i].IsActiveTr == true)
                                                        //if (Model.list1[i].ActiveDeActive == false)
                                                        {
                                                            <input type="text" id="Active_@Model.ViewUnitDetails[i].ITI_Trade_Shift_Id" value='Active' class="form-control" readonly="readonly" />

                                                            @*@Html.HiddenFor(a => a.list1[i].iti_college_id, new { @class = "collegeId" })*@
                                                        }
                                                        else
                                                        {
                                                            <input type="text" id="Deactive_@Model.ViewUnitDetails[i].ITI_Trade_Shift_Id" value='Deactive' class="form-control" readonly="readonly" />
                                                            @*<input type="text" id="DeActive_@Model.list1[i].Trade_ITI_id" value='Deactive' class="btn btn-primary statusbtn" onclick="SaveActivedeactiveupdate(this);" />*@
                                                            @*@Html.HiddenFor(a => a.list1[i].iti_college_id, new { @class = "collegeId" })*@
                                                        }
                                                    </td>
                                                    <td>
                                                        @if (Model.ViewUnitDetails[i].IsActive == true)
                                                        //if (Model.list1[i].ActiveDeActive == false)
                                                        {
                                                            <input type="text" id="Active_@Model.ViewUnitDetails[i].ITI_Trade_Shift_Id" value='Active' class="form-control" readonly="readonly" />

                                                            @*@Html.HiddenFor(a => a.list1[i].iti_college_id, new { @class = "collegeId" })*@
                                                        }
                                                        else
                                                        {
                                                            <input type="text" id="Deactive_@Model.ViewUnitDetails[i].ITI_Trade_Shift_Id" value='Deactive' class="form-control" readonly="readonly" />
                                                            @*<input type="text" id="DeActive_@Model.list1[i].Trade_ITI_id" value='Deactive' class="btn btn-primary statusbtn" onclick="SaveActivedeactiveupdate(this);" />*@
                                                            @*@Html.HiddenFor(a => a.list1[i].iti_college_id, new { @class = "collegeId" })*@
                                                        }
                                                    </td>
                                                    <td>

                                                        <input type="image" img src="@Url.Content("~/Content/img/pencil2.png")" id="Active_@Model.ViewUnitDetails[i].ITI_Trade_Shift_Id" value="@Url.Content("~/Content/img/pencil2.png")" onclick="ViewTradeforactivedeactiveUnitwiseVe(@Model.ViewUnitDetails[i].ITI_Trade_Shift_Id)" />

                                                    </td>
                                                    @*<td>*@
                                                    @*<a href="@Url.Action("Edit","Controller")" id="Active_@Model.list1[i].Trade_ITI_id">*@
                                                    @*<input type="image" img src="@Url.Content("~/Content/img/pencil2.png")" id="Active_@Model.ViewUnitDetails[i].ITI_Trade_Shift_Id" disabled="disabled" value="@Url.Content("~/Content/img/pencil2.png")" onclick="ViewTradeforactivedeactive(@Model.ViewUnitDetails[i].ITI_Trade_Shift_Id)" />

                                                        </td>*@

                                                </tr>
                                            }
                                        </tbody>
                                    }

                                </table>
                            </div>
                        </div>





                        <div class="form-group">
                            <div class="col-md-2 row">
                                <div class="col-md-6">

                                </div>
                                <div class="col-md-6">

                                </div>
                            </div>
                        </div>
                    </div>
                </div>

            }

        </div>


    </div>
</div>


<div class="modal fade" id="myModal" role="dialog">
    <div class="modal-dialog">
        <div class="modal-content">
            <label id="id1" style="display:none"></label>
            <label id="id2" style="display:none"></label>

            <div class="row">
                <div class="col-lg-offset-1 col-lg-5">
                    <h5>save the changes</h5>
                    <br />
                    <br />
                </div>

                <div class="col-lg-5">
                    <a class=" btn btn-primary" id="submitbtn" data-dismiss="modal" onclick="UpdateRemarksDetailsForSeat()">Submit</a>

                </div>
            </div>
        </div>
    </div>
</div>


<script src="~/Content/js/select2.min.js"></script>
@*<script src="~/Scripts/ActiveandDeactive/activedeactive.js"></script>*@
@Scripts.Render("~/bundles/affiliationMainJs")
@Scripts.Render("~/bundles/DataTable")

<script>
    $(document).ready(function () {
        $('.tab-2').tab('show');
        $('.tab-1').tab('show');
        clicked = false;

        //alert("2");
        var tblGridSeatAvailability = $('#tblGridUpdateAffiliation1').DataTable();
        tblGridSeatAvailability.on('order.dt arch.dt', function () {
            tblGridSeatAvailability.column(0, { search: 'applied', order: 'applied' }).nodes().each(function (cell, i) {
                cell.innerHTML = i + 1;
            });
        }).draw();
    });

    $(document).ready(function () {
        //alert("2");

        
        var tblGridSeatAvailability = $('#tblGridUpdateAffiliation2').DataTable();
        tblGridSeatAvailability.on('order.dt arch.dt', function () {
            tblGridSeatAvailability.column(0, { search: 'applied', order: 'applied' }).nodes().each(function (cell, i) {
                cell.innerHTML = i + 1;
            });
        }).draw();
    });

    function clearView() {
        $("#tblGridUpdateAffiliation_wrapper").show(); $("#Affiliation_view").hide(); $("#Remarks_Required").hide(); $("#uploadfile_Required").hide(); $("#uploadfile").val(""); $("#Remarks").val(""); $("#dd-flow").val(""); $("#dd-status").val(""); $("#activateOrderNo").val(""); $("#deactivateOrderNo").val(""); $("#tblHistory tbody").empty(); $("#tblAffiliationDoc tbody").empty(); $("#DistrictWiseFilter").show("");
        clicked = false;
    }


    function ViewTradeforactivedeactiveUnitwise(ITI_Trade_Shift_Id) {
        

        $("#TradeShiftId").val(ITI_Trade_Shift_Id);
        $("#DistrictWiseFilter").hide();

        $.ajax({
            type: 'Get',
            url: '/Affiliation/GetTradeUnitswiseDetails',

            data: { ITI_Trade_ShiftId: ITI_Trade_Shift_Id },
            success: function (data) {

                if (data.flag == 1) {
                    if (data.flow_id == null || data.flow_id == 0 || data.flow_id == 8 || data.status == 'Published' || data.status == 'Approved') {
                        $("#sed").attr("disabled", false);
                    }
                    else {
                        $("#sed").attr("disabled", true);
                    }

                    //if (data.en_edit) {

                    //    $("#Remarks").attr("disabled", false);

                    //}
                    //else {


                    //    $("#Remarks").attr("disabled", true);

                    //}


                    $("#Affiliation_view").show();
                    $("#Affiliation_div").hide();
                    $("#tblGridUpdateAffiliation_wrapper").hide();

                    $(".text-name").text(data.name_of_iti);
                    $(".text-type").text(data.type_of_iti);
                    $(".text-Course").text(data.type_of_iti);


                    $(".text-mis").text(data.mis_code);
                    $(".text-email").text(data.email);
                    $(".text-number").text(data.phone_number);
                    $(".text-website").text(data.Website);
                    // $(".text-date").text(data.date);

                    $(".text-address").text(data.address);

                    $(".text-location").text(data.location_type);
                    $(".text-Division").text(data.division);
                    $(".text-course_name").text(data.course_name);
                    $(".text-district").text(data.district);
                    $(".text-taluk").text(data.taluka);
                    $(".text-constituency").text(data.constituency);
                    $(".text-order_no_date").text(data.order_no_date);
                    // $(".text-date").text(data.date);
                    //$(".text-village").text(data.village);
                    $(".text-build").text(data.build_up_area);

                    $(".text-geo").text(data.geo_location);
                    $(".text-scheme_name").text(data.scheme_name);
                    $(".text-pincode").text(data.Pincode);
                    //$(".text-number").text(data.phone_number);
                    $(".text-date").text(data.date);
                    $(".text-unit").text(data.no_units);
                    $(".text-shift").text(data.no_shifts);
                    $(".order_no_date").text(data.order_no_date);
                    $(".text-AfflOrderNo").text(data.AffiliationOrderNo);
                    $(".text-date").text(data.date);
                    $(".text-trade_code").text(data.trade_code);
                    $(".text-sector").text(data.sector);
                    $(".text-duration").text(data.duration);
                    $(".text-trade_type").text(data.trade_type);
                    $(".text-batch_size").text(data.batch_size);
                    $(".text-AOrderNo").text(data.ActivateOrderNo);
                    $(".text-DOrderNo").text(data.DeactivateOrderNo);
                    if (data.AffiliationDoc != null) {
                        //$("#deactivateOrderNo").val(data.AffiliationDoc.AffiliationOrder_Number);
                        //$("#newdeactivatedate").val(data.AffiliationDoc.Affiliation_date);
                        //$("#activateOrderNo").val(data.AffiliationDoc.AffiliationOrder_Number);
                        //$("#newactivatedate").val(data.AffiliationDoc.Affiliation_date);
                    }

                    $(".text-Adate").text(data.ActivateDate);
                    $(".text-Ddate").text(data.DeactivateDate);
                    $(".deactivate").text("Upload Deactivate Document");
                    $(".activate").text("Upload activate Document");
                    $(".deactivateOrderlabel").text("Deactivate Order No");
                    $(".activateOrderlabel").text("Activate Order No");
                    $(".deactivateddatelabel").text("Deactivate Date");
                    $(".activatedatelabel").text("Activate Date");
                    $(".DeactiveOrderNo").text("Deactivate Order No");
                    $(".ActiveOrderNo").text("Activate Order No");
                    $(".DeactiveDoc").text("Deactvation Supporting Document");
                    $(".ActivateDoc").text("Activation Supporting Document");
                    $(".Affiliationdoc").text("Affiliation Supporting Document");
                    $(".NewDeactivedate").text("Deactivation date");
                    $(".NewActiveDate").text("Activation Date");
                    if (data.IsActive) {
                        $(".deactivate").show()
                        $("#uploadfile").show()
                        $(".deactivateOrderlabel").show()
                        $("#deactivateOrderNo").show()
                        $(".deactivateddatelabel").show()
                        $(".DeactiveOrderNo").show()
                        $("#newdeactivatedate").show()
                        $(".DeactiveDoc").show()
                        $(".NewDeactivedate").show()
                        $(".activate").hide()
                        $("#uploadfileactive").hide()
                        $(".activateOrderlabel").hide()
                        $("#activateOrderNo").hide()
                        $(".activatedatelabel").hide()
                        $("#newactivatedate").hide()
                        $(".ActiveOrderNo").hide()
                        $(".ActivateDoc").hide()
                        $(".NewActiveDate").hide()
                    }
                    else {

                        $(".activate").show()
                        $("#uploadfileactive").show()
                        $(".activateOrderlabel").show()
                        $("#activateOrderNo").show()
                        $(".activatedatelabel").show()
                        $("#newactivatedate").show()
                        $(".ActiveOrderNo").show()
                        $(".ActivateDoc").show()
                        $(".NewActiveDate").show()
                        $(".deactivate").hide()
                        $("#uploadfile").hide()
                        $(".deactivateOrderlabel").hide()
                        $("#deactivateOrderNo").hide()
                        $(".deactivateddatelabel").hide()
                        $("#newdeactivatedate").hide()
                        //$(".DeactiveOrderNo").hide()
                        //$(".DeactiveDoc").hide()
                        //$(".NewDeactivedate").hide()
                    }

                    
                    $("#DownloadFileLink2").val(data.ActivateFilePath);
                    $("#DownloadFileLink3").val(data.FileUploadPath);
                    var pdffilename = $('#DownloadFileLink3').val().split('\\').pop();
                    $("#AffiliationFileName").text(data.Filename);
                    if (data.ActivateFilePath == null) {
                        $("#Downloadactive").hide();
                        $("#ActivateDoc").hide();
                    }
                    else {
                        $("#Downloadactive").show();
                        $("#ActivateDoc").show();
                    }
                    $("#Downloadffiliation").empty();
                    var html = "<a class='btn btn-link' href='/Affiliation/DownloadAffiliationDoc?CollegeId=" + data.iti_college_id + "&Trade_Id=" + data.trade_id + "' ><img src='/Content/img/pdf_logo.png' height='40px' width='40px' /><span title='pdffilename'></a>"
                    $("#Downloadffiliation").append(html);
                    $('.filename').val(data.Filename)
                    //$("#IsUploaded").val(true);

                    $("#CollegeID").val(data.iti_college_id);
                    $("#tradeID").val(data.trade_iti_id);
                    $(".text-trades1").text(data.trade);
                    $("#TradeShiftId").val(ITI_Trade_Shift_Id);

                    $("#Units").val(data.no_units);
                    $("#Shifts").val(data.no_shifts);
                    $("#IsActive").val(data.IsActive);
                    $("#DownloadFileLink").val(data.Activefilepath);
                    if (data.Activefilepath == null) {
                        $("#Downloaddeactive").hide();
                        $("#DeactiveDoc").hide();
                    }
                    else {
                        $("#Downloaddeactive").show();
                        $("#DeactiveDoc").show();
                    }

                    if (data.status == 'Send Back For Correction/Clarification') {
                        $("#Active").show().attr("disabled", false)
                        $("#DeActive").show().attr("disabled", false)
                        $("#DeActive").show()
                        $("#Active").show()
                    }
                    else if (data.IsActive) {


                        $("#Active").show().attr("disabled", true)
                        $("#DeActive").show().attr("disabled", false)
                        $("#DeActive").show()
                    }
                    else {
                        $("#Active").show()
                        $("#DeActive").show().attr("disabled", true)
                        $("#Active").show().attr("disabled", false)
                    }

                    var _table = $("#tblViewShift tbody");
                    _table.empty();
                    $.each(data.shifts, function (i) {

                        var _tr = $("<tr/>");
                        _tr.append("<td>" + (i + 1) + "</td>");
                        _tr.append("<td>" + this.Units + "</td");
                        _tr.append("<td>" + this.Shift + "</td>");
                        //_tr.append("<td>" + this.IsPPP + "</td>");
                        //_tr.append("<td>" + this.Dual_System + "</td>");
                        if (this.IsActive) {
                            _tr.append("<td>Active <input type='hidden' class='active_status' value='true' /><input type='hidden' class='shiftId' value='" + this.ITI_Trade_Shift_Id + "' /></td>");

                        }
                        else {
                            //if (this.Status == 5) {
                            //    _tr.append("<td>Pending for Approval <input type='hidden' class='active_status' value='false' /><input type='hidden' class='shiftId' value='" + this.ITI_Trade_Shift_Id + "' /></td>");
                            //}
                            //else {
                            _tr.append("<td>DeActive <input type='hidden' class='active_status' value='false' /><input type='hidden' class='shiftId' value='" + this.ITI_Trade_Shift_Id + "' /></td>");
                            // }

                        }
                        _table.append(_tr);
                    });
                    //GetActiveDeactiveTradeHistory(data.trade_iti_id);

                    
                    if (data.activeDeactiveTradeHistories.length > 0) {
                        $.each(data.activeDeactiveTradeHistories, function (i) {
                            var _tr = $("<tr/>");

                            _tr.append("<td>" + (i + 1) + "</td>");
                            _tr.append("<td>" + data.activeDeactiveTradeHistories[i].date + "</td");
                            _tr.append("<td>" + data.activeDeactiveTradeHistories[i].User + "</td>");
                            _tr.append("<td>" + data.activeDeactiveTradeHistories[i].Flow_user + "</td>");
                            _tr.append("<td>" + data.activeDeactiveTradeHistories[i].ActDeActRemarks + "</td>");
                            _tr.append("<td>" + data.activeDeactiveTradeHistories[i].Status + "</td>");


                            $("#tblHistory tbody").append(_tr);
                        });
                    }

                    else {
                        var _tr = $("<tr/>");
                        _tr.append("<td>" + "" + "</td>");
                        _tr.append("<td>" + "" + "</td>");
                        _tr.append("<td>" + "No Data Available" + "</td>");
                        _tr.append("<td>" + "" + "</td>");
                        _tr.append("<td>" + "" + "</td>");

                        $("#tblHistory tbody").append(_tr);
                    }

                    
                    if (data.AffiliationDocs.length > 0) {
                        var _table = $("#tblAffiliationDoc tbody");
                        _table.empty();
                        $.each(data.AffiliationDocs, function (i) {

                            var _tr = $("<tr/>");
                            _tr.append("<td>" + (i + 1) + "</td>");
                            _tr.append("<td>" + this.AffiliationOrder_Number + "</td>");
                            _tr.append("<td>" + this.Affiliation_date.split(' ')[0] + "</td>");
                            _tr.append("<td >" + this.FileName + "</td>");
                            _tr.append("<td ><a class='btn btn-link' href='/Affiliation/DownloadAffiliationDoc?CollegeId=" + data.iti_college_id + "&Trade_Id=" + this.Trade_Id + "&shift_id=" + this.Shift + "&flag=" + this.Flag + "' ><img src='/Content/img/pdf_logo.png' height='40px' width='40px' /></a>" + "" + "</td>");
                            //_tr.append("<td >" + this.Status + "</td>");
                            _table.append(_tr);
                        });
                    }


                } else {
                    bootbox.alert("Error occured while loading data")
                }


            }
        });

    }

    function ViewTradeforactivedeactiveUnitwiseOS(ITI_Trade_Shift_Id) {
        
        $("#DistrictWiseFilter").hide();
        $("#TradeShiftId").val(ITI_Trade_Shift_Id);

        //var IsActive = $("#IsActive").val();
        //var IsActive = $('#IsActiveNew').val();

        $.ajax({
            type: 'Get',
            url: '/Affiliation/GetTradeUnitswiseDetails',

            data: { ITI_Trade_ShiftId: ITI_Trade_Shift_Id },
            success: function (data) {

                if (data.flag == 1) {
                    if (data.en_edit) {
                        $("#dd-status").attr("disabled", false);
                        $("#dd-flow").attr("disabled", false);
                        $("#Remarks").attr("disabled", false);
                        $("#snd").attr("disabled", false);
                    }
                    else {

                        $("#dd-status").attr("disabled", true);
                        $("#dd-flow").attr("disabled", true);
                        $("#Remarks").attr("disabled", true);
                        $("#snd").attr("disabled", true);
                    }

                    $("#Affiliation_view").show();
                    $("#Affiliation_div").hide();
                    $("#tblGridUpdateAffiliation_wrapper").hide();

                    $(".text-name").text(data.name_of_iti);
                    $(".text-type").text(data.type_of_iti);
                    $(".text-location").text(data.location_type);
                    $(".text-mis").text(data.mis_code);
                    $(".text-css").text(data.css_code);
                    $(".text-trades2").text(data.trade);
                    $(".text-district").text(data.district);
                    $(".text-taluk").text(data.taluka);
                    $(".text-constituency").text(data.constituency);
                    $(".text-Panchayat").text(data.panchayat);
                    $(".text-village").text(data.village);
                    $(".text-build").text(data.build_up_area);
                    $(".text-address").text(data.address);
                    $(".text-geo").text(data.geo_location);
                    $(".text-email").text(data.email);
                    $(".text-pincode").text(data.Pincode);
                    $(".text-number").text(data.phone_number);
                    $(".text-date").text(data.date);
                    $(".text-unit").text(data.no_units);
                    $(".text-shift").text(data.no_shifts);
                    $(".text-order_no_date").text(data.order_no_date);
                    $(".text-scheme_name").text(data.scheme_name);
                    $(".text-date").text(data.date);
                    $(".text-AfflOrderNo").text(data.AffiliationOrderNo);
                    $(".text-course_name").text(data.course_name);
                    $(".text-website").text(data.Website);
                    $(".text-Division").text(data.division);
                    $(".text-trade_code").text(data.trade_code);
                    $(".text-sector").text(data.sector);
                    $(".text-duration").text(data.duration);
                    $(".text-trade_type").text(data.trade_type);
                    $(".text-batch_size").text(data.batch_size);
                    //$("#Trade_ITI_Id").val(data.trade_iti_id);
                    
                    $("#CollegeID").val(data.iti_college_id);
                    $("#tradeID").val(data.trade_iti_id);
                    $("#TradeShiftId").val(ITI_Trade_Shift_Id);
                    
                    $("#Units").val(data.no_units);
                    $("#Shifts").val(data.no_shifts);
                    
                    $("#IsActiveNew").val(data.IsActiveNew);
                    $(".text-AOrderNo").text(data.ActivateOrderNo);
                    $(".text-DOrderNo").text(data.DeactivateOrderNo);
                    $(".text-Adate").text(data.ActivateDate);
                    $(".text-Ddate").text(data.DeactivateDate);
                    $(".deactivate").text("Upload Deactivate Document");
                    $(".activate").text("Upload activate Document");
                    $(".deactivateOrderlabel").text("Deactivate Order No");
                    $(".activateOrderlabel").text("Activate Order No");
                    $(".DeactiveDoc").text("Deactvation Supporting Document");
                    $(".ActivateDoc").text("Activation Supporting Document");
                    $(".Affiliationdoc").text("Affiliation Supporting Document");
                    $(".DeactiveOrderNo").text("Deactivate Order No");
                    $(".ActiveOrderNo").text("Activate Order No");
                    $(".NewDeactivedate").text("Deactivation date");
                    $(".NewActiveDate").text("Activation Date");
                    if (data.IsActive) {
                        $(".deactivate").show()
                        $("#uploadfile").show()
                        $(".deactivateOrderlabel").show()
                        $("#deactivateOrderNo").show()
                        $(".NewDeactivedate").show()
                        $(".activate").hide()
                        $("#uploadfileactive").hide()
                        $(".DeactiveOrderNo").show()
                        $(".activateOrderlabel").hide()
                        $("#activateOrderNo").hide()
                        $(".NewActiveDate").hide()
                        $(".ActivateDoc").hide()
                        $(".ActiveOrderNo").hide()
                        $(".NewActiveDate").hide()

                    }
                    else {

                        $(".activate").show()
                        $("#uploadfileactive").show()
                        $(".activateOrderlabel").show()
                        $("#activateOrderNo").show()
                        $(".deactivate").hide()
                        $("#uploadfile").hide()
                        $(".deactivateOrderlabel").hide()
                        $("#deactivateOrderNo").hide()

                    }

                    $("#DownloadFileLink").val(data.Activefilepath);
                    $("#AffiliationFileName").text(data.Filename);
                    $(".DeactiveDoc").text("Deactvation Supporting Document");
                    $(".ActivateDoc").text("Activation Supporting Document");
                    $(".Affiliationdoc").text("Affiliation Supporting Document");

                    if (data.Activefilepath == null) {
                        $("#Downloaddeactive").hide();
                        $("#DeactiveDoc").hide();
                    }
                    else {
                        $("#Downloaddeactive").show();
                        $("#DeactiveDoc").show();
                    }
                    //$("#DownloadFileLink3").val(data.FileUploadPath);
                    $("#Downloadffiliation").empty();
                    var html = "<a class='btn btn-link' href='/Affiliation/DownloadAffiliationDoc?CollegeId=" + data.iti_college_id + "' ><img src='/Content/img/pdf_logo.png' height='40px' width='40px' /></a>"
                    $("#Downloadffiliation").append(html);

                    $("#DownloadFileLink2").val(data.ActivateFilePath);
                    if (data.ActivateFilePath == null) {
                        $("#Downloadactive").hide();
                        $("#ActivateDoc").hide();
                    }
                    else {
                        $("#Downloadactive").show();
                        $("#ActivateDoc").show();
                    }

                    if (data.IsActive) {

                        $("#Active").hide()
                        $("#DeActive").show()
                    }
                    else {
                        $("#Active").show()
                        $("#DeActive").hide()
                    }

                    var _table = $("#tblViewShift tbody");
                    _table.empty();
                    $.each(data.shifts, function (i) {

                        var _tr = $("<tr/>");
                        _tr.append("<td>" + (i + 1) + "</td>");
                        _tr.append("<td>" + this.Units + "</td");
                        _tr.append("<td>" + this.Shift + "</td>");
                        //_tr.append("<td>" + this.IsPPP + "</td>");
                        //_tr.append("<td>" + this.Dual_System + "</td>");
                        if (this.IsActive) {
                            _tr.append("<td>Active <input type='hidden' class='active_status' value='true' /><input type='hidden' class='shiftId' value='" + this.ITI_Trade_Shift_Id + "' /></td>");

                        }
                        else {
                            //if (this.Status == 5) {
                            //    _tr.append("<td>Pending for Approval <input type='hidden' class='active_status' value='false' /><input type='hidden' class='shiftId' value='" + this.ITI_Trade_Shift_Id + "' /></td>");
                            //}
                            //else {
                            _tr.append("<td>DeActive <input type='hidden' class='active_status' value='false' /><input type='hidden' class='shiftId' value='" + this.ITI_Trade_Shift_Id + "' /></td>");
                            // }

                        }
                        _table.append(_tr);
                    });
                    //GetActiveDeactiveTradeHistory(data.trade_iti_id);


                    if (data.activeDeactiveTradeHistories.length > 0) {
                        $.each(data.activeDeactiveTradeHistories, function (i) {
                            var _tr = $("<tr/>");

                            _tr.append("<td>" + (i + 1) + "</td>");
                            _tr.append("<td>" + data.activeDeactiveTradeHistories[i].date + "</td");
                            _tr.append("<td>" + data.activeDeactiveTradeHistories[i].User + "</td>");
                            _tr.append("<td>" + data.activeDeactiveTradeHistories[i].Flow_user + "</td>");
                            _tr.append("<td>" + data.activeDeactiveTradeHistories[i].ActDeActRemarks + "</td>");
                            _tr.append("<td>" + data.activeDeactiveTradeHistories[i].Status + "</td>");


                            $("#tblHistory tbody").append(_tr);
                        });
                    }

                    
                    if (data.AffiliationDocs.length > 0) {
                        var _table = $("#tblAffiliationDoc tbody");
                        _table.empty();
                        $.each(data.AffiliationDocs, function (i) {

                            var _tr = $("<tr/>");
                            _tr.append("<td>" + (i + 1) + "</td>");
                            _tr.append("<td>" + this.AffiliationOrder_Number + "</td>");
                            _tr.append("<td>" + this.Affiliation_date.split(' ')[0] + "</td>");
                            _tr.append("<td >" + this.FileName + "</td>");
                            _tr.append("<td ><a class='btn btn-link' href='/Affiliation/DownloadAffiliationDoc?CollegeId=" + data.iti_college_id + "&Trade_Id=" + this.Trade_Id + "&shift_id=" + this.Shift + "&flag=" + this.Flag + "' ><img src='/Content/img/pdf_logo.png' height='40px' width='40px' /></a>" + "" + "</td>");
                            //_tr.append("<td >" + this.Status + "</td>");
                            _table.append(_tr);
                        });
                    }

                } else {
                    bootbox.alert("Error occured while loading data")
                }


            }
        });

    }

    //$("#dd-status").change(function () {
    //    
    //    $("#dd-flow").empty();
    //    var value = $(this).val();
    //    //if (value == 4) {
    //    $.ajax({
    //        url: "/Affiliation/GetAllUsers1",
    //        type: 'Get',
    //        data: { statusValue: value },
    //        contentType: 'application/json; charset=utf-8',
    //        success: function (data) {

    //            if (data != null || data != '') {
    //                $.each(data, function () {
    //                    
    //                    $("#dd-flow").append($("<option/>").val(this.Value).text(this.Text));
    //                });
    //            }
    //            else {
    //                $("#dd-flow").attr("disabled", true);
    //            }



    //        }, error: function (result) {
    //            bootbox.alert("Error", "something went wrong");
    //        }

    //    });
    //    //}
    //    //var value = $(this).val();
    //    //if (value == 2 || value == 4) {
    //    //    $("#dd-flow").attr("disabled", true);
    //    //}
    //    //else {
    //    //    $("#dd-flow").attr("disabled", false);
    //    //}
    //});

    var activestatus = 0;
    function UpdateActivesttus(status, id) {
        
        $('#' + id).attr("disabled", false);

        clicked = true;
        activestatus = status;
        var DeactiveOrderNo = $("#deactivateOrderNo").val();
        var ActiveOrderNo = $("#activateOrderNo").val();
        var Deactivedate = $("#newdeactivatedate").val();
        var ActiveDate = $("#newactivatedate").val();

        var uplfile = $("#uploadfile").val();
        var unitstatus = $("#IsActive").val();

        if (activestatus == true) {
            var activefileupload = $("#uploadfileactive").val();
            if ((activefileupload == "" || activefileupload == null) && ($('#uploadfileactive').is(':visible'))) {
                IsValid = false;

                bootbox.alert("pls upload PDF file")
                $("#uploadfileactive").show()
                return IsValid;
            }
            bootbox.confirm('<br><br> Are you sure you want to Activate trade?', (confirma) => {
                if (confirma) {
                    $('#' + id).attr("disabled", true);
                    $('#DeActive').attr("disabled", true);
                    //return bootbox.alert(" <br><br> Are you sure you want to Activate trade");
                }
            });

            // confirm(msg);
        }
        else {

            if ((uplfile == "" || uplfile == null) && ($('#uploadfile').is(':visible'))) {
                IsValid = false;
                var file = $("#DownloadFileLink").val()
                if (file == false || file == undefined)

                    bootbox.alert("pls upload PDF file")
                $("#uploadfile_Required").show()
                return IsValid;
            }
            bootbox.confirm('<br><br> Are you sure you want to Deactive trade?', (confirma) => {
                if (confirma) {
                    $('#' + id).attr("disabled", true);
                    $('#Active').attr("disabled", true);
                    //return bootbox.alert("<br><br> Are you sure You Want to De-Activate trade");
                }
            });
            // confirm(msg);
        }



        //if (activestatus == true) {
        //    return bootbox.alert("Active Selected")
        //}
        //else {
        //    return bootbox.alert("De-Active Selected")
        //}

    }

    $('#uploadfile').change(function () {
        
        var ext = $(this).val().split('.').pop().toLowerCase();
        if (ext != "") {
            if ($.inArray(ext, ['pdf', 'PDF']) == -1) {
                bootbox.alert("<br><br>Kindly upload valid PDF file");
                $(this).val("");
            }
        } else {
            $(this).val("");
        }


        if (this.files[0].size > 200 * 1024) {
            bootbox.alert("<br><br>File size should be less than 200kb");
            $(this).val("");
        }

    });



    function SaveActivedeactiveUnitwiseupdate() {


        
        //$("#DistrictWiseFilter").show();
        var IsActive = $(".statusbtn").val();
        var IsDeActive = $("#Deactive").val();
        var IsValid = true;
        var uplfile = $("#uploadfile").val();
        var ext = $("#Extension").val();
        var DeactiveOrderNo = $("#deactivateOrderNo").val();
        var ActiveOrderNo = $("#activateOrderNo").val();
        var Deactivedate = $("#newdeactivatedate").val();
        var ActiveDate = $("#newactivatedate").val();
        var CollegeID = $("#CollegeID").val();
        var Tstatus = true;
        var deactivevalue = $("#DeActive").prop("disabled");
        var activevalue = $("#Active").prop("disabled");
        //document.getElementById("#Active").onclick = function () { myFunction() };
        //document.getElementById("#DeActive").onclick = function () { myFunction() };

        ////document.getElementById("#Active").onclick = function () {
        ////    myFunction()
        ////};
        ////document.getElementById('#DeActive').onclick = function () {
        ////    myFunction()
        ////};
        var IsValid = true;
        if (clicked == false) {
            //Tstatus = activestatus;
            IsValid = false;
            return bootbox.alert("<br><br>Please Select the Active/De-activate before submitting the record");
            return IsValid;
        } else if (deactivevalue && activevalue == false) {
            Tstatus = true;

        }
        else {
            Tstatus = false;
        }
        var tradename = $("#trades").val();

        if (activestatus == false) {
            //if (uplfile == "" || uplfile == null) {
            //    IsValid = false;
            //    var file = $("#DownloadFileLink").val()
            //    if (file == false || file == undefined) {

            //        bootbox.alert("pls upload PDF file")
            //        $("#uploadfile_Required").show()
            //        return IsValid;
            //    }


            //}
            //else {
            //    $("#uploadfile_Required").hide()
            //}
            //if (DeactiveOrderNo == "")
            //{
            //   return bootbox.alert("Pls enter Deactivate Order No;")
            //}
            //else if (Deactivedate=="")
            //{
            //    return bootbox.alert("Pls enter Deactivate Date;")
            //}
        }

        var ADRemarks = $("#Remarks").val();

        if (ADRemarks == "" || ADRemarks == null) {
            IsValid = false;
            bootbox.alert("pls Enter Remarks")
            $("#Remarks_Required").show();
            return IsValid;
        }
        else {
            $("#Remarks_Required").hide();

        }

        var IsValid = true;
        var type = $("#dd-flow").val();
        if (type == "" || type == "0" || type == null) {
            IsValid = false;
            bootbox.alert("Pls select send to Field");
            //  $("#dd-flow_Required").show()
            return IsValid;
        }
        else {
            $("#dd-flow_Required").hide()

        }

        var TradeShiftId = $("#TradeShiftId").val();
        
        var ADRemarks = $("#Remarks").val();
        
        var Units = $("#Units").val();
        
        var Shift = $("#Shifts").val();
        
        // var IsActive = '';
        var IsActive = $("#Active").val();
        // 
        //  var IsActive = $("#DeActive").val();
        // 

        //var IsValid = true;
        //if (IsActive == 'Active')  //Active
        //{
        //    

        //    IsActive = $("#Active").val();

        //}
        //else {
        //    IsActive = $("#DeActive").val();
        //}

        var TradeID = $("#tradeID").val();
        var FlowId = $("#dd-flow").val();
        var fileUpload = $("#uploadfile").get(0);//$('#ActiveDeactiveinsertUpdate-Add').get(0);
        var activefileupload = $("#uploadfileactive").get(0);
        var files = fileUpload.files;
        var fileData = new FormData();
        for (var i = 0; i < files.length; i++) {
            fileData.append("ImageFile", files[i]);
        }
        var activefiles = activefileupload.files;
        //var fileData = new FormData();
        for (var i = 0; i < activefiles.length; i++) {
            fileData.append("ActiveImageFile", activefiles[i]);
        }

        var TradeShiftId = TradeShiftId;

        var IsValid = true;
        if (activestatus == 0) {


            activestatus = false;

        }
        else if (activestatus == 1) {
            activestatus = true;
        }

        //IsValid = true;
        if (IsValid) {

            var msg = "De-Activation";
            if (activestatus) {
                msg = "Activation";
            }
            if (FlowId == 5) {
                var name = "Deputy Director";
            }
            else if (FlowId == 3) {
                name = "Assistant Director";
            }
            else if (FlowId == 8) {
                name = "Case Worker";
            }
            else if (FlowId == 7) {
                name = "Office Superintendent";
            }
            if (status == 4) {
                var stname = "Sent Back For Correction/Clarification";

            }
            else if (status == 7) {
                stname = "Reviewed and Recommended";
            }

            bootbox.confirm("<br><br>Are you sure you want to send the " + $(".text-trades1").text() + " " + msg + " request  for review to  " + name + "?", function (confirmed) {
                if (confirmed) {
                    
                    fileData.append("ITI_Trade_Shift_Id", TradeShiftId);
                    //  fileData.append("IsActive", IsActive);
                    fileData.append("IsActive", activestatus);
                    //if (IsActive == 'Active')
                    //{
                    //    
                    //    fileData.append("IsActive", true);
                    //}
                    //else
                    //{
                    //    fileData.append("IsActive", false);
                    //}
                    fileData.append("ActDeActRemarks", ADRemarks);
                    fileData.append("ITI_Trade_Id", TradeID);
                    fileData.append("Units", Units);
                    fileData.append("Shift", Shift);
                    fileData.append("ImageFile", fileUpload);
                    fileData.append("Shift", Shift);
                    fileData.append("ApprovalFlowId", FlowId);
                    fileData.append("ActiveImageFile", activefileupload);
                    fileData.append("ActivateOrderNo", ActiveOrderNo);
                    fileData.append("DeactivateOrderNo", DeactiveOrderNo);
                    fileData.append("DeactivateDate", Deactivedate);
                    fileData.append("ActivateDate", ActiveDate);
                    fileData.append("itiID", CollegeID);
                    if (IsValid) {
                        $.ajax({
                            type: 'POST',
                            url: '/Affiliation/TradeActiveandDeactiveStatusUnitwise',
                            contentType: false, // Not to set any content header
                            //processData: false, // Not to process data
                            //async: false,
                            //contentType: 'application/json',
                            // contentType: 'application/json; charset=utf-8',
                            processData: false,
                            // dataType: 'json',
                            data: fileData,
                            success: function (result) {

                                if (result) {


                                    bootbox.alert("<br><br> " + $(".text-trades1").text() + " " + msg + " request sent to " + name + " for review successfully")
                                    
                                    $("#Remarks").val('');
                                    $("#uploadfile").val('');
                                    $("#deactivateOrderNo").val('');
                                    $("#activateOrderNo").val('');
                                    $("#newdeactivatedate").val('');
                                    $("#newactivatedate").val('');
                                    $("#dd-flow").val('');
                                    $("#tblViewShift").empty('');
                                    GetAllActiveDeactiveRequestDetails();
                                    $("#tblGridUpdateAffiliation_wrapper").show();
                                    $("#Affiliation_view").hide();
                                }
                                else {
                                    bootbox.alert("failed")
                                }
                            }
                        });
                    }
                }
            });
        }
    }

    function SaveActivedeactiveUnitwiseupdateOS() {
        
        //$("#DistrictWiseFilter").show();
        var IsActive = $('#IsActiveNew').val();
        var ADRemarks = $("#Remarks").val();
        // var DeactiveOrderNo = $("#deactivateOrderNo").val();
        //var ActiveOrderNo = $("#activateOrderNo").val();
        var IsValid = true;
        if (ADRemarks == "" || ADRemarks == null) {
            IsValid = false;
            $("#Remarks_Required").show();
            bootbox.alert("Pls enter Remarks")
            return IsValid;
        }
        else {
            $("#Remarks_Required").hide();

        }

        var IsValid = true;
        var type = $("#dd-status").val();
        if (type == "" || type == "0" || type == null) {
            IsValid = false;
            bootbox.alert("Pls Select status Field")
            //$("#dd-status_Required").show()
            return IsValid;
        }
        else {
            $("#dd-status_Required").hide()

        }

        var IsValid = true;
        var type = $("#dd-flow").val();
        if (type == "" || type == "0" || type == null) {
            IsValid = false;
            bootbox.alert("Pls select send to Field");
            //  $("#dd-flow_Required").show()
            return IsValid;
        }
        else {
            $("#dd-flow_Required").hide();
        }

        var TradeShiftId = $("#TradeShiftId").val();
        
        var ADRemarks = $("#Remarks").val();
        
        var Units = $("#Units").val();
        
        var Shift = $("#Shifts").val();
        var TradeID = $("#tradeID").val();
        var status = $("#dd-status").val();
        var FlowId = $("#dd-flow").val();
        // var IsActive = $("#Isactive").val();

        //var fileUpload = $("#uploadfile").get(0);//$('#ActiveDeactiveinsertUpdate-Add').get(0);
        //var files = fileUpload.files;
        //var activefileupload = $("#uploadfileactive").get(0);
        var fileData = new FormData();
        //for (var i = 0; i < files.length; i++) {
        //    fileData.append("ImageFile", files[i]);
        //}
        //var activefiles = activefileupload.files;
        ////var fileData = new FormData();
        //for (var i = 0; i < activefiles.length; i++) {
        //    fileData.append("ActiveImageFile", activefiles[i]);
        //}
        var TradeShiftId = TradeShiftId;
        //var val = $(thd).val();


        IsValid = true;
        if (IsValid) {

            var msg = "De-Activation";
            if (IsActive == true) {
                msg = "Activation";
            }
            if (FlowId == 5) {
                var name = "Deputy Director";
            }
            else if (FlowId == 3) {
                name = "Assistant Director";
            }
            else if (FlowId == 8) {
                name = "Case Worker";
            }
            if (status == 4) {
                var stname = "Correction/Clarification";

            }
            else if (status == 7) {
                stname = "Review";
            }

            bootbox.confirm("<br><br> Are you sure you want to send the " + $(".text-trades2").text() + " " + msg + "  request  to  " + name + " for " + stname + "?", function (confirmed) {
                if (confirmed) {
                    fileData.append("ITI_Trade_Shift_Id", TradeShiftId);
                    fileData.append("IsActive", IsActive);
                    fileData.append("ActDeActRemarks", ADRemarks);
                    fileData.append("ITI_Trade_Id", TradeID);
                    fileData.append("Units", Units);
                    fileData.append("Shift", Shift);
                    fileData.append("ApprovalStatus", status);
                    fileData.append("ApprovalFlowId", FlowId);


                    $.ajax({
                        type: 'POST',
                        url: '/Affiliation/TradeActiveandDeactiveStatusUnitwise',
                        contentType: false, // Not to set any content header
                        //processData: false, // Not to process data
                        //async: false,
                        //contentType: 'application/json',
                        // contentType: 'application/json; charset=utf-8',
                        processData: false,
                        // dataType: 'json',
                        data: fileData,
                        success: function (result) {
                            
                            if (result) {

                                if (FlowId == 3) {
                                    bootbox.alert("<br><br> " + $(".text-trades2").text() + " " + msg + " request Sent to assistant director for review successfully")
                                }
                                else if (FlowId == 5) {
                                    bootbox.alert("<br><br> " + $(".text-trades2").text() + " " + msg + " request sent To  deputy director for review successfully")
                                }
                                else if (FlowId == 8) {
                                    bootbox.alert("<br><br> " + $(".text-trades2").text() + " " + msg + " request sent to case worker for correction/clarification successfully")
                                }

                                
                                $("#Remarks").val('');
                                $("#dd-status").val('');
                                $("#dd-flow").val('');

                                GetAllActiveDeactiveRequestDetailsOS();
                                $("#tblGridUpdateAffiliation_wrapper").show();
                                $("#Affiliation_view").hide();
                            }
                            else {
                                bootbox.alert("failed")
                            }
                        }
                    });
                }
            });
        }

    }

    function SaveActivedeactiveUnitwiseupdateADDD() {
        //$("#DistrictWiseFilter").show();
        var IsActive = $('#IsActiveNew').val();
        // var IsActive = $("#IsActive").val();
        var TradeShiftId = $("#TradeShiftId").val();
        
        var ADRemarks = $("#Remarks").val();
        
        var Units = $("#Units").val();
        
        var Shift = $("#Shifts").val();
        var TradeID = $("#tradeID").val();
        var status = $("#dd-status").val();
        var FlowId = $("#dd-flow").val();
        //var DeactiveOrderNo = $("#deactivateOrderNo").val();
        //var ActiveOrderNo = $("#activateOrderNo").val();

        if (ADRemarks == "" || ADRemarks == null) {
            IsValid = false;
            $("#Remarks_Required").show();
            bootbox.alert("Pls enter Remarks")
            return IsValid;
        }
        else {
            $("#Remarks_Required").hide();

        }

        var IsValid = true;
        var type = $("#dd-status").val();
        if (type == "" || type == "0" || type == null) {
            IsValid = false;
            bootbox.alert("Pls Select status Field")
            //$("#dd-status_Required").show()
            return IsValid;
        }
        else {
            $("#dd-status_Required").hide()

        }
        
        var flow = $("#dd-flow").val();
        if (flow == "" || flow == "0" || flow == null) {
            if (type != 2) {
                IsValid = false;
                bootbox.alert("Pls select send to Field");
                //  $("#dd-flow_Required").show()
                return IsValid;
            }
            else {

                $("#dd-flow_Required").hide()

            }

        }
        else {
            $("#dd-flow_Required").hide();
        }

        var fileUpload = $("#uploadfile").get(0);
        //var files = fileUpload.files;
        var fileData = new FormData();

        //var activefileupload = $("#uploadfileactive").get(0);

        //for (var i = 0; i < files.length; i++) {
        //    fileData.append("ImageFile", files[i]);
        //}
        //var activefiles = activefileupload.files;
        //for (var i = 0; i < activefiles.length; i++) {
        //    fileData.append("ActiveImageFile", activefiles[i]);
        //}
        var TradeShiftId = TradeShiftId;
        //var val = $(thd).val();


        IsValid = true;
        if (IsValid) {
            var act = "De-Activation";

            if (IsActive) {
                act = "Activation";
            }
            if (FlowId == 5) {
                var name = "Deputy Director";
            }
            else if (FlowId == 3) {
                name = "Assistant Director";
            }
            else if (FlowId == 8) {
                name = "Case Worker";
            }
            else if (FlowId == 7) {
                name = "Office supritendent";
            }
            if (status == 4) {
                var stname = "Correction/Clarification";

            }
            else if (status == 7) {
                stname = "Review";
            }
            else if (status == 2) {
                stname = "Approved";
            }
            if (stname == "Review" || stname == "Correction/Clarification") {
                bootbox.confirm("<br><br> Are you sure you want the send " + $(".text-trades2").text() + " " + act + "  request  to  " + name + " for " + stname + " ?", function (confirmed) {
                    if (confirmed) {
                        fileData.append("ITI_Trade_Shift_Id", TradeShiftId);
                        fileData.append("IsActive", IsActive);
                        fileData.append("ActDeActRemarks", ADRemarks);
                        fileData.append("ITI_Trade_Id", TradeID);
                        fileData.append("Units", Units);
                        fileData.append("Shift", Shift);
                        fileData.append("ApprovalStatus", status);
                        fileData.append("ApprovalFlowId", FlowId);


                        $.ajax({
                            type: 'POST',
                            url: '/Affiliation/TradeActiveandDeactiveStatusUnitwise',
                            contentType: false, // Not to set any content header
                            //processData: false, // Not to process data
                            //async: false,
                            //contentType: 'application/json',
                            // contentType: 'application/json; charset=utf-8',
                            processData: false,
                            // dataType: 'json',
                            data: fileData,
                            success: function (result) {
                                
                                if (result) {
                                    if (IsActive == true) {
                                        var selected = "Activation";
                                    }
                                    else {
                                        selected = "Deactivation";
                                    }
                                    if (FlowId == 7) {
                                        bootbox.alert("<br><br> " + $(".text-trades2").text() + " " + act + " request sent to office superintendent for correction/clarification successfully")
                                        GetAllActiveDeactiveRequestDetailsAD();
                                    }
                                    else if (FlowId == 5) {
                                        bootbox.alert("<br><br>" + $(".text-trades2").text() + " " + act + " request sent to deputy director for review successfully")
                                        GetAllActiveDeactiveRequestDetailsAD();
                                    }
                                    else if (FlowId == 3) {
                                        bootbox.alert(+"<br><br> Deputy director" + " has sent back for more clarification to assistant dirctor successfully on " + $(".text-trade2").text() + "" + act + "request")
                                        GetAllActiveDeactiveRequestDetailsAD();
                                    }
                                    else if (FlowId == 8) {
                                        bootbox.alert("<br><br> " + $(".text-trades2").text() + " " + act + " request sent to case worker for correction/clarification successfully")
                                        GetAllActiveDeactiveRequestDetailsAD();
                                    }
                                    else {

                                        bootbox.alert(" <br><br>" + $(".text-trades2").text() + " " + act + " request approved successfully ")
                                        GetAllActiveDeactiveRequestDetailsAD();
                                    }

                                    
                                    $("#Remarks").val('');
                                    $("#dd-status").val('');
                                    $("#dd-flow").val('');

                                    $("#tblGridUpdateAffiliation_wrapper").show();
                                    $("#Affiliation_view").hide();
                                }
                                else {
                                    bootbox.alert("failed")
                                }
                            }
                        });
                    }
                });
            }
            else {
                bootbox.confirm("<br><br>Are you sure you want to approve " + $(".text-trades2").text() + " " + act + "  request  ?", function (confirmed) {
                    if (confirmed) {
                        fileData.append("ITI_Trade_Shift_Id", TradeShiftId);
                        fileData.append("IsActive", IsActive);
                        fileData.append("ActDeActRemarks", ADRemarks);
                        fileData.append("ITI_Trade_Id", TradeID);
                        fileData.append("Units", Units);
                        fileData.append("Shift", Shift);
                        fileData.append("ApprovalStatus", status);
                        fileData.append("ApprovalFlowId", FlowId);


                        $.ajax({
                            type: 'POST',
                            url: '/Affiliation/TradeActiveandDeactiveStatusUnitwise',
                            contentType: false, // Not to set any content header
                            //processData: false, // Not to process data
                            //async: false,
                            //contentType: 'application/json',
                            // contentType: 'application/json; charset=utf-8',
                            processData: false,
                            // dataType: 'json',
                            data: fileData,
                            success: function (result) {
                                
                                if (result) {
                                    if (IsActive == true) {
                                        var selected = "Activation";
                                    }
                                    else {
                                        selected = "Deactivation";
                                    }
                                    if (FlowId == 7) {
                                        bootbox.alert("<br><br> " + name + " has sent back for more clarification to office superintendent successfully for " + $(".text-trades2").text() + " " + act + " request")
                                        GetAllActiveDeactiveRequestDetailsAD();
                                    }
                                    else if (FlowId == 5) {
                                        bootbox.alert("<br><br>" + "Assistant director" + " has sent " + $(".text-trades2").text() + " " + act + "request for " + stname + " to  deputy director successfully")
                                        GetAllActiveDeactiveRequestDetailsAD();
                                    }
                                    else if (FlowId == 3) {
                                        bootbox.alert("<br><br> Deputy director has sent back for more clarification to assistant dirctor successfully on " + $(".text-trades2").text() + " " + act + " request")
                                        GetAllActiveDeactiveRequestDetailsAD();
                                    }
                                    else if (FlowId == 8) {
                                        bootbox.alert("<br><br> Sent back for more clarification to case worker successfully on " + $(".text-trades2").text() + " " + act + " request")
                                        GetAllActiveDeactiveRequestDetailsAD();
                                    }
                                    else {

                                        bootbox.alert("<br><br> " + $(".text-trades2").text() + " " + act + " request Approved successfully ")
                                        fnRefreshScreenDataAct()
                                        //GetAllActiveDeactiveRequestDetailsAD();
                                        //GetAllActiveDeactiveTradeApprovedDetails();

                                    }

                                    
                                    $("#Remarks").val('');
                                    $("#dd-status").val('');
                                    $("#dd-flow").val('');

                                    $("#tblGridUpdateAffiliation_wrapper").show();
                                    $("#Affiliation_view").hide();

                                }
                                else {
                                    bootbox.alert("failed")
                                }
                            }
                        });
                    }
                });
            }

        }

    }

    function showpop(id) {

        $("#myModal").modal("show");
        $("#Active_" + id).attr("disabled", true);
        // $("#Active_" + id).attr("visible", true);
        $("#DeActive_" + id).attr("disabled", false);
        //$("#DeActive_" + id).attr("visible", false);

        $.ajax({
            url: "/Affiliation/ActiveDeactivepopup",
            type: 'Get',
            contentType: 'application/json; charset=utf-8',
            data: { id: id },
            success: function (data) {

                if (data != null || data != '') {
                    $.each(data, function () {

                    });
                }

            }, error: function (result) {
                bootbox.alert("Error", "something went wrong");
            }
        });


    }

    function activedeactivedisable() {
        $("#myModal").modal("show");
        $("#Active_" + id).attr("disabled", true)
        $("#DeActive_" + id).attr("disabled", true)
    }

    function showpopUpdate(id) {

        $("#myModal").modal("show");
        $("#Active_" + id).attr("hide", false)
        $("#Active_" + id).attr("disabled", false)
        $("#DeActive_" + id).attr("hide", true)
        $("#DeActive_" + id).attr("disabled", true)
    }

    function SaveActivedeactiveupdate() {

        var tradeID = $("#tradeID").val();
        
        var ADRemarks = $("#Remarks").val();

        var fileUpload = $("#uploadfile").get(0);//$('#ActiveDeactiveinsertUpdate-Add').get(0);
        var files = fileUpload.files;
        var fileData = new FormData();
        for (var i = 0; i < files.length; i++) {
            fileData.append("ImageFile", files[i]);
        }

        var tradeItiId = tradeID;
        //var val = $(thd).val();


        IsValid = true;
        if (IsValid) {
            fileData.append(
                "itiID", tradeItiId
            );
            fileData.append(
                "status", "Active"

            );

            fileData.append(
                "ActDeActRemarks", ADRemarks

            );

            $.ajax({
                type: 'POST',
                url: '/Affiliation/TradeActiveandDeactiveStatus_bll',
                contentType: false, // Not to set any content header
                //processData: false, // Not to process data
                //async: false,
                //contentType: 'application/json',
                // contentType: 'application/json; charset=utf-8',
                processData: false,
                // dataType: 'json',
                data: fileData,
                success: function (result) {

                    if (result) {

                        bootbox.alert("Data Submitted Successfully")
                        // GetAllActiveDeactiveRequestDetails();
                    }
                    else {
                        bootbox.alert("failed")
                    }
                }
            });
        }

    }


    function SaveActivedeactiveupdateOS() {

        var tradeID = $("#tradeID").val();
        var ADRemarks = $("#Remarks").val();
        var status = $("#dd-status").val();
        var FlowId = $("#dd-flow").val();

        //var fileUpload = $("#uploadfile").get(0);//$('#ActiveDeactiveinsertUpdate-Add').get(0);
        //var files = fileUpload.files;
        var fileData = new FormData();
        //for (var i = 0; i < files.length; i++) {
        //    fileData.append("ImageFile", files[i]);
        //}

        var tradeItiId = tradeID;
        //var val = $(thd).val();


        IsValid = true;
        if (IsValid) {
            fileData.append(
                "itiID", tradeItiId
            );
            fileData.append(
                "StatusId", status

            );
            fileData.append(
                "Flowid", FlowId

            );

            fileData.append(
                "ActDeActRemarks", ADRemarks

            );

            $.ajax({
                type: 'POST',
                url: '/Affiliation/TradeActiveandDeactiveStatus_bll',
                contentType: false, // Not to set any content header
                //processData: false, // Not to process data
                //async: false,
                //contentType: 'application/json',
                // contentType: 'application/json; charset=utf-8',
                processData: false,
                // dataType: 'json',
                data: fileData,
                success: function (result) {

                    if (result) {

                        bootbox.alert("Data Saved Successfully")
                        $("#tblGridUpdateAffiliation_wrapper").show();
                        $("#Affiliation_view").hide();
                    }
                    else {
                        bootbox.alert("failed, Please check again")
                    }
                }
            });
        }

    }

    function SaveActivedeactiveupdateADDD() {

        var tradeID = $("#tradeID").val();
        var ADRemarks = $("#Remarks").val();
        var status = $("#dd-status").val();
        var FlowId = $("#dd-flow").val();

        //var fileUpload = $("#uploadfile").get(0);//$('#ActiveDeactiveinsertUpdate-Add').get(0);
        //var files = fileUpload.files;
        var fileData = new FormData();
        //for (var i = 0; i < files.length; i++) {
        //    fileData.append("ImageFile", files[i]);
        //}

        var tradeItiId = tradeID;
        //var val = $(thd).val();


        IsValid = true;
        if (IsValid) {
            fileData.append(
                "itiID", tradeItiId
            );
            fileData.append(
                "StatusId", status

            );
            fileData.append(
                "Flowid", FlowId

            );

            fileData.append(
                "ActDeActRemarks", ADRemarks

            );

            $.ajax({
                type: 'POST',
                url: '/Affiliation/TradeActiveandDeactiveStatus_bll',
                // url: '/Affiliation/GetAllActiveandDeactiveADDDDeatilsBLL',
                contentType: false, // Not to set any content header
                //processData: false, // Not to process data
                //async: false,
                //contentType: 'application/json',
                // contentType: 'application/json; charset=utf-8',
                processData: false,
                // dataType: 'json',
                data: fileData,
                success: function (result) {

                    if (result) {

                        bootbox.alert("Data Saved Successfully")
                        GetAllActiveDeactiveRequestDetailsAD
                        $("#tblGridUpdateAffiliation_wrapper").show();
                        $("#Affiliation_view").hide();
                    }
                    else {
                        bootbox.alert("failed, Please check again")
                    }
                }
            });
        }

    }


    function GetClientReport1() {
        var NotifId = $('#View').html();
        var urlPath = "../../Content/AD Files_" + NotifId + ".pdf";
        window.open(urlPath, '_blank');

    }


    function ViewTradeforactivedeactive(tradeId) {
        $("#tradeID").val(tradeId);

        $.ajax({
            type: 'Get',
            url: '/Affiliation/GetTradeDetails',
            data: { trade_id: tradeId },
            success: function (data) {

                if (data.flag == 1) {

                    $("#Affiliation_view").show();
                    $("#Affiliation_div").hide();
                    $("#tblGridUpdateAffiliation_wrapper").hide();

                    $(".text-name").text(data.name_of_iti);
                    $(".text-type").text(data.type_of_iti);
                    $(".text-location").text(data.location_type);
                    $(".text-mis").text(data.mis_code);
                    $(".text-css").text(data.css_code);
                    $(".text-trade").text(data.trade);
                    $(".text-district").text(data.district);
                    $(".text-taluk").text(data.taluka);
                    $(".text-constituency").text(data.constituency);
                    $(".text-Panchayat").text(data.panchayat);
                    $(".text-village").text(data.village);
                    $(".text-build").text(data.build_up_area);
                    $(".text-address").text(data.address);
                    $(".text-geo").text(data.geo_location);
                    $(".text-email").text(data.email);
                    $(".text-pincode").text(data.Pincode);
                    $(".text-number").text(data.phone_number);
                    $(".text-date").text(data.date);
                    $(".text-unit").text(data.no_units);
                    $(".text-shift").text(data.no_shifts);
                    $("#Trade_ITI_Id").val(data.trade_iti_id);
                    
                    $("#DownloadFileLink").val(data.Activefilepath);

                    if (data.ActiveDeActive) {

                        $("#Active").hide()
                        $("#DeActive").show()
                    }
                    else {
                        $("#Active").show()
                        $("#DeActive").hide()
                    }


                    //GetActiveDeactiveTradeHistory(data.trade_iti_id);


                    if (data.activeDeactiveTradeHistories.length > 0) {
                        $.each(data.activeDeactiveTradeHistories, function (i) {
                            var _tr = $("<tr/>");

                            _tr.append("<td>" + (i + 1) + "</td>");
                            _tr.append("<td>" + data.activeDeactiveTradeHistories[i].date + "</td");
                            _tr.append("<td>" + data.activeDeactiveTradeHistories[i].User + "</td>");
                            _tr.append("<td>" + data.activeDeactiveTradeHistories[i].ActDeActRemarks + "</td>");
                            if (this.FilePath != null && this.FilePath != "") {
                                _tr.append("<td><a class='btn btn-link' href='/Affiliation/DownloadAffiliationTradeDoc?TradeId=" + this.Trade_ITI_id + "' >Download File</a></td>");

                            }
                            else {
                                _tr.append("<td>File not uploaded</td>");
                            }

                            $("#tblHistory tbody").append(_tr);
                        });
                    }


                } else {
                    bootbox.alert("Error occured while loading data")
                }


            }
        });

    }


    function GetActiveDeactiveTradeHistory(tradeId) {

        $.ajax({
            type: 'Get',
            url: '/Affiliation/GetActiveDeactiveTradeHistory',
            data: { trade_id: tradeId },
            success: function (data) {

                if (data.flag == 1) {

                    if (data.list.length > 0) {
                        $.each(data.list, function (i) {
                            var _tr = $("<tr/>");
                            _tr.append("<td>" + (i + 1) + "</td>");
                            _tr.append("<td>" + this.date + "</td");
                            _tr.append("<td>" + this.Flow_user + "</td>");
                            _tr.append("<td>" + this.Remarks + "</td>");
                            if (this.FileUploadPath != null && this.FileUploadPath != "") {
                                _tr.append("<td><a class='btn btn-link' href='/Affiliation/DownloadAffiliationTradeDoc?TradeId=" + this.Trade_ITI_id + "' >Download File</a></td>");
                            }
                            else {
                                _tr.append("<td>File not uploaded</td>");
                            }

                            $("#tblHistory tbody").append(_tr);
                        });
                    }
                } else {
                    bootbox.alert("Error occured while loading history")
                }
            }

        });
    }

    function GetDownloadFileLink() {
        
        var DownloadFileLinkId = $('#DownloadFileLink').val();
        var urlPath = "../../Affiliation/" + DownloadFileLinkId;
        window.open(urlPath, '_blank');

    }
    function GetDownloadFileLinkForActive() {
        
        var DownloadFileLinkId1 = $('#DownloadFileLink2').val();
        var urlPath = "../../Affiliation/" + DownloadFileLinkId1;
        window.open(urlPath, '_blank');

    }

    function GetDownloadFileLinkForAffiliation() {
        
        var DownloadFileLinkId2 = $('#DownloadFileLink3').val();
        var urlPath = "../../Affiliation/" + DownloadFileLinkId2;
        window.open(urlPath, '_blank');

    }

    function GetAllActiveDeactiveRequestDetails() {
        $("#tblHistory tbody").empty();
        
        $.ajax({
            type: 'Get',
            url: '/Affiliation/GetActiveDeactiveDetails',
            success: function (data) {

                var index = 1;
                if (data.length > 0) {
                    $("#DistrictWiseFilter").show();
                    
                    var t = $('#tblGridUpdateAffiliation1').DataTable({
                        data: data,
                        "destroy": true,
                        "bSort": true,
                        columns: [
                            { 'data': 'Slno', 'title': 'Slno', 'className': '' },
                            { 'data': 'miscode', 'title': 'MIS ITI Code', 'className': '' },
                            { 'data': 'iti_college', 'title': 'Institute Name', 'className': 'text-left' },
                            { 'data': 'CourseType', 'title': 'Course Type', 'className': '' },
                            { 'data': 'Division', 'title': 'Division', 'className': '' },
                            { 'data': 'District', 'title': 'District', 'className': '' },
                            { 'data': 'trades', 'title': 'Trades', 'className': 'text-left' },
                            { 'data': 'units', 'title': 'Units', 'className': 'text-left' },
                            { 'data': 'Shifts', 'title': 'Shift', 'className': 'text-left' },
                            {
                                'data': 'IsActive', 'title': 'Unit Status',
                                render: function (data, type, row) {
                                    if (row.IsActive == true) {
                                        return "<input type='text' id='Active_160' value='Active' class='wid' readonly='readonly'>"
                                    }
                                    else {
                                        return "<input type='text' id='Active_160' value='De-ACtive' class='wid'  readonly='readonly'>"
                                    }
                                }
                            },
                            {
                                'data': 'IsActive', 'title': 'Trade Current Status',
                                render: function (data, type, row) {
                                    if (row.IsActive1 == true) {
                                        return "<input type='text' id='Active_160' value='Active' class='wid' readonly='readonly'>"
                                    }
                                    else {
                                        return "<input type='text' id='Active_160' value='De-ACtive' class='wid'  readonly='readonly'>"
                                    }
                                }
                            },
                            { 'data': 'StatusName', 'title': 'Status - Currently With', 'className': 'text-left' },

                            {
                                'data': 'FileUploadPath',
                                render: function (data, type, row) {

                                    return "<input type='button' class='btn btn-primary' img='' src='/Content/img/pencil2.png' id='Active_" + row.ITI_Trade_Shift_Id + "' value='View' onclick='ViewTradeforactivedeactiveUnitwise(" + row.ITI_Trade_Shift_Id + ")'>"


                                }
                            }

                        ],
                        "columnDefs": [{
                            "render": function (data, type, full, meta) {

                                return index++;
                            },
                            "targets": 0
                        }],
                    });
                    t.on('order.dt search.dt', function () {
                        t.column(0, { search: 'applied', order: 'applied' }).nodes().each(function (cell, i) {
                            cell.innerHTML = i + 1;
                        });
                    }).draw();
                }
                else {
                    //alert("No data found!")
                    $('#tblGridUpdateAffiliation1').DataTable().clear().draw();
                }

            }, error: function (result) {
                bootbox.alert("Error", "something went wrong");
            }
        });
    }

    function GetAllActiveDeactiveRequestDetailsOS() {
        $("#tblHistory tbody").empty();
        
        $.ajax({
            type: 'Get',
            url: '/Affiliation/GetActiveDeactiveDetailsOS',
            success: function (data) {

                var index = 1;
                if (data.length > 0) {
                    $("#DistrictWiseFilter").show();
                    var t = $('#tblGridUpdateAffiliation1').DataTable({
                        data: data,
                        "destroy": true,
                        "bSort": true,
                        columns: [
                            { 'data': 'Slno', 'title': 'Slno', 'className': '' },
                            { 'data': 'miscode', 'title': 'MIS ITI Code', 'className': '' },
                            { 'data': 'iti_college', 'title': 'Institute Name', 'className': 'text-left' },
                            { 'data': 'CourseType', 'title': 'Course Type', 'className': '' },
                            { 'data': 'Division', 'title': 'Division', 'className': '' },
                            { 'data': 'District', 'title': 'District', 'className': '' },
                            { 'data': 'trades', 'title': 'Trades', 'className': 'text-left' },
                            { 'data': 'units', 'title': 'Units', 'className': 'text-left' },
                            { 'data': 'Shifts', 'title': 'Shift', 'className': 'text-left' },
                            {
                                'data': 'IsActiveTr', 'title': 'Unit Status',
                                render: function (data, type, row) {
                                    if (row.IsActive == true) {
                                        return "<input type='text' id='Active_160' value='Active' class='form - control' readonly='readonly'>"
                                    }
                                    else {
                                        return "<input type='text' id='Active_160' value='De-ACtive' class='form - control' readonly='readonly'>"
                                    }
                                }
                            },
                            {
                                'data': 'IsActive1', 'title': 'Trade Current Status',
                                render: function (data, type, row) {
                                    if (row.IsActive1 == true) {
                                        return "<input type='text' id='Active_160' value='Active' class='form - control' readonly='readonly'>"
                                    }
                                    else {
                                        return "<input type='text' id='Active_160' value='De-ACtive' class='form - control' readonly='readonly'>"
                                    }
                                }
                            },
                            {
                                'data': 'ReqIsActive', 'title': 'Requested Action',
                                render: function (data, type, row) {
                                    
                                    if (row.StatusName == " - ") {
                                        return "<input type='text' id='Active_160'  class='form - control' readonly='readonly'>"
                                    }
                                    else {
                                        if (row.ReqIsActive == true) {
                                            return "<input type='text' id='Active_160' value='Active' class='form - control' readonly='readonly'>"
                                        }
                                        else {
                                            return "<input type='text' id='Active_160' value='De-ACtive' class='form - control' readonly='readonly'>"
                                        }
                                    }
                                }
                            },
                            { 'data': 'StatusName', 'title': 'Status - Currently With', 'className': 'text-left' },
                            {
                                'data': 'FileUploadPath',
                                render: function (data, type, row) {

                                    return "<input type='button' class='btn btn-primary' img='' src='/Content/img/pencil2.png' id='Active_" + row.ITI_Trade_Shift_Id + "' value='View' onclick='ViewTradeforactivedeactiveUnitwiseOS(" + row.ITI_Trade_Shift_Id + ")'>"


                                }
                            }

                        ],
                        "columnDefs": [{
                            "render": function (data, type, full, meta) {

                                return index++;
                            },
                            "targets": 0
                        }],
                    });
                    t.on('order.dt search.dt', function () {
                        t.column(0, { search: 'applied', order: 'applied' }).nodes().each(function (cell, i) {
                            cell.innerHTML = i + 1;
                        });
                    }).draw();
                }
                else {
                    //alert("No data found!")
                    $('#tblGridUpdateAffiliation1').DataTable().clear().draw();
                }

            }, error: function (result) {
                bootbox.alert("Error", "something went wrong");
            }
        });
    }

    function GetAllActiveDeactiveRequestDetailsAD() {
        $("#tblHistory tbody").empty();
        
        $.ajax({
            type: 'Get',
            url: '/Affiliation/GetActiveDeactiveDetailsAD',
            success: function (data) {

                var index = 1;
                if (data.length > 0) {
                    $("#DistrictWiseFilter").show();
                    var t = $('#tblGridUpdateAffiliation1').DataTable({
                        data: data,
                        "destroy": true,
                        "bSort": true,
                        columns: [
                            { 'data': 'Slno', 'title': 'Slno', 'className': '' },
                            { 'data': 'miscode', 'title': 'MIS ITI Code', 'className': '' },
                            { 'data': 'iti_college', 'title': 'Institute Name', 'className': 'text-left' },
                            { 'data': 'CourseType', 'title': 'Course Type', 'className': '' },
                            { 'data': 'Division', 'title': 'Division', 'className': '' },
                            { 'data': 'District', 'title': 'District', 'className': '' },
                            { 'data': 'trades', 'title': 'Trades', 'className': 'text-left' },
                            { 'data': 'units', 'title': 'Units', 'className': 'text-left' },
                            { 'data': 'Shifts', 'title': 'Shift', 'className': 'text-left' },
                            {
                                'data': 'IsActive', 'title': 'Unit Status',
                                render: function (data, type, row) {
                                    if (row.IsActive == true) {
                                        return "<input type='text' id='Active_160' value='Active' class='form - control' readonly='readonly'>"
                                    }
                                    else {
                                        return "<input type='text' id='Active_160' value='De-ACtive' class='form - control' readonly='readonly'>"
                                    }
                                }
                            },
                            {
                                'data': 'IsActive1', 'title': 'Trade Current Status',
                                render: function (data, type, row) {
                                    if (row.IsActive1 == true) {
                                        return "<input type='text' id='Active_160' value='Active' class='form - control' readonly='readonly'>"
                                    }
                                    else {
                                        return "<input type='text' id='Active_160' value='De-ACtive' class='form - control' readonly='readonly'>"
                                    }
                                }
                            },
                            {
                                'data': 'ReqIsActive', 'title': 'Requested Action',
                                render: function (data, type, row) {
                                    if (row.StatusName == " - ") {
                                        return "<input type='text' id='Active_160' class='form - control' readonly='readonly'>"
                                    }
                                    else {


                                        if (row.ReqIsActive == true) {
                                            return "<input type='text' id='Active_160' value='Active' class='form - control' readonly='readonly'>"
                                        }
                                        else {
                                            return "<input type='text' id='Active_160' value='De-ACtive' class='form - control' readonly='readonly'>"
                                        }
                                    }
                                }
                            },
                            { 'data': 'StatusName', 'title': 'Status - Currently With', 'className': 'text-left' },


                            {
                                'data': 'FileUploadPath',
                                render: function (data, type, row) {

                                    return "<input type='button' class='btn btn-primary' img='' src='/Content/img/pencil2.png' id='Active_" + row.ITI_Trade_Shift_Id + "' value='View' onclick='ViewTradeforactivedeactiveUnitwiseOS(" + row.ITI_Trade_Shift_Id + ")'>"


                                }
                            }

                        ],
                        "columnDefs": [{
                            "render": function (data, type, full, meta) {

                                return index++;
                            },
                            "targets": 0
                        }],
                    });
                    t.on('order.dt search.dt', function () {
                        t.column(0, { search: 'applied', order: 'applied' }).nodes().each(function (cell, i) {
                            cell.innerHTML = i + 1;
                        });
                    }).draw();
                }
                else {
                    //alert("No data found!")
                    $('#tblGridUpdateAffiliation1').DataTable().clear().draw();
                }

            }, error: function (result) {
                bootbox.alert("Error", "something went wrong");
            }
        });
    }



    $(".sendBtn3").click(function () {

        var Course_type = $("#CourseTypes").val();
        var Division = $("#Divisions").val();
        var District = $("#Districts").val();
        var Trade = $("#Trades").val();

        GetAllUnitTradeStatus(Course_type, Division, District);
    });

    function GetAllUnitTradeStatus(courseId, divisionId, districtId) {
        $.ajax({
            type: 'Get',
            url: '/Affiliation/FilterSubmittedTradeDetails',
            data: { courseId: courseId, divisionId: divisionId, districtId: districtId },
            success: function (data) {
                
                if (data.length > 0) {
                    
                    $('#tblGridUpdateAffiliation1').DataTable().clear().draw();
                    var t = $('#tblGridUpdateAffiliation1').DataTable({
                        data: data,
                        destroy: true,
                        columns: [
                            { 'data': 'iti_college', 'title': 'Slno', 'className': 'text-center' },
                            { 'data': 'miscode', 'title': 'MIS ITI Code', 'className': 'text-center' },
                            { 'data': 'iti_college', 'title': 'Institute Name', 'className': 'text-left' },
                            { 'data': 'CourseType', 'title': 'Course Type', 'className': '' },
                            { 'data': 'Division', 'title': 'Division', 'className': '' },
                            { 'data': 'District', 'title': 'District', 'className': '' },
                            { 'data': 'trades', 'title': 'Trades', 'className': 'text-left' },
                            { 'data': 'units', 'title': 'Units', 'className': 'text-left' },
                            { 'data': 'Shifts', 'title': 'Shift', 'className': 'text-left' },
                            {
                                'data': 'IsActive', 'title': 'Unit Status',
                                render: function (data, type, row) {
                                    if (row.IsActive == true) {
                                        return "<input type='text' id='Active_37' value='Active' class='form-control' readonly='readonly'>"

                                    }
                                    else {
                                        return "<input type='text' id='Active_37' value='Deactive' class='form-control' readonly='readonly'>"
                                    }
                                }
                            },
                            {
                                'data': 'IsActive1', 'title': 'Trade Current Status',
                                render: function (data, type, row) {
                                    if (row.IsActive1 == true) {
                                        return "<input type='text' id='Active_333' value='Active' class='form-control' readonly='readonly'>"

                                    }
                                    else {
                                        return "<input type='text' id='Active_333' value='Deactive' class='form-control' readonly='readonly'>"
                                    }
                                }
                            },
                            { 'data': 'StatusName', 'title': 'Status - Currently With', 'className': 'text-center' },



                            {
                                'data': 'FileUploadPath',
                                render: function (data, type, row) {
                                    return "<input type='button' class='btn btn-primary' img = '' src = '/Content/img/pencil2.png' id ='Active1_" + row.ITI_Trade_Shift_Id + "' value='View' onclick='ViewTradeforactivedeactiveUnitwise(" + row.ITI_Trade_Shift_Id + ")'>"

                                }
                            },


                        ]
                    });
                    t.on('order.dt search.dt', function () {
                        t.column(0, { search: 'applied', order: 'applied' }).nodes().each(function (cell, i) {
                            cell.innerHTML = i + 1;
                        });
                    }).draw();
                }
                else {

                    $('#tblGridUpdateAffiliation1').DataTable().clear().draw();
                    bootbox.alert("No Records found!")
                }

            }, error: function (result) {
                alert("Error", "something went wrong");
            }
        });
    }

    $(".sendBtn4").click(function () {

        var Course_type = $("#CourseTypes").val();
        var Division = $("#Divisions").val();
        var District = $("#Districts").val();
        var Trade = $("#Trades").val();

        GetAllUnitTradeStatusOS(Course_type, Division, District);
    });

    function GetAllUnitTradeStatusOS(courseId, divisionId, districtId) {
        $.ajax({
            type: 'Get',
            url: '/Affiliation/FilterSubmittedTradeDetailsForOS',
            data: { courseId: courseId, divisionId: divisionId, districtId: districtId },
            success: function (data) {
                
                if (data.length > 0) {
                    
                    var t = $('#tblGridUpdateAffiliation1').DataTable({
                        data: data,
                        destroy: true,
                        columns: [
                            { 'data': 'iti_college', 'title': 'Slno', 'className': 'text-center' },
                            { 'data': 'miscode', 'title': 'MIS ITI Code', 'className': 'text-center' },
                            { 'data': 'iti_college', 'title': 'Institute Name', 'className': 'text-left' },
                            { 'data': 'CourseType', 'title': 'Course Type', 'className': '' },
                            { 'data': 'Division', 'title': 'Division', 'className': '' },
                            { 'data': 'District', 'title': 'District', 'className': '' },
                            { 'data': 'trades', 'title': 'Trades', 'className': 'text-left' },
                            { 'data': 'units', 'title': 'Units', 'className': 'text-left' },
                            { 'data': 'Shifts', 'title': 'Shift', 'className': 'text-left' },
                            {
                                'data': 'IsActive', 'title': 'Unit Status',
                                render: function (data, type, row) {
                                    if (row.IsActive == true) {
                                        return "<input type='text' id='Active_160' value='Active' class='form - control' readonly='readonly'>"
                                    }
                                    else {
                                        return "<input type='text' id='Active_160' value='De-ACtive' class='form - control' readonly='readonly'>"
                                    }
                                }
                            },
                            {
                                'data': 'IsActive1', 'title': 'Trade Current Status',
                                render: function (data, type, row) {
                                    if (row.IsActive1 == true) {
                                        return "<input type='text' id='Active_160' value='Active' class='form - control' readonly='readonly'>"
                                    }
                                    else {
                                        return "<input type='text' id='Active_160' value='De-ACtive' class='form - control' readonly='readonly'>"
                                    }
                                }
                            },
                            {
                                'data': 'ReqIsActive', 'title': 'Requested Action',
                                render: function (data, type, row) {
                                    if (row.ReqIsActive == true) {
                                        return "<input type='text' id='Active_160' value='Active' class='form - control' readonly='readonly'>"
                                    }
                                    else {
                                        return "<input type='text' id='Active_160' value='De-ACtive' class='form - control' readonly='readonly'>"
                                    }
                                }
                            },
                            { 'data': 'StatusName', 'title': 'Status - Currently With', 'className': 'text-center' },

                            {
                                'data': 'FileUploadPath',
                                render: function (data, type, row) {
                                    return "<input type='button' class='btn btn-primary' img = '' src = '/Content/img/pencil2.png' id ='Active1_" + row.ITI_Trade_Shift_Id + "' value='View' onclick='ViewTradeforactivedeactiveUnitwiseOS(" + row.ITI_Trade_Shift_Id + ")'>"

                                }
                            },


                        ]
                    });
                    t.on('order.dt search.dt', function () {
                        t.column(0, { search: 'applied', order: 'applied' }).nodes().each(function (cell, i) {
                            cell.innerHTML = i + 1;
                        });
                    }).draw();
                }
                else {

                    $('#tblGridUpdateAffiliation1').DataTable().clear().draw();
                    bootbox.alert("No Records found!")
                }

            }, error: function (result) {
                alert("Error", "something went wrong");
            }
        });
    }

    $(".sendBtn5").click(function () {

        var Course_type = $("#CourseTypes").val();
        var Division = $("#Divisions").val();
        var District = $("#Districts").val();
        var Trade = $("#Trades").val();

        GetAllUnitTradeStatusAd(Course_type, Division, District);
    });

    function GetAllUnitTradeStatusAd(courseId, divisionId, districtId) {
        $.ajax({
            type: 'Get',
            url: '/Affiliation/FilterSubmittedTradeDetailsForAdDD',
            data: { courseId: courseId, divisionId: divisionId, districtId: districtId },
            success: function (data) {
                
                if (data.length > 0) {
                    
                    var t = $('#tblGridUpdateAffiliation1').DataTable({
                        data: data,
                        destroy: true,
                        columns: [
                            { 'data': 'iti_college', 'title': 'Slno', 'className': 'text-center' },
                            { 'data': 'miscode', 'title': 'MIS ITI Code', 'className': 'text-center' },
                            { 'data': 'iti_college', 'title': 'Institute Name', 'className': 'text-left' },
                            { 'data': 'CourseType', 'title': 'Course Type', 'className': '' },
                            { 'data': 'Division', 'title': 'Division', 'className': '' },
                            { 'data': 'District', 'title': 'District', 'className': '' },
                            { 'data': 'trades', 'title': 'Trades', 'className': 'text-left' },
                            { 'data': 'units', 'title': 'Units', 'className': 'text-left' },
                            { 'data': 'Shifts', 'title': 'Shift', 'className': 'text-left' },
                            {
                                'data': 'IsActive', 'title': 'Unit Status',
                                render: function (data, type, row) {
                                    if (row.IsActive == true) {
                                        return "<input type='text' id='Active_160' value='Active' class='form - control' readonly='readonly'>"
                                    }
                                    else {
                                        return "<input type='text' id='Active_160' value='De-ACtive' class='form - control' readonly='readonly'>"
                                    }
                                }
                            },
                            {
                                'data': 'IsActive1', 'title': 'Trade Current Status',
                                render: function (data, type, row) {
                                    if (row.IsActive1 == true) {
                                        return "<input type='text' id='Active_160' value='Active' class='form - control' readonly='readonly'>"
                                    }
                                    else {
                                        return "<input type='text' id='Active_160' value='De-ACtive' class='form - control' readonly='readonly'>"
                                    }
                                }
                            },
                            {
                                'data': 'ReqIsActive', 'title': 'Requested Action',
                                render: function (data, type, row) {
                                    if (row.ReqIsActive == true) {
                                        return "<input type='text' id='Active_160' value='Active' class='form - control' readonly='readonly'>"
                                    }
                                    else {
                                        return "<input type='text' id='Active_160' value='De-ACtive' class='form - control' readonly='readonly'>"
                                    }
                                }
                            },
                            { 'data': 'StatusName', 'title': 'Status - Currently With', 'className': 'text-center' },




                            {
                                'data': 'FileUploadPath',
                                render: function (data, type, row) {
                                    return "<input type='button' class='btn btn-primary' img = '' src = '/Content/img/pencil2.png' id ='Active1_" + row.ITI_Trade_Shift_Id + "' value='View' onclick='ViewTradeforactivedeactiveUnitwiseOS(" + row.ITI_Trade_Shift_Id + ")'>"

                                }
                            },


                        ]
                    });
                    t.on('order.dt search.dt', function () {
                        t.column(0, { search: 'applied', order: 'applied' }).nodes().each(function (cell, i) {
                            cell.innerHTML = i + 1;
                        });
                    }).draw();
                }
                else {

                    $('#tblGridUpdateAffiliation1').DataTable().clear().draw();
                    bootbox.alert("No Records found!")
                }

            }, error: function (result) {
                alert("Error", "something went wrong");
            }
        });
    }

    function ViewTradeforactivedeactiveUnitwiseADM(ITI_Trade_Shift_Id) {
        

        $("#TradeShiftId").val(ITI_Trade_Shift_Id);
        $("#DistrictWiseFilter").hide();

        $.ajax({
            type: 'Get',
            url: '/Affiliation/GetTradeUnitswiseDetails',

            data: { ITI_Trade_ShiftId: ITI_Trade_Shift_Id },
            success: function (data) {
                
                if (data.flag == 1) {
                    if (data.status == "Approve" || data.status == "Published") {
                        $("#sed").attr("disabled", false);
                    }
                    else {
                        $("#sed").attr("disabled", true);
                    }


                    
                    $("#Affiliation_view").show();
                    $("#Affiliation_div").hide();
                    $("#tblGridUpdateAffiliation_wrapper").hide();

                    $(".text-name").text(data.name_of_iti);
                    $(".text-type").text(data.type_of_iti);
                    $(".text-Course").text(data.type_of_iti);


                    $(".text-mis").text(data.mis_code);
                    $(".text-email").text(data.email);
                    $(".text-number").text(data.phone_number);
                    $(".text-website").text(data.Website);
                    // $(".text-date").text(data.date);

                    $(".text-address").text(data.address);

                    $(".text-location").text(data.location_type);
                    $(".text-Division").text(data.division);
                    $(".text-course_name").text(data.course_name);
                    $(".text-district").text(data.district);
                    $(".text-taluk").text(data.taluka);
                    $(".text-constituency").text(data.constituency);
                    $(".text-order_no_date").text(data.order_no_date);
                    // $(".text-date").text(data.date);
                    //$(".text-village").text(data.village);
                    $(".text-build").text(data.build_up_area);

                    $(".text-geo").text(data.geo_location);
                    $(".text-scheme_name").text(data.scheme_name);
                    $(".text-pincode").text(data.Pincode);
                    //$(".text-number").text(data.phone_number);
                    $(".text-date").text(data.date);
                    $(".text-unit").text(data.no_units);
                    $(".text-shift").text(data.no_shifts);
                    $(".order_no_date").text(data.order_no_date);
                    $(".text-AfflOrderNo").text(data.AffiliationOrderNo);
                    $(".text-date").text(data.date);
                    $(".text-trade_code").text(data.trade_code);
                    $(".text-sector").text(data.sector);
                    $(".text-duration").text(data.duration);
                    $(".text-trade_type").text(data.trade_type);
                    $(".text-batch_size").text(data.batch_size);

                    
                    $("#CollegeID").val(data.iti_college_id);
                    $("#tradeID").val(data.trade_iti_id);
                    $(".text-trades").text(data.trade);
                    $("#TradeShiftId").val(ITI_Trade_Shift_Id);
                    
                    $("#Units").val(data.no_units);
                    $("#Shifts").val(data.no_shifts);
                    $("#IsActive").val(data.IsActive);
                    $(".text-AOrderNo").text(data.ActivateOrderNo);
                    $(".text-DOrderNo").text(data.DeactivateOrderNo);
                    $(".text-Adate").text(data.ActivateDate);
                    $(".text-Ddate").text(data.DeactivateDate);
                    $("#DownloadFileLink").val(data.Activefilepath);
                    $("#Downloadactive").val(data.ActivateFilePath);
                    $("#Downloadffiliation").val(data.FileUploadPath);
                    if (data.Activefilepath != null && data.Activefilepath != "") {
                        $("#DownloadFileLink").val(data.Activefilepath);
                    }
                    else {
                        $("#DownloadFileLink").hide();
                        $("#Downloaddeactive").hide();
                    }
                    if (data.ActivateFilePath != null && data.ActivateFilePath != "") {

                        $("#DownloadFileLink2").val(data.ActivateFilePath);
                    }
                    else {
                        $("#Downloadactive").hide();
                        $("#DownloadFileLink2").hide();
                    }
                    $("#Downloadffiliation").empty();
                    if (data.FileUploadPath != null && data.FileUploadPath != "") {

                        var html = "<a class='btn btn-link' href='/Affiliation/DownloadAffiliationDoc?CollegeId=" + data.iti_college_id + "' ><img src='/Content/img/pdf_logo.png' height='40px' width='40px' /></a>"
                        $("#Downloadffiliation").append(html);
                        //$("#Downloadffiliation").val(data.FileUploadPath);
                    }
                    else {
                        $("#Downloadffiliation").hide();
                        $("#tradedoc1").hide();
                    }
                    if (data.IsActive) {
                        

                        $("#Active").show().attr("disabled", true)
                        $("#DeActive").show().attr("disabled", false)
                        $("#DeActive").show()
                    }
                    else {
                        $("#Active").show()
                        $("#DeActive").show().attr("disabled", true)
                        $("#Active").show().attr("disabled", false)
                    }
                    
                    var _table = $("#tblViewShift tbody");
                    _table.empty();
                    $.each(data.shifts, function (i) {

                        var _tr = $("<tr/>");
                        _tr.append("<td>" + (i + 1) + "</td>");
                        _tr.append("<td>" + this.Units + "</td");
                        _tr.append("<td>" + this.Shift + "</td>");
                        //_tr.append("<td>" + this.IsPPP + "</td>");
                        //_tr.append("<td>" + this.Dual_System + "</td>");
                        if (this.IsActive) {
                            _tr.append("<td>Active <input type='hidden' class='active_status' value='true' /><input type='hidden' class='shiftId' value='" + this.ITI_Trade_Shift_Id + "' /></td>");

                        }
                        else {
                            //if (this.Status == 5) {
                            //    _tr.append("<td>Pending for Approval <input type='hidden' class='active_status' value='false' /><input type='hidden' class='shiftId' value='" + this.ITI_Trade_Shift_Id + "' /></td>");
                            //}
                            //else {
                            _tr.append("<td>DeActive <input type='hidden' class='active_status' value='false' /><input type='hidden' class='shiftId' value='" + this.ITI_Trade_Shift_Id + "' /></td>");
                            // }

                        }
                        _table.append(_tr);
                    });
                    //GetActiveDeactiveTradeHistory(data.trade_iti_id);


                    if (data.activeDeactiveTradeHistories.length > 0) {
                        $.each(data.activeDeactiveTradeHistories, function (i) {
                            var _tr = $("<tr/>");

                            _tr.append("<td>" + (i + 1) + "</td>");
                            _tr.append("<td>" + data.activeDeactiveTradeHistories[i].date + "</td");
                            _tr.append("<td>" + data.activeDeactiveTradeHistories[i].User + "</td>");
                            _tr.append("<td>" + data.activeDeactiveTradeHistories[i].Flow_user + "</td>");
                            _tr.append("<td>" + data.activeDeactiveTradeHistories[i].Status + "</td>");
                            _tr.append("<td>" + data.activeDeactiveTradeHistories[i].ActDeActRemarks + "</td>");


                            $("#tblHistory tbody").append(_tr);
                        });
                    }

                    else {
                        var _tr = $("<tr/>");
                        _tr.append("<td>" + "" + "</td>");
                        _tr.append("<td>" + "" + "</td>");
                        _tr.append("<td>" + "No Data Available" + "</td>");
                        _tr.append("<td>" + "" + "</td>");
                        _tr.append("<td>" + "" + "</td>");

                        $("#tblHistory tbody").append(_tr);
                    }

                    if (data.AffiliationDocs.length > 0) {
                        var _table = $("#tblAffiliationDoc tbody");
                        _table.empty();
                        $.each(data.AffiliationDocs, function (i) {

                            var _tr = $("<tr/>");
                            _tr.append("<td>" + (i + 1) + "</td>");
                            _tr.append("<td>" + this.AffiliationOrder_Number + "</td>");
                            _tr.append("<td>" + this.Affiliation_date.split(' ')[0] + "</td>");
                            _tr.append("<td >" + this.FileName + "</td>");
                            _tr.append("<td ><a class='btn btn-link' href='/Affiliation/DownloadAffiliationDoc?CollegeId=" + data.iti_college_id + "&Trade_Id=" + this.Trade_Id + "&shift_id=" + this.Shift + "&flag=" + this.Flag + "' ><img src='/Content/img/pdf_logo.png' height='40px' width='40px' /></a>" + "" + "</td>");
                            //_tr.append("<td >" + this.Status + "</td>");
                            _table.append(_tr);
                        });
                    }

                } else {
                    bootbox.alert("Error occured while loading data")
                }


            }
        });

    }

    function SaveActivedeactiveUnitwiseupdateITADM() {
        
        $("#DistrictWiseFilter").show();
        var IsActive = $(".statusbtn").val();
        var IsDeActive = $("#Deactive").val();
        var IsValid = true;
        var uplfile = $("#uploadfile").val();
        var ext = $("#Extension").val();



        var TradeShiftId = $("#TradeShiftId").val();
        
        var ADRemarks = $("#Remarks").val();
        
        var Units = $("#Units").val();
        
        var Shift = $("#Shifts").val();
        
        // var IsActive = '';
        var IsActive = $("#IsActive").val();

        if (ADRemarks == "" || ADRemarks == null) {
            IsValid = false;
            bootbox.alert("pls Enter Remarks")
            $("#Remarks_Required").show();
            return IsValid;
        }
        else {
            $("#Remarks_Required").hide();

        }

        // 
        //  var IsActive = $("#DeActive").val();
        // 

        //var IsValid = true;
        //if (IsActive == 'Active')  //Active
        //{
        //    

        //    IsActive = $("#Active").val();

        //}
        //else {
        //    IsActive = $("#DeActive").val();
        //}

        var TradeID = $("#tradeID").val();

        var fileUpload = $("#uploadfile").get(0);//$('#ActiveDeactiveinsertUpdate-Add').get(0);
        // var files = fileUpload.files;
        var fileData = new FormData();
        //for (var i = 0; i < files.length; i++) {
        //    fileData.append("ImageFile", files[i]);
        //}

        var TradeShiftId = TradeShiftId;

        var IsValid = true;
        if (activestatus == 0) {


            activestatus = false;

        }
        else if (activestatus == 1) {
            activestatus = true;
        }

        //IsValid = true;
        if (IsValid) {
            
            fileData.append("ITI_Trade_Shift_Id", TradeShiftId);

            fileData.append("IsActive", IsActive);

            fileData.append("ActDeActRemarks", ADRemarks);
            fileData.append("ITI_Trade_Id", TradeID);
            fileData.append("Units", Units);
            fileData.append("Shift", Shift);
            fileData.append("ImageFile", fileUpload);

            if (IsValid) {
                bootbox.confirm("<br><br>Are you sure you want to send  back for more clarification to case worker for " + $(".text-trades").text() + " Request ?", function (confirmed) {
                    if (confirmed) {
                        $.ajax({
                            type: 'POST',
                            url: '/Affiliation/TradeActiveandDeactiveStatusUnitwise',
                            contentType: false, // Not to set any content header
                            //processData: false, // Not to process data
                            //async: false,
                            //contentType: 'application/json',
                            // contentType: 'application/json; charset=utf-8',
                            processData: false,
                            // dataType: 'json',
                            data: fileData,
                            success: function (result) {

                                if (result) {
                                    GetAllActiveDeactiveRequestDetailsITADM();
                                    bootbox.alert(" Iti Admin has sent back for more clarification to case worker successfully For " + $(".text-trades").text() + " Request")
                                    
                                    $("#Remarks").val('');
                                    $("#uploadfile").val('');
                                    //GetAllActiveDeactiveRequestDetailsITADM();
                                    $("#tblGridUpdateAffiliation_wrapper").show();
                                    $("#Affiliation_view").hide();
                                }
                                else {
                                    bootbox.alert("failed")
                                }
                            }
                        });
                    }
                });
            }
        }

    }

    function GetAllActiveDeactiveRequestDetailsITADM() {
        
        $.ajax({
            type: 'Get',
            url: '/Affiliation/GetActiveDeactiveDetailsAdmin',
            success: function (data) {

                var index = 1;
                if (data.length > 0) {

                    var t = $('#tblGridUpdateAffiliation1').DataTable({
                        data: data,
                        "destroy": true,
                        "bSort": true,
                        columns: [
                            { 'data': 'Slno', 'title': 'Slno', 'className': '' },
                            { 'data': 'CreatedonOrderby', 'title': 'Date', 'className': '' },
                            { 'data': 'miscode', 'title': 'MIS ITI Code', 'className': '' },
                            { 'data': 'iti_college', 'title': 'Institute Name', 'className': 'text-left' },
                            { 'data': 'college_Address', 'title': 'Address', 'className': '' },
                            { 'data': 'CourseType', 'title': 'Course Type', 'className': '' },
                            { 'data': 'Division', 'title': 'Division', 'className': '' },
                            { 'data': 'District', 'title': 'District', 'className': '' },
                            { 'data': 'trades', 'title': 'Trades', 'className': 'text-left' },
                            { 'data': 'units', 'title': 'Units', 'className': 'text-left' },
                            { 'data': 'Shifts', 'title': 'Shift', 'className': 'text-left' },
                            { 'data': 'StatusName', 'title': 'Status - Currently With', 'className': 'text-left' },
                            {
                                'data': 'IsActive', 'title': 'Unit Status',
                                render: function (data, type, row) {
                                    if (row.IsActive == true) {
                                        return "<input type='text' id='Active_160' value='Active' class='form - control' readonly='readonly'>"
                                    }
                                    else {
                                        return "<input type='text' id='Active_160' value='De-ACtive' class='form - control' readonly='readonly'>"
                                    }
                                }
                            },
                            {
                                'data': 'IsActive', 'title': 'Trade Current Status',
                                render: function (data, type, row) {
                                    if (row.IsActive1 == true) {
                                        return "<input type='text' id='Active_160' value='Active' class='form - control' readonly='readonly'>"
                                    }
                                    else {
                                        return "<input type='text' id='Active_160' value='De-ACtive' class='form - control' readonly='readonly'>"
                                    }
                                }
                            },

                            {
                                'data': 'FileUploadPath',
                                render: function (data, type, row) {
                                    return "<input type='button' class='btn btn-primary' img = '' src = '/Content/img/pencil2.png' id ='Active1_" + row.ITI_Trade_Shift_Id + "' value='View' onclick='ViewTradeforactivedeactiveUnitwiseADM(" + row.ITI_Trade_Shift_Id + ")'>"

                                }
                            },

                        ],
                        "columnDefs": [{
                            "render": function (data, type, full, meta) {

                                return index++;
                            },
                            "targets": 0
                        }],
                    });
                    t.on('order.dt search.dt', function () {
                        t.column(0, { search: 'applied', order: 'applied' }).nodes().each(function (cell, i) {
                            cell.innerHTML = i + 1;
                        });
                    }).draw();
                }
                else {
                    //alert("No data found!")
                    $('#tblGridUpdateAffiliation1').DataTable().clear().draw();
                }

            }, error: function (result) {
                bootbox.alert("Error", "something went wrong");
            }
        });
    }

    function ViewTradeforactivedeactiveUnitwiseVe(ITI_Trade_Shift_Id) {
        
        $("#DistrictWiseFilter").hide();
        $('#Publishbutton').hide()
        $("#TradeShiftId").val(ITI_Trade_Shift_Id);

        $("#TradeShiftId").val(ITI_Trade_Shift_Id);

        //var IsActive = $("#IsActive").val();
        //var IsActive = $('#IsActiveNew').val();

        $.ajax({
            type: 'Get',
            url: '/Affiliation/GetTradeUnitswiseDetails',

            data: { ITI_Trade_ShiftId: ITI_Trade_Shift_Id },
            success: function (data) {

                if (data.flag == 1) {


                    $("#Affiliation_view1").show();
                    $("#tblGridUpdateTrade").show();
                    $("#Affiliation_div").hide();
                    $("#tblGridUpdateTrade1").hide();

                    $("#tblGridUpdateAffiliation_wrapper").hide();

                    $(".text-name").text(data.name_of_iti);
                    $(".text-type").text(data.type_of_iti);
                    $(".text-location").text(data.location_type);
                    $(".text-mis").text(data.mis_code);
                    $(".text-css").text(data.css_code);
                    $(".text-trades").text(data.trade);
                    $(".text-district").text(data.district);
                    $(".text-taluk").text(data.taluka);
                    $(".text-constituency").text(data.constituency);
                    $(".text-Panchayat").text(data.panchayat);
                    $(".text-village").text(data.village);
                    $(".text-build").text(data.build_up_area);
                    $(".text-address").text(data.address);
                    $(".text-geo").text(data.geo_location);
                    $(".text-email").text(data.email);
                    $(".text-pincode").text(data.Pincode);
                    $(".text-number").text(data.phone_number);
                    $(".text-date").text(data.date);
                    $(".text-unit").text(data.no_units);
                    $(".text-shift").text(data.no_shifts);
                    $(".text-order_no_date").text(data.order_no_date);
                    $(".text-scheme_name").text(data.scheme_name);
                    $(".text-date").text(data.date);
                    $(".text-AfflOrderNo").text(data.AffiliationOrderNo);
                    $(".text-course_name").text(data.course_name);
                    $(".text-website").text(data.Website);
                    $(".text-Division").text(data.division);
                    $(".text-trade_code").text(data.trade_code);
                    $(".text-sector").text(data.sector);
                    $(".text-duration").text(data.duration);
                    $(".text-trade_type").text(data.trade_type);
                    $(".text-batch_size").text(data.batch_size);
                    //$("#Trade_ITI_Id").val(data.trade_iti_id);
                    
                    $("#CollegeID").val(data.iti_college_id);
                    $("#tradeID").val(data.trade_iti_id);
                    $("#TradeShiftId").val(ITI_Trade_Shift_Id);
                    
                    $("#Units").val(data.no_units);
                    $("#Shifts").val(data.no_shifts);
                    
                    $("#IsActiveNew").val(data.IsActiveNew);
                    $(".text-AOrderNo").text(data.ActivateOrderNo);
                    $(".text-DOrderNo").text(data.DeactivateOrderNo);
                    $(".text-Adate").text(data.ActivateDate);
                    $(".text-Ddate").text(data.DeactivateDate);
                    $(".deactivate").text("Upload Deactivate Document");
                    $(".activate").text("Upload activate Document");
                    $(".deactivateOrderlabel").text("Deactivate Order No");
                    $(".activateOrderlabel").text("Activate Order No");
                    $(".DeactiveDoc").text("Deactvation Supporting Document");
                    $(".ActivateDoc").text("Activation Supporting Document");
                    $(".Affiliationdoc").text("Affiliation Supporting Document");
                    $(".DeactiveOrderNo").text("Deactivate Order No");
                    $(".ActiveOrderNo").text("Activate Order No");
                    $(".NewDeactivedate").text("Deactivation date");
                    $(".NewActiveDate").text("Activation Date");
                    if (data.IsActive) {
                        $(".deactivate").show()
                        $("#uploadfile").show()
                        $(".deactivateOrderlabel").show()
                        $("#deactivateOrderNo").show()
                        $(".NewDeactivedate").show()
                        $(".activate").hide()
                        $("#uploadfileactive").hide()
                        $(".DeactiveOrderNo").show()
                        $(".activateOrderlabel").hide()
                        $("#activateOrderNo").hide()
                        $(".NewActiveDate").hide()
                        $(".ActivateDoc").hide()
                        $(".ActiveOrderNo").hide()
                        $(".NewActiveDate").hide()

                    }
                    else {

                        $(".activate").show()
                        $("#uploadfileactive").show()
                        $(".activateOrderlabel").show()
                        $("#activateOrderNo").show()
                        $(".deactivate").hide()
                        $("#uploadfile").hide()
                        $(".deactivateOrderlabel").hide()
                        $("#deactivateOrderNo").hide()

                    }

                    $("#DownloadFileLink").val(data.Activefilepath);
                    $("#AffiliationFileName").text(data.Filename);
                    $(".DeactiveDoc").text("Deactvation Supporting Document");
                    $(".ActivateDoc").text("Activation Supporting Document");
                    $(".Affiliationdoc").text("Affiliation Supporting Document");

                    if (data.Activefilepath == null) {
                        $("#Downloaddeactive").hide();
                        $("#DeactiveDoc").hide();
                    }
                    else {
                        $("#Downloaddeactive").show();
                        $("#DeactiveDoc").show();
                    }
                    //$("#DownloadFileLink3").val(data.FileUploadPath);
                    $("#Downloadffiliationdoc1").empty();
                    var html = "<a class='btn btn-link' href='/Affiliation/DownloadAffiliationDoc?CollegeId=" + data.iti_college_id + "' ><img src='/Content/img/pdf_logo.png' height='40px' width='40px' /></a>"
                    $("#Downloadffiliationdoc1").append(html);

                    $("#DownloadFileLink2").val(data.ActivateFilePath);
                    if (data.ActivateFilePath == null) {
                        $("#Downloadactive").hide();
                        $("#ActivateDoc").hide();
                    }
                    else {
                        $("#Downloadactive").show();
                        $("#ActivateDoc").show();
                    }

                    if (data.IsActive) {

                        $("#Active").hide()
                        $("#DeActive").show()
                    }
                    else {
                        $("#Active").show()
                        $("#DeActive").hide()
                    }

                    var _table = $("#tblViewShift tbody");
                    _table.empty();
                    $.each(data.shifts, function (i) {

                        var _tr = $("<tr/>");
                        _tr.append("<td>" + (i + 1) + "</td>");
                        _tr.append("<td>" + this.Units + "</td");
                        _tr.append("<td>" + this.Shift + "</td>");
                        //_tr.append("<td>" + this.IsPPP + "</td>");
                        //_tr.append("<td>" + this.Dual_System + "</td>");
                        if (this.IsActive) {
                            _tr.append("<td>Active <input type='hidden' class='active_status' value='true' /><input type='hidden' class='shiftId' value='" + this.ITI_Trade_Shift_Id + "' /></td>");

                        }
                        else {
                            //if (this.Status == 5) {
                            //    _tr.append("<td>Pending for Approval <input type='hidden' class='active_status' value='false' /><input type='hidden' class='shiftId' value='" + this.ITI_Trade_Shift_Id + "' /></td>");
                            //}
                            //else {
                            _tr.append("<td>DeActive <input type='hidden' class='active_status' value='false' /><input type='hidden' class='shiftId' value='" + this.ITI_Trade_Shift_Id + "' /></td>");
                            // }

                        }
                        _table.append(_tr);
                    });
                    //GetActiveDeactiveTradeHistory(data.trade_iti_id);


                    if (data.activeDeactiveTradeHistories.length > 0) {
                        $.each(data.activeDeactiveTradeHistories, function (i) {
                            var _tr = $("<tr/>");

                            _tr.append("<td>" + (i + 1) + "</td>");
                            _tr.append("<td>" + data.activeDeactiveTradeHistories[i].date + "</td");
                            _tr.append("<td>" + data.activeDeactiveTradeHistories[i].User + "</td>");
                            _tr.append("<td>" + data.activeDeactiveTradeHistories[i].Flow_user + "</td>");
                            _tr.append("<td>" + data.activeDeactiveTradeHistories[i].ActDeActRemarks + "</td>");
                            _tr.append("<td>" + data.activeDeactiveTradeHistories[i].Status + "</td>");


                            $("#tblHistory tbody").append(_tr);
                        });
                    }

                    
                    if (data.AffiliationDocs.length > 0) {
                        var _table = $("#tblAffiliationDoc tbody");
                        _table.empty();
                        $.each(data.AffiliationDocs, function (i) {

                            var _tr = $("<tr/>");
                            _tr.append("<td>" + (i + 1) + "</td>");
                            _tr.append("<td>" + this.AffiliationOrder_Number + "</td>");
                            _tr.append("<td>" + this.Affiliation_date.split(' ')[0] + "</td>");
                            _tr.append("<td >" + this.FileName + "</td>");
                            _tr.append("<td ><a class='btn btn-link' href='/Affiliation/DownloadAffiliationDoc?CollegeId=" + data.iti_college_id + "&Trade_Id=" + this.Trade_Id + "&shift_id=" + this.Shift + "& flag=" + this.Flag + "' ><img src='/Content/img/pdf_logo.png' height='40px' width='40px' /></a>" + "" + "</td>");
                            //_tr.append("<td >" + this.Status + "</td>");
                            _table.append(_tr);
                        });
                    }

                } else {
                    bootbox.alert("Error occured while loading data")
                }


            }
        });


    }

    function PublishActivedeactiveUnitwise() {
        
        $("#DistrictWiseFilter").show();
        
        var IsValid = true;
        var _Publish_table = $("#tblGridUpdateAffiliation2 tbody");
        var sendObj = [];


        _Publish_table.find("tr").each(function (len) {
            //t.destroy();
            var $tr = $(this);
            var StatusName = $tr.find(".StatusName").val();
            var ITI_Trade_Shift_Id = $tr.find(".ITI_Trade_Shift_Id").val();
            var trade_iti_id = $tr.find(".trade_iti_id").val();

            var obj = {

                StatusName: StatusName,
                ITI_Trade_Shift_Id: ITI_Trade_Shift_Id,
                trade_iti_id: trade_iti_id,

            };
            sendObj.push(obj);
        });
        var finalObj = JSON.stringify({ ViewUnitDetails: sendObj });
        $('#tblGridUpdateAffiliation2').DataTable().destroy();
        $('#tblGridUpdateAffiliation2').DataTable({ "paging": true }).draw(false);
        if (IsValid) {

            bootbox.confirm("<br><br>Are you sure you want to publish the Active-DeActive Trade(s) ?", function (confirmed) {
                if (confirmed) {
                    


                    if (IsValid) {
                        $.ajax({
                            type: 'POST',
                            url: '/Affiliation/PublishActiveDeactiveShift',
                            //contentType: false, // Not to set any content header

                            dataType: 'json',
                            contentType: 'application/json; charset=utf-8',
                            // dataType: 'json',
                            data: finalObj,
                            success: function (result) {

                                if (result) {

                                    bootbox.alert("Active-DeActive trade(s) details published successfully")
                                    
                                    $("#Remarks").val('');
                                    $("#uploadfile").val('');
                                    //GetAllActiveDeactiveRequestDetails();
                                    $("#tblGridUpdateAffiliation_wrapper").show();
                                    $("#Affiliation_view").hide();
                                    fnRefreshScreenDataAct()
                                }
                                else {
                                    bootbox.alert("failed")
                                }
                            }
                        });
                    }
                }
            });
        }
    }
    function fnRefreshScreenDataAct() {
        var url = '/Affiliation/ActiveDeactiveShift';
        window.location.replace(url);
    }
    function GetAllActiveDeactiveTradeApprovedDetails() {
        
        $.ajax({
            type: 'Get',
            url: '/Affiliation/GetActiveDeactiveDetailsAD',
            success: function (data) {

                var index = 1;
                if (data.length > 0) {

                    var t = $('#tblGridUpdateAffiliation2').DataTable({
                        data: data.aplist,
                        "destroy": true,
                        "bSort": true,
                        columns: [
                            { 'data': 'Slno', 'title': 'Slno', 'className': '' },
                            { 'data': 'date', 'title': 'MIS ITI Code', 'className': '' },
                            { 'data': 'miscode', 'title': 'Institute Name', 'className': 'text-left' },
                            { 'data': 'iti_college', 'title': 'Course Type', 'className': '' },
                            { 'data': 'CourseType', 'title': 'Division', 'className': '' },
                            { 'data': 'college_Address', 'title': 'District', 'className': '' },
                            { 'data': 'Division', 'title': 'Trades', 'className': 'text-left' },
                            { 'data': 'District', 'title': 'Units', 'className': 'text-left' },
                            { 'data': 'trades', 'title': 'Shift', 'className': 'text-left' },
                            { 'data': 'units', 'title': 'District', 'className': '' },
                            { 'data': 'Shifts', 'title': 'Trades', 'className': 'text-left' },
                            {
                                'data': 'IsActive', 'title': 'Unit Status',
                                render: function (data, type, row) {
                                    if (row.IsActiveTr == true) {
                                        return "<input type='text' id='Active_160' value='Active' class='form - control' readonly='readonly'>"
                                    }
                                    else {
                                        return "<input type='text' id='Active_160' value='De-ACtive' class='form - control' readonly='readonly'>"
                                    }
                                }
                            },
                            {
                                'data': 'IsActive', 'title': 'Trade Current Status',
                                render: function (data, type, row) {
                                    if (row.IsActive == true) {
                                        return "<input type='text' id='Active_160' value='Active' class='form - control' readonly='readonly'>"
                                    }
                                    else {
                                        return "<input type='text' id='Active_160' value='De-ACtive' class='form - control' readonly='readonly'>"
                                    }
                                }
                            },
                            {
                                'data': 'FileUploadPath',
                                render: function (data, type, row) {

                                    return "<input type='button' class='btn btn-primary' img='' src='/Content/img/pencil2.png' id='Active_" + row.ITI_Trade_Shift_Id + "' value='View' onclick='ViewTradeforactivedeactiveUnitwiseOS(" + row.ITI_Trade_Shift_Id + ")'>"


                                }
                            }


                        ],
                        "columnDefs": [{
                            "render": function (data, type, full, meta) {

                                return index++;
                            },
                            "targets": 0
                        }],
                    });
                    t.on('order.dt search.dt', function () {
                        t.column(0, { search: 'applied', order: 'applied' }).nodes().each(function (cell, i) {
                            cell.innerHTML = i + 1;
                        });
                    }).draw();
                }
                else {
                    //alert("No data found!")
                    $('#tblGridUpdateAffiliation1').DataTable().clear().draw();
                }

            }, error: function (result) {
                bootbox.alert("Error", "something went wrong");
            }
        });
    }
    $(function () {
        
        $(".date").datepicker({
            dateFormat: 'dd-mm-yy',
            yearRange: "-60:+0",
            changeMonth: true,
            changeYear: true
        });
    });
    function cancelUpdateITIInstitute() {
        $('#CourseTypes').val('');
        $('#Divisions').val('');
        $('#Districts').val('');
        //$('#Trades').val('choose');

    }

    function ExcelExportTentative() {
        
        var today = new Date();
        var dd = String(today.getDate()).padStart(2, '0');
        var mm = String(today.getMonth() + 1).padStart(2, '0');
        var yyyy = today.getFullYear();
        today = dd + '/' + mm + '/' + yyyy;
        $('#tblGridUpdateAffiliation2').DataTable().destroy();
        $('#tblGridUpdateAffiliation2').DataTable({ "paging": false }).draw(false);
        $("#tblGridUpdateAffiliation2").table2excel({
            filename: "ViewActive/DeactiveTrade" + today + ".xls",
        });
        $('#tblGridUpdateAffiliation2').DataTable().destroy();
        $('#tblGridUpdateAffiliation2').DataTable({ "paging": true }).draw(false);
    }
</script>
<script src="~/Scripts/table2excel.js"></script>